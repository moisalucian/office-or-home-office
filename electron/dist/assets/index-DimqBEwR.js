(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=s(o);fetch(o.href,f)}})();var ef={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function O0(){if(fg)return sl;fg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(l,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:a,type:l,key:h,ref:o!==void 0?o:null,props:f}}return sl.Fragment=n,sl.jsx=s,sl.jsxs=s,sl}var hg;function x0(){return hg||(hg=1,ef.exports=O0()),ef.exports}var E=x0(),tf={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function M0(){if(dg)return ie;dg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function w(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,$={};function ne(b,L,P){this.props=b,this.context=L,this.refs=$,this.updater=P||k}ne.prototype.isReactComponent={},ne.prototype.setState=function(b,L){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,L,"setState")},ne.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function ze(){}ze.prototype=ne.prototype;function He(b,L,P){this.props=b,this.context=L,this.refs=$,this.updater=P||k}var le=He.prototype=new ze;le.constructor=He,H(le,ne.prototype),le.isPureReactComponent=!0;var tt=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},Ye=Object.prototype.hasOwnProperty;function Qe(b,L,P,j,Q,de){return P=de.ref,{$$typeof:a,type:b,key:L,ref:P!==void 0?P:null,props:de}}function ft(b,L){return Qe(b.type,L,void 0,void 0,void 0,b.props)}function nt(b){return typeof b=="object"&&b!==null&&b.$$typeof===a}function Se(b){var L={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(P){return L[P]})}var Mt=/\/+/g;function Le(b,L){return typeof b=="object"&&b!==null&&b.key!=null?Se(""+b.key):L.toString(36)}function yn(){}function ln(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(yn,yn):(b.status="pending",b.then(function(L){b.status==="pending"&&(b.status="fulfilled",b.value=L)},function(L){b.status==="pending"&&(b.status="rejected",b.reason=L)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function Ze(b,L,P,j,Q){var de=typeof b;(de==="undefined"||de==="boolean")&&(b=null);var ee=!1;if(b===null)ee=!0;else switch(de){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(b.$$typeof){case a:case n:ee=!0;break;case v:return ee=b._init,Ze(ee(b._payload),L,P,j,Q)}}if(ee)return Q=Q(b),ee=j===""?"."+Le(b,0):j,tt(Q)?(P="",ee!=null&&(P=ee.replace(Mt,"$&/")+"/"),Ze(Q,L,P,"",function(rn){return rn})):Q!=null&&(nt(Q)&&(Q=ft(Q,P+(Q.key==null||b&&b.key===Q.key?"":(""+Q.key).replace(Mt,"$&/")+"/")+ee)),L.push(Q)),1;ee=0;var je=j===""?".":j+":";if(tt(b))for(var Oe=0;Oe<b.length;Oe++)j=b[Oe],de=je+Le(j,Oe),ee+=Ze(j,L,P,de,Q);else if(Oe=w(b),typeof Oe=="function")for(b=Oe.call(b),Oe=0;!(j=b.next()).done;)j=j.value,de=je+Le(j,Oe++),ee+=Ze(j,L,P,de,Q);else if(de==="object"){if(typeof b.then=="function")return Ze(ln(b),L,P,j,Q);throw L=String(b),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ee}function O(b,L,P){if(b==null)return b;var j=[],Q=0;return Ze(b,j,"","",function(de){return L.call(P,de,Q++)}),j}function B(b){if(b._status===-1){var L=b._result;L=L(),L.then(function(P){(b._status===0||b._status===-1)&&(b._status=1,b._result=P)},function(P){(b._status===0||b._status===-1)&&(b._status=2,b._result=P)}),b._status===-1&&(b._status=0,b._result=L)}if(b._status===1)return b._result.default;throw b._result}var X=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function Ee(){}return ie.Children={map:O,forEach:function(b,L,P){O(b,function(){L.apply(this,arguments)},P)},count:function(b){var L=0;return O(b,function(){L++}),L},toArray:function(b){return O(b,function(L){return L})||[]},only:function(b){if(!nt(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},ie.Component=ne,ie.Fragment=s,ie.Profiler=o,ie.PureComponent=He,ie.StrictMode=l,ie.Suspense=p,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,ie.__COMPILER_RUNTIME={__proto__:null,c:function(b){return te.H.useMemoCache(b)}},ie.cache=function(b){return function(){return b.apply(null,arguments)}},ie.cloneElement=function(b,L,P){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var j=H({},b.props),Q=b.key,de=void 0;if(L!=null)for(ee in L.ref!==void 0&&(de=void 0),L.key!==void 0&&(Q=""+L.key),L)!Ye.call(L,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&L.ref===void 0||(j[ee]=L[ee]);var ee=arguments.length-2;if(ee===1)j.children=P;else if(1<ee){for(var je=Array(ee),Oe=0;Oe<ee;Oe++)je[Oe]=arguments[Oe+2];j.children=je}return Qe(b.type,Q,void 0,void 0,de,j)},ie.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},ie.createElement=function(b,L,P){var j,Q={},de=null;if(L!=null)for(j in L.key!==void 0&&(de=""+L.key),L)Ye.call(L,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(Q[j]=L[j]);var ee=arguments.length-2;if(ee===1)Q.children=P;else if(1<ee){for(var je=Array(ee),Oe=0;Oe<ee;Oe++)je[Oe]=arguments[Oe+2];Q.children=je}if(b&&b.defaultProps)for(j in ee=b.defaultProps,ee)Q[j]===void 0&&(Q[j]=ee[j]);return Qe(b,de,void 0,void 0,null,Q)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(b){return{$$typeof:m,render:b}},ie.isValidElement=nt,ie.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:B}},ie.memo=function(b,L){return{$$typeof:g,type:b,compare:L===void 0?null:L}},ie.startTransition=function(b){var L=te.T,P={};te.T=P;try{var j=b(),Q=te.S;Q!==null&&Q(P,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(Ee,X)}catch(de){X(de)}finally{te.T=L}},ie.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},ie.use=function(b){return te.H.use(b)},ie.useActionState=function(b,L,P){return te.H.useActionState(b,L,P)},ie.useCallback=function(b,L){return te.H.useCallback(b,L)},ie.useContext=function(b){return te.H.useContext(b)},ie.useDebugValue=function(){},ie.useDeferredValue=function(b,L){return te.H.useDeferredValue(b,L)},ie.useEffect=function(b,L,P){var j=te.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(b,L)},ie.useId=function(){return te.H.useId()},ie.useImperativeHandle=function(b,L,P){return te.H.useImperativeHandle(b,L,P)},ie.useInsertionEffect=function(b,L){return te.H.useInsertionEffect(b,L)},ie.useLayoutEffect=function(b,L){return te.H.useLayoutEffect(b,L)},ie.useMemo=function(b,L){return te.H.useMemo(b,L)},ie.useOptimistic=function(b,L){return te.H.useOptimistic(b,L)},ie.useReducer=function(b,L,P){return te.H.useReducer(b,L,P)},ie.useRef=function(b){return te.H.useRef(b)},ie.useState=function(b){return te.H.useState(b)},ie.useSyncExternalStore=function(b,L,P){return te.H.useSyncExternalStore(b,L,P)},ie.useTransition=function(){return te.H.useTransition()},ie.version="19.1.0",ie}var mg;function Bf(){return mg||(mg=1,tf.exports=M0()),tf.exports}var V=Bf(),nf={exports:{}},al={},sf={exports:{}},af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function I0(){return pg||(pg=1,function(a){function n(O,B){var X=O.length;O.push(B);e:for(;0<X;){var Ee=X-1>>>1,b=O[Ee];if(0<o(b,B))O[Ee]=B,O[X]=b,X=Ee;else break e}}function s(O){return O.length===0?null:O[0]}function l(O){if(O.length===0)return null;var B=O[0],X=O.pop();if(X!==B){O[0]=X;e:for(var Ee=0,b=O.length,L=b>>>1;Ee<L;){var P=2*(Ee+1)-1,j=O[P],Q=P+1,de=O[Q];if(0>o(j,X))Q<b&&0>o(de,j)?(O[Ee]=de,O[Q]=X,Ee=Q):(O[Ee]=j,O[P]=X,Ee=P);else if(Q<b&&0>o(de,X))O[Ee]=de,O[Q]=X,Ee=Q;else break e}}return B}function o(O,B){var X=O.sortIndex-B.sortIndex;return X!==0?X:O.id-B.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,S=null,w=3,k=!1,H=!1,$=!1,ne=!1,ze=typeof setTimeout=="function"?setTimeout:null,He=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function tt(O){for(var B=s(g);B!==null;){if(B.callback===null)l(g);else if(B.startTime<=O)l(g),B.sortIndex=B.expirationTime,n(p,B);else break;B=s(g)}}function te(O){if($=!1,tt(O),!H)if(s(p)!==null)H=!0,Ye||(Ye=!0,Le());else{var B=s(g);B!==null&&Ze(te,B.startTime-O)}}var Ye=!1,Qe=-1,ft=5,nt=-1;function Se(){return ne?!0:!(a.unstable_now()-nt<ft)}function Mt(){if(ne=!1,Ye){var O=a.unstable_now();nt=O;var B=!0;try{e:{H=!1,$&&($=!1,He(Qe),Qe=-1),k=!0;var X=w;try{t:{for(tt(O),S=s(p);S!==null&&!(S.expirationTime>O&&Se());){var Ee=S.callback;if(typeof Ee=="function"){S.callback=null,w=S.priorityLevel;var b=Ee(S.expirationTime<=O);if(O=a.unstable_now(),typeof b=="function"){S.callback=b,tt(O),B=!0;break t}S===s(p)&&l(p),tt(O)}else l(p);S=s(p)}if(S!==null)B=!0;else{var L=s(g);L!==null&&Ze(te,L.startTime-O),B=!1}}break e}finally{S=null,w=X,k=!1}B=void 0}}finally{B?Le():Ye=!1}}}var Le;if(typeof le=="function")Le=function(){le(Mt)};else if(typeof MessageChannel<"u"){var yn=new MessageChannel,ln=yn.port2;yn.port1.onmessage=Mt,Le=function(){ln.postMessage(null)}}else Le=function(){ze(Mt,0)};function Ze(O,B){Qe=ze(function(){O(a.unstable_now())},B)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(O){switch(w){case 1:case 2:case 3:var B=3;break;default:B=w}var X=w;w=B;try{return O()}finally{w=X}},a.unstable_requestPaint=function(){ne=!0},a.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var X=w;w=O;try{return B()}finally{w=X}},a.unstable_scheduleCallback=function(O,B,X){var Ee=a.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Ee+X:Ee):X=Ee,O){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=X+b,O={id:v++,callback:B,priorityLevel:O,startTime:X,expirationTime:b,sortIndex:-1},X>Ee?(O.sortIndex=X,n(g,O),s(p)===null&&O===s(g)&&($?(He(Qe),Qe=-1):$=!0,Ze(te,X-Ee))):(O.sortIndex=b,n(p,O),H||k||(H=!0,Ye||(Ye=!0,Le()))),O},a.unstable_shouldYield=Se,a.unstable_wrapCallback=function(O){var B=w;return function(){var X=w;w=B;try{return O.apply(this,arguments)}finally{w=X}}}}(af)),af}var gg;function U0(){return gg||(gg=1,sf.exports=I0()),sf.exports}var lf={exports:{}},yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function L0(){if(_g)return yt;_g=1;var a=Bf();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(p,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:v}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,yt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(p,g,null,v)},yt.flushSync=function(p){var g=h.T,v=l.p;try{if(h.T=null,l.p=2,p)return p()}finally{h.T=g,l.p=v,l.d.f()}},yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(p,g))},yt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,S=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?l.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:k}):v==="script"&&l.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);l.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(p)},yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=m(v,g.crossOrigin);l.d.L(p,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);l.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(p)},yt.requestFormReset=function(p){l.d.r(p)},yt.unstable_batchedUpdates=function(p,g){return p(g)},yt.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},yt.version="19.1.0",yt}var yg;function k0(){if(yg)return lf.exports;yg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),lf.exports=L0(),lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function z0(){if(vg)return al;vg=1;var a=U0(),n=Bf(),s=k0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(l(188));return t!==e?null:e}for(var i=e,r=t;;){var u=i.return;if(u===null)break;var c=u.alternate;if(c===null){if(r=u.return,r!==null){i=r;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===i)return m(u),e;if(c===r)return m(u),t;c=c.sibling}throw Error(l(188))}if(i.return!==r.return)i=u,r=c;else{for(var d=!1,_=u.child;_;){if(_===i){d=!0,i=u,r=c;break}if(_===r){d=!0,r=u,i=c;break}_=_.sibling}if(!d){for(_=c.child;_;){if(_===i){d=!0,i=c,r=u;break}if(_===r){d=!0,r=c,i=u;break}_=_.sibling}if(!d)throw Error(l(189))}}if(i.alternate!==r)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ze=Symbol.for("react.provider"),He=Symbol.for("react.consumer"),le=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),Qe=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),nt=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),Mt=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=Mt&&e[Mt]||e["@@iterator"],typeof e=="function"?e:null)}var yn=Symbol.for("react.client.reference");function ln(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===yn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case ne:return"Profiler";case $:return"StrictMode";case te:return"Suspense";case Ye:return"SuspenseList";case nt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case le:return(e.displayName||"Context")+".Provider";case He:return(e._context.displayName||"Context")+".Consumer";case tt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qe:return t=e.displayName||null,t!==null?t:ln(e.type)||"Memo";case ft:t=e._payload,e=e._init;try{return ln(e(t))}catch{}}return null}var Ze=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},Ee=[],b=-1;function L(e){return{current:e}}function P(e){0>b||(e.current=Ee[b],Ee[b]=null,b--)}function j(e,t){b++,Ee[b]=e.current,e.current=t}var Q=L(null),de=L(null),ee=L(null),je=L(null);function Oe(e,t){switch(j(ee,t),j(de,e),j(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?jp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=jp(t),e=Bp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(Q),j(Q,e)}function rn(){P(Q),P(de),P(ee)}function es(e){e.memoizedState!==null&&j(je,e);var t=Q.current,i=Bp(t,e.type);t!==i&&(j(de,e),j(Q,i))}function ts(e){de.current===e&&(P(Q),P(de)),je.current===e&&(P(je),$a._currentValue=X)}var oa=Object.prototype.hasOwnProperty,Xe=a.unstable_scheduleCallback,ua=a.unstable_cancelCallback,jo=a.unstable_shouldYield,Bo=a.unstable_requestPaint,Bt=a.unstable_now,Po=a.unstable_getCurrentPriorityLevel,jl=a.unstable_ImmediatePriority,on=a.unstable_UserBlockingPriority,Ei=a.unstable_NormalPriority,Zt=a.unstable_LowPriority,Bl=a.unstable_IdlePriority,Pl=a.log,Vl=a.unstable_setDisableYieldValue,Vn=null,ht=null;function un(e){if(typeof Pl=="function"&&Vl(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(Vn,e)}catch{}}var St=Math.clz32?Math.clz32:Go,Vo=Math.log,qo=Math.LN2;function Go(e){return e>>>=0,e===0?32:31-(Vo(e)/qo|0)|0}var ns=256,is=4194304;function vn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bi(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var u=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~c,r!==0?u=vn(r):(d&=_,d!==0?u=vn(d):i||(i=_&~e,i!==0&&(u=vn(i))))):(_=r&~c,_!==0?u=vn(_):d!==0?u=vn(d):i||(i=r&~e,i!==0&&(u=vn(i)))),u===0?0:t!==0&&t!==u&&(t&c)===0&&(c=u&-u,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:u}function Ti(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Yo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ql(){var e=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),e}function Gl(){var e=is;return is<<=1,(is&62914560)===0&&(is=4194304),e}function ss(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function wi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function U(e,t,i,r,u,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,y=e.expirationTimes,N=e.hiddenUpdates;for(i=d&~i;0<i;){var x=31-St(i),I=1<<x;_[x]=0,y[x]=-1;var R=N[x];if(R!==null)for(N[x]=null,x=0;x<R.length;x++){var D=R[x];D!==null&&(D.lane&=-536870913)}i&=~I}r!==0&&q(e,r,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function q(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-St(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&4194090}function se(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-St(i),u=1<<r;u&t|e[r]&t&&(e[r]|=t),i&=~u}}function W(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function me(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function it(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:ag(e.type))}function Ci(e,t){var i=B.p;try{return B.p=e,t()}finally{B.p=i}}var Tt=Math.random().toString(36).slice(2),gt="__reactFiber$"+Tt,wt="__reactProps$"+Tt,as="__reactContainer$"+Tt,Qo="__reactEvents$"+Tt,Sv="__reactListeners$"+Tt,Ev="__reactHandles$"+Tt,Nh="__reactResources$"+Tt,ca="__reactMarker$"+Tt;function Xo(e){delete e[gt],delete e[wt],delete e[Qo],delete e[Sv],delete e[Ev]}function ls(e){var t=e[gt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[as]||i[gt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Gp(e);e!==null;){if(i=e[gt])return i;e=Gp(e)}return t}e=i,i=e.parentNode}return null}function rs(e){if(e=e[gt]||e[as]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function fa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function os(e){var t=e[Nh];return t||(t=e[Nh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[ca]=!0}var Rh=new Set,Dh={};function Ai(e,t){us(e,t),us(e+"Capture",t)}function us(e,t){for(Dh[e]=t,e=0;e<t.length;e++)Rh.add(t[e])}var bv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oh={},xh={};function Tv(e){return oa.call(xh,e)?!0:oa.call(Oh,e)?!1:bv.test(e)?xh[e]=!0:(Oh[e]=!0,!1)}function Yl(e,t,i){if(Tv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Ql(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Sn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}var Ko,Mh;function cs(e){if(Ko===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ko=t&&t[1]||"",Mh=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ko+e+Mh}var Fo=!1;function Zo(e,t){if(!e||Fo)return"";Fo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(D){var R=D}Reflect.construct(e,[],I)}else{try{I.call()}catch(D){R=D}e.call(I.prototype)}}else{try{throw Error()}catch(D){R=D}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=r.DetermineComponentFrameRoot(),d=c[0],_=c[1];if(d&&_){var y=d.split(`
`),N=_.split(`
`);for(u=r=0;r<y.length&&!y[r].includes("DetermineComponentFrameRoot");)r++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(r===y.length||u===N.length)for(r=y.length-1,u=N.length-1;1<=r&&0<=u&&y[r]!==N[u];)u--;for(;1<=r&&0<=u;r--,u--)if(y[r]!==N[u]){if(r!==1||u!==1)do if(r--,u--,0>u||y[r]!==N[u]){var x=`
`+y[r].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=r&&0<=u);break}}}finally{Fo=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?cs(i):""}function wv(e){switch(e.tag){case 26:case 27:case 5:return cs(e.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 15:return Zo(e.type,!1);case 11:return Zo(e.type.render,!1);case 1:return Zo(e.type,!0);case 31:return cs("Activity");default:return""}}function Ih(e){try{var t="";do t+=wv(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cv(e){var t=Uh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){r=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xl(e){e._valueTracker||(e._valueTracker=Cv(e))}function Lh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=Uh(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function Kl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Av=/[\n"\\]/g;function Vt(e){return e.replace(Av,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Wo(e,t,i,r,u,c,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Pt(t)):e.value!==""+Pt(t)&&(e.value=""+Pt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Jo(e,d,Pt(t)):i!=null?Jo(e,d,Pt(i)):r!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Pt(_):e.removeAttribute("name")}function kh(e,t,i,r,u,c,d,_){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;i=i!=null?""+Pt(i):"",t=t!=null?""+Pt(t):i,_||t===e.value||(e.value=t),e.defaultValue=t}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function Jo(e,t,i){t==="number"&&Kl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function fs(e,t,i,r){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&r&&(e[i].defaultSelected=!0)}else{for(i=""+Pt(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function zh(e,t,i){if(t!=null&&(t=""+Pt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Pt(i):""}function Hh(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(l(92));if(Ze(r)){if(1<r.length)throw Error(l(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=Pt(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r)}function hs(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Nv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jh(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||Nv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Bh(e,t,i){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in t)r=t[u],t.hasOwnProperty(u)&&i[u]!==r&&jh(e,u,r)}else for(var c in t)t.hasOwnProperty(c)&&jh(e,c,t[c])}function $o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fl(e){return Dv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var eu=null;function tu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,ms=null;function Ph(e){var t=rs(e);if(t&&(e=t.stateNode)){var i=e[wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Wo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Vt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var u=r[wt]||null;if(!u)throw Error(l(90));Wo(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&Lh(r)}break e;case"textarea":zh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&fs(e,!!i.multiple,t,!1)}}}var nu=!1;function Vh(e,t,i){if(nu)return e(t,i);nu=!0;try{var r=e(t);return r}finally{if(nu=!1,(ds!==null||ms!==null)&&(Ur(),ds&&(t=ds,e=ms,ms=ds=null,Ph(t),e)))for(t=0;t<e.length;t++)Ph(e[t])}}function ha(e,t){var i=e.stateNode;if(i===null)return null;var r=i[wt]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(l(231,t,typeof i));return i}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=!1;if(En)try{var da={};Object.defineProperty(da,"passive",{get:function(){iu=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{iu=!1}var qn=null,su=null,Zl=null;function qh(){if(Zl)return Zl;var e,t=su,i=t.length,r,u="value"in qn?qn.value:qn.textContent,c=u.length;for(e=0;e<i&&t[e]===u[e];e++);var d=i-e;for(r=1;r<=d&&t[i-r]===u[c-r];r++);return Zl=u.slice(e,1<r?1-r:void 0)}function Wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jl(){return!0}function Gh(){return!1}function Ct(e){function t(i,r,u,c,d){this._reactName=i,this._targetInst=u,this.type=r,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(c):c[_]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Jl:Gh,this.isPropagationStopped=Gh,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),t}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=Ct(Ni),ma=v({},Ni,{view:0,detail:0}),Ov=Ct(ma),au,lu,pa,er=v({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ou,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pa&&(pa&&e.type==="mousemove"?(au=e.screenX-pa.screenX,lu=e.screenY-pa.screenY):lu=au=0,pa=e),au)},movementY:function(e){return"movementY"in e?e.movementY:lu}}),Yh=Ct(er),xv=v({},er,{dataTransfer:0}),Mv=Ct(xv),Iv=v({},ma,{relatedTarget:0}),ru=Ct(Iv),Uv=v({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Lv=Ct(Uv),kv=v({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zv=Ct(kv),Hv=v({},Ni,{data:0}),Qh=Ct(Hv),jv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pv[e])?!!t[e]:!1}function ou(){return Vv}var qv=v({},ma,{key:function(e){if(e.key){var t=jv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ou,charCode:function(e){return e.type==="keypress"?Wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gv=Ct(qv),Yv=v({},er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xh=Ct(Yv),Qv=v({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ou}),Xv=Ct(Qv),Kv=v({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fv=Ct(Kv),Zv=v({},er,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wv=Ct(Zv),Jv=v({},Ni,{newState:0,oldState:0}),$v=Ct(Jv),eS=[9,13,27,32],uu=En&&"CompositionEvent"in window,ga=null;En&&"documentMode"in document&&(ga=document.documentMode);var tS=En&&"TextEvent"in window&&!ga,Kh=En&&(!uu||ga&&8<ga&&11>=ga),Fh=" ",Zh=!1;function Wh(e,t){switch(e){case"keyup":return eS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ps=!1;function nS(e,t){switch(e){case"compositionend":return Jh(t);case"keypress":return t.which!==32?null:(Zh=!0,Fh);case"textInput":return e=t.data,e===Fh&&Zh?null:e;default:return null}}function iS(e,t){if(ps)return e==="compositionend"||!uu&&Wh(e,t)?(e=qh(),Zl=su=qn=null,ps=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kh&&t.locale!=="ko"?null:t.data;default:return null}}var sS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $h(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sS[e.type]:t==="textarea"}function ed(e,t,i,r){ds?ms?ms.push(r):ms=[r]:ds=r,t=Br(t,"onChange"),0<t.length&&(i=new $l("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var _a=null,ya=null;function aS(e){Up(e,0)}function tr(e){var t=fa(e);if(Lh(t))return e}function td(e,t){if(e==="change")return t}var nd=!1;if(En){var cu;if(En){var fu="oninput"in document;if(!fu){var id=document.createElement("div");id.setAttribute("oninput","return;"),fu=typeof id.oninput=="function"}cu=fu}else cu=!1;nd=cu&&(!document.documentMode||9<document.documentMode)}function sd(){_a&&(_a.detachEvent("onpropertychange",ad),ya=_a=null)}function ad(e){if(e.propertyName==="value"&&tr(ya)){var t=[];ed(t,ya,e,tu(e)),Vh(aS,t)}}function lS(e,t,i){e==="focusin"?(sd(),_a=t,ya=i,_a.attachEvent("onpropertychange",ad)):e==="focusout"&&sd()}function rS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tr(ya)}function oS(e,t){if(e==="click")return tr(t)}function uS(e,t){if(e==="input"||e==="change")return tr(t)}function cS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:cS;function va(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var u=i[r];if(!oa.call(t,u)||!It(e[u],t[u]))return!1}return!0}function ld(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rd(e,t){var i=ld(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ld(i)}}function od(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?od(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ud(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Kl(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Kl(e.document)}return t}function hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var fS=En&&"documentMode"in document&&11>=document.documentMode,gs=null,du=null,Sa=null,mu=!1;function cd(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;mu||gs==null||gs!==Kl(r)||(r=gs,"selectionStart"in r&&hu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sa&&va(Sa,r)||(Sa=r,r=Br(du,"onSelect"),0<r.length&&(t=new $l("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=gs)))}function Ri(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var _s={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},pu={},fd={};En&&(fd=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Di(e){if(pu[e])return pu[e];if(!_s[e])return e;var t=_s[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in fd)return pu[e]=t[i];return e}var hd=Di("animationend"),dd=Di("animationiteration"),md=Di("animationstart"),hS=Di("transitionrun"),dS=Di("transitionstart"),mS=Di("transitioncancel"),pd=Di("transitionend"),gd=new Map,gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gu.push("scrollEnd");function Wt(e,t){gd.set(e,t),Ai(t,[e])}var _d=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var i=_d.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Ih(t)},_d.set(e,t),t)}return{value:e,source:t,stack:Ih(t)}}var Gt=[],ys=0,_u=0;function nr(){for(var e=ys,t=_u=ys=0;t<e;){var i=Gt[t];Gt[t++]=null;var r=Gt[t];Gt[t++]=null;var u=Gt[t];Gt[t++]=null;var c=Gt[t];if(Gt[t++]=null,r!==null&&u!==null){var d=r.pending;d===null?u.next=u:(u.next=d.next,d.next=u),r.pending=u}c!==0&&yd(i,u,c)}}function ir(e,t,i,r){Gt[ys++]=e,Gt[ys++]=t,Gt[ys++]=i,Gt[ys++]=r,_u|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function yu(e,t,i,r){return ir(e,t,i,r),sr(e)}function vs(e,t){return ir(e,null,null,t),sr(e)}function yd(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var u=!1,c=e.return;c!==null;)c.childLanes|=i,r=c.alternate,r!==null&&(r.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,u&&t!==null&&(u=31-St(i),e=c.hiddenUpdates,r=e[u],r===null?e[u]=[t]:r.push(t),t.lane=i|536870912),c):null}function sr(e){if(50<Ya)throw Ya=0,wc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ss={};function pS(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,i,r){return new pS(e,t,i,r)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bn(e,t){var i=e.alternate;return i===null?(i=Ut(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function vd(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ar(e,t,i,r,u,c){var d=0;if(r=e,typeof e=="function")vu(e)&&(d=1);else if(typeof e=="string")d=_0(e,i,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case nt:return e=Ut(31,i,t,u),e.elementType=nt,e.lanes=c,e;case H:return Oi(i.children,u,c,t);case $:d=8,u|=24;break;case ne:return e=Ut(12,i,t,u|2),e.elementType=ne,e.lanes=c,e;case te:return e=Ut(13,i,t,u),e.elementType=te,e.lanes=c,e;case Ye:return e=Ut(19,i,t,u),e.elementType=Ye,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ze:case le:d=10;break e;case He:d=9;break e;case tt:d=11;break e;case Qe:d=14;break e;case ft:d=16,r=null;break e}d=29,i=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=Ut(d,i,t,u),t.elementType=e,t.type=r,t.lanes=c,t}function Oi(e,t,i,r){return e=Ut(7,e,r,t),e.lanes=i,e}function Su(e,t,i){return e=Ut(6,e,null,t),e.lanes=i,e}function Eu(e,t,i){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Es=[],bs=0,lr=null,rr=0,Yt=[],Qt=0,xi=null,Tn=1,wn="";function Mi(e,t){Es[bs++]=rr,Es[bs++]=lr,lr=e,rr=t}function Sd(e,t,i){Yt[Qt++]=Tn,Yt[Qt++]=wn,Yt[Qt++]=xi,xi=e;var r=Tn;e=wn;var u=32-St(r)-1;r&=~(1<<u),i+=1;var c=32-St(t)+u;if(30<c){var d=u-u%5;c=(r&(1<<d)-1).toString(32),r>>=d,u-=d,Tn=1<<32-St(t)+u|i<<u|r,wn=c+e}else Tn=1<<c|i<<u|r,wn=e}function bu(e){e.return!==null&&(Mi(e,1),Sd(e,1,0))}function Tu(e){for(;e===lr;)lr=Es[--bs],Es[bs]=null,rr=Es[--bs],Es[bs]=null;for(;e===xi;)xi=Yt[--Qt],Yt[Qt]=null,wn=Yt[--Qt],Yt[Qt]=null,Tn=Yt[--Qt],Yt[Qt]=null}var Et=null,Be=null,ye=!1,Ii=null,cn=!1,wu=Error(l(519));function Ui(e){var t=Error(l(418,""));throw Ta(qt(t,e)),wu}function Ed(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[gt]=e,t[wt]=r,i){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(i=0;i<Xa.length;i++)fe(Xa[i],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),kh(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Xl(t);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),Hh(t,r.value,r.defaultValue,r.children),Xl(t)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||Hp(t.textContent,i)?(r.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),r.onScroll!=null&&fe("scroll",t),r.onScrollEnd!=null&&fe("scrollend",t),r.onClick!=null&&(t.onclick=Pr),t=!0):t=!1,t||Ui(e)}function bd(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:Et=Et.return}}function Ea(e){if(e!==Et)return!1;if(!ye)return bd(e),ye=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Bc(e.type,e.memoizedProps)),i=!i),i&&Be&&Ui(e),bd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Be=$t(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Be=null}}else t===27?(t=Be,ai(e.type)?(e=Gc,Gc=null,Be=e):Be=t):Be=Et?$t(e.stateNode.nextSibling):null;return!0}function ba(){Be=Et=null,ye=!1}function Td(){var e=Ii;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),Ii=null),e}function Ta(e){Ii===null?Ii=[e]:Ii.push(e)}var Cu=L(null),Li=null,Cn=null;function Gn(e,t,i){j(Cu,t._currentValue),t._currentValue=i}function An(e){e._currentValue=Cu.current,P(Cu)}function Au(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Nu(e,t,i,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var d=u.child;c=c.firstContext;e:for(;c!==null;){var _=c;c=u;for(var y=0;y<t.length;y++)if(_.context===t[y]){c.lanes|=i,_=c.alternate,_!==null&&(_.lanes|=i),Au(c.return,i,e),r||(d=null);break e}c=_.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(l(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),Au(d,i,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function wa(e,t,i,r){e=null;for(var u=t,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var _=u.type;It(u.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(u===je.current){if(d=u.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push($a):e=[$a])}u=u.return}e!==null&&Nu(t,e,i,r),t.flags|=262144}function or(e){for(e=e.firstContext;e!==null;){if(!It(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){Li=e,Cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return wd(Li,e)}function ur(e,t){return Li===null&&ki(e),wd(e,t)}function wd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Cn===null){if(e===null)throw Error(l(308));Cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Cn=Cn.next=t;return i}var gS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},_S=a.unstable_scheduleCallback,yS=a.unstable_NormalPriority,We={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ru(){return{controller:new gS,data:new Map,refCount:0}}function Ca(e){e.refCount--,e.refCount===0&&_S(yS,function(){e.controller.abort()})}var Aa=null,Du=0,Ts=0,ws=null;function vS(e,t){if(Aa===null){var i=Aa=[];Du=0,Ts=xc(),ws={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Du++,t.then(Cd,Cd),t}function Cd(){if(--Du===0&&Aa!==null){ws!==null&&(ws.status="fulfilled");var e=Aa;Aa=null,Ts=0,ws=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function SS(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(r.status="rejected",r.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),r}var Ad=O.S;O.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&vS(e,t),Ad!==null&&Ad(e,t)};var zi=L(null);function Ou(){var e=zi.current;return e!==null?e:xe.pooledCache}function cr(e,t){t===null?j(zi,zi.current):j(zi,t.pool)}function Nd(){var e=Ou();return e===null?null:{parent:We._currentValue,pool:e}}var Na=Error(l(460)),Rd=Error(l(474)),fr=Error(l(542)),xu={then:function(){}};function Dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hr(){}function Od(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(hr,hr),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Md(e),e;default:if(typeof t.status=="string")t.then(hr,hr);else{if(e=xe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=r}},function(r){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Md(e),e}throw Ra=t,Na}}var Ra=null;function xd(){if(Ra===null)throw Error(l(459));var e=Ra;return Ra=null,e}function Md(e){if(e===Na||e===fr)throw Error(l(483))}var Yn=!1;function Mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(be&2)!==0){var u=r.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),r.pending=t,t=sr(e),yd(e,null,i),t}return ir(e,r,t,i),sr(e)}function Da(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,se(e,i)}}function Uu(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var u=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?u=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?u=c=t:c=c.next=t}else u=c=t;i={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Lu=!1;function Oa(){if(Lu){var e=ws;if(e!==null)throw e}}function xa(e,t,i,r){Lu=!1;var u=e.updateQueue;Yn=!1;var c=u.firstBaseUpdate,d=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var y=_,N=y.next;y.next=null,d===null?c=N:d.next=N,d=y;var x=e.alternate;x!==null&&(x=x.updateQueue,_=x.lastBaseUpdate,_!==d&&(_===null?x.firstBaseUpdate=N:_.next=N,x.lastBaseUpdate=y))}if(c!==null){var I=u.baseState;d=0,x=N=y=null,_=c;do{var R=_.lane&-536870913,D=R!==_.lane;if(D?(pe&R)===R:(r&R)===R){R!==0&&R===Ts&&(Lu=!0),x!==null&&(x=x.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var J=e,K=_;R=t;var Ae=i;switch(K.tag){case 1:if(J=K.payload,typeof J=="function"){I=J.call(Ae,I,R);break e}I=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=K.payload,R=typeof J=="function"?J.call(Ae,I,R):J,R==null)break e;I=v({},I,R);break e;case 2:Yn=!0}}R=_.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=u.callbacks,D===null?u.callbacks=[R]:D.push(R))}else D={lane:R,tag:_.tag,payload:_.payload,callback:_.callback,next:null},x===null?(N=x=D,y=I):x=x.next=D,d|=R;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;D=_,_=D.next,D.next=null,u.lastBaseUpdate=D,u.shared.pending=null}}while(!0);x===null&&(y=I),u.baseState=y,u.firstBaseUpdate=N,u.lastBaseUpdate=x,c===null&&(u.shared.lanes=0),ti|=d,e.lanes=d,e.memoizedState=I}}function Id(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Ud(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Id(i[e],t)}var Cs=L(null),dr=L(0);function Ld(e,t){e=In,j(dr,e),j(Cs,t),In=e|t.baseLanes}function ku(){j(dr,In),j(Cs,Cs.current)}function zu(){In=dr.current,P(Cs),P(dr)}var Kn=0,ae=null,we=null,Ke=null,mr=!1,As=!1,Hi=!1,pr=0,Ma=0,Ns=null,ES=0;function qe(){throw Error(l(321))}function Hu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!It(e[i],t[i]))return!1;return!0}function ju(e,t,i,r,u,c){return Kn=c,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?ym:vm,Hi=!1,c=i(r,u),Hi=!1,As&&(c=zd(t,i,r,u)),kd(e),c}function kd(e){O.H=Er;var t=we!==null&&we.next!==null;if(Kn=0,Ke=we=ae=null,mr=!1,Ma=0,Ns=null,t)throw Error(l(300));e===null||at||(e=e.dependencies,e!==null&&or(e)&&(at=!0))}function zd(e,t,i,r){ae=e;var u=0;do{if(As&&(Ns=null),Ma=0,As=!1,25<=u)throw Error(l(301));if(u+=1,Ke=we=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}O.H=RS,c=t(i,r)}while(As);return c}function bS(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Ia(t):t,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(ae.flags|=1024),t}function Bu(){var e=pr!==0;return pr=0,e}function Pu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Vu(e){if(mr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}mr=!1}Kn=0,Ke=we=ae=null,As=!1,Ma=pr=0,Ns=null}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ae.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Fe(){if(we===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Ke===null?ae.memoizedState:Ke.next;if(t!==null)Ke=t,we=e;else{if(e===null)throw ae.alternate===null?Error(l(467)):Error(l(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ke===null?ae.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ia(e){var t=Ma;return Ma+=1,Ns===null&&(Ns=[]),e=Od(Ns,e,t),t=ae,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?ym:vm),e}function gr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ia(e);if(e.$$typeof===le)return _t(e)}throw Error(l(438,String(e)))}function Gu(e){var t=null,i=ae.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=ae.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=qu(),ae.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=Se;return t.index++,i}function Nn(e,t){return typeof t=="function"?t(e):t}function _r(e){var t=Fe();return Yu(t,we,e)}function Yu(e,t,i){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=i;var u=e.baseQueue,c=r.pending;if(c!==null){if(u!==null){var d=u.next;u.next=c.next,c.next=d}t.baseQueue=u=c,r.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{t=u.next;var _=d=null,y=null,N=t,x=!1;do{var I=N.lane&-536870913;if(I!==N.lane?(pe&I)===I:(Kn&I)===I){var R=N.revertLane;if(R===0)y!==null&&(y=y.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),I===Ts&&(x=!0);else if((Kn&R)===R){N=N.next,R===Ts&&(x=!0);continue}else I={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(_=y=I,d=c):y=y.next=I,ae.lanes|=R,ti|=R;I=N.action,Hi&&i(c,I),c=N.hasEagerState?N.eagerState:i(c,I)}else R={lane:I,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(_=y=R,d=c):y=y.next=R,ae.lanes|=I,ti|=I;N=N.next}while(N!==null&&N!==t);if(y===null?d=c:y.next=_,!It(c,e.memoizedState)&&(at=!0,x&&(i=ws,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=y,r.lastRenderedState=c}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Qu(e){var t=Fe(),i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var r=i.dispatch,u=i.pending,c=t.memoizedState;if(u!==null){i.pending=null;var d=u=u.next;do c=e(c,d.action),d=d.next;while(d!==u);It(c,t.memoizedState)||(at=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,r]}function Hd(e,t,i){var r=ae,u=Fe(),c=ye;if(c){if(i===void 0)throw Error(l(407));i=i()}else i=t();var d=!It((we||u).memoizedState,i);d&&(u.memoizedState=i,at=!0),u=u.queue;var _=Pd.bind(null,r,u,e);if(Ua(2048,8,_,[e]),u.getSnapshot!==t||d||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,Rs(9,yr(),Bd.bind(null,r,u,i,t),null),xe===null)throw Error(l(349));c||(Kn&124)!==0||jd(r,t,i)}return i}function jd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ae.updateQueue,t===null?(t=qu(),ae.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Bd(e,t,i,r){t.value=i,t.getSnapshot=r,Vd(t)&&qd(e)}function Pd(e,t,i){return i(function(){Vd(t)&&qd(e)})}function Vd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!It(e,i)}catch{return!0}}function qd(e){var t=vs(e,2);t!==null&&jt(t,e,2)}function Xu(e){var t=At();if(typeof e=="function"){var i=e;if(e=i(),Hi){un(!0);try{i()}finally{un(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t}function Gd(e,t,i,r){return e.baseState=i,Yu(e,we,typeof r=="function"?r:Nn)}function TS(e,t,i,r,u){if(Sr(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};O.T!==null?i(!0):c.isTransition=!1,r(c),i=t.pending,i===null?(c.next=t.pending=c,Yd(t,c)):(c.next=i.next,t.pending=i.next=c)}}function Yd(e,t){var i=t.action,r=t.payload,u=e.state;if(t.isTransition){var c=O.T,d={};O.T=d;try{var _=i(u,r),y=O.S;y!==null&&y(d,_),Qd(e,t,_)}catch(N){Ku(e,t,N)}finally{O.T=c}}else try{c=i(u,r),Qd(e,t,c)}catch(N){Ku(e,t,N)}}function Qd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Xd(e,t,r)},function(r){return Ku(e,t,r)}):Xd(e,t,i)}function Xd(e,t,i){t.status="fulfilled",t.value=i,Kd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Yd(e,i)))}function Ku(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,Kd(t),t=t.next;while(t!==r)}e.action=null}function Kd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Fd(e,t){return t}function Zd(e,t){if(ye){var i=xe.formState;if(i!==null){e:{var r=ae;if(ye){if(Be){t:{for(var u=Be,c=cn;u.nodeType!==8;){if(!c){u=null;break t}if(u=$t(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){Be=$t(u.nextSibling),r=u.data==="F!";break e}}Ui(r)}r=!1}r&&(t=i[0])}}return i=At(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fd,lastRenderedState:t},i.queue=r,i=pm.bind(null,ae,r),r.dispatch=i,r=Xu(!1),c=$u.bind(null,ae,!1,r.queue),r=At(),u={state:t,dispatch:null,action:e,pending:null},r.queue=u,i=TS.bind(null,ae,u,c,i),u.dispatch=i,r.memoizedState=e,[t,i,!1]}function Wd(e){var t=Fe();return Jd(t,we,e)}function Jd(e,t,i){if(t=Yu(e,t,Fd)[0],e=_r(Nn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Ia(t)}catch(d){throw d===Na?fr:d}else r=t;t=Fe();var u=t.queue,c=u.dispatch;return i!==t.memoizedState&&(ae.flags|=2048,Rs(9,yr(),wS.bind(null,u,i),null)),[r,c,e]}function wS(e,t){e.action=t}function $d(e){var t=Fe(),i=we;if(i!==null)return Jd(t,i,e);Fe(),t=t.memoizedState,i=Fe();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function Rs(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=ae.updateQueue,t===null&&(t=qu(),ae.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function yr(){return{destroy:void 0,resource:void 0}}function em(){return Fe().memoizedState}function vr(e,t,i,r){var u=At();r=r===void 0?null:r,ae.flags|=e,u.memoizedState=Rs(1|t,yr(),i,r)}function Ua(e,t,i,r){var u=Fe();r=r===void 0?null:r;var c=u.memoizedState.inst;we!==null&&r!==null&&Hu(r,we.memoizedState.deps)?u.memoizedState=Rs(t,c,i,r):(ae.flags|=e,u.memoizedState=Rs(1|t,c,i,r))}function tm(e,t){vr(8390656,8,e,t)}function nm(e,t){Ua(2048,8,e,t)}function im(e,t){return Ua(4,2,e,t)}function sm(e,t){return Ua(4,4,e,t)}function am(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lm(e,t,i){i=i!=null?i.concat([e]):null,Ua(4,4,am.bind(null,t,e),i)}function Fu(){}function rm(e,t){var i=Fe();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&Hu(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function om(e,t){var i=Fe();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&Hu(t,r[1]))return r[0];if(r=e(),Hi){un(!0);try{e()}finally{un(!1)}}return i.memoizedState=[r,t],r}function Zu(e,t,i){return i===void 0||(Kn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=fp(),ae.lanes|=e,ti|=e,i)}function um(e,t,i,r){return It(i,t)?i:Cs.current!==null?(e=Zu(e,i,r),It(e,t)||(at=!0),e):(Kn&42)===0?(at=!0,e.memoizedState=i):(e=fp(),ae.lanes|=e,ti|=e,t)}function cm(e,t,i,r,u){var c=B.p;B.p=c!==0&&8>c?c:8;var d=O.T,_={};O.T=_,$u(e,!1,t,i);try{var y=u(),N=O.S;if(N!==null&&N(_,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var x=SS(y,r);La(e,t,x,Ht(e))}else La(e,t,r,Ht(e))}catch(I){La(e,t,{then:function(){},status:"rejected",reason:I},Ht())}finally{B.p=c,O.T=d}}function CS(){}function Wu(e,t,i,r){if(e.tag!==5)throw Error(l(476));var u=fm(e).queue;cm(e,u,t,X,i===null?CS:function(){return hm(e),i(r)})}function fm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:X},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hm(e){var t=fm(e).next.queue;La(e,t,{},Ht())}function Ju(){return _t($a)}function dm(){return Fe().memoizedState}function mm(){return Fe().memoizedState}function AS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Ht();e=Qn(i);var r=Xn(t,e,i);r!==null&&(jt(r,t,i),Da(r,t,i)),t={cache:Ru()},e.payload=t;return}t=t.return}}function NS(e,t,i){var r=Ht();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Sr(e)?gm(t,i):(i=yu(e,t,i,r),i!==null&&(jt(i,e,r),_m(i,t,r)))}function pm(e,t,i){var r=Ht();La(e,t,i,r)}function La(e,t,i,r){var u={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Sr(e))gm(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,_=c(d,i);if(u.hasEagerState=!0,u.eagerState=_,It(_,d))return ir(e,t,u,0),xe===null&&nr(),!1}catch{}finally{}if(i=yu(e,t,u,r),i!==null)return jt(i,e,r),_m(i,t,r),!0}return!1}function $u(e,t,i,r){if(r={lane:2,revertLane:xc(),action:r,hasEagerState:!1,eagerState:null,next:null},Sr(e)){if(t)throw Error(l(479))}else t=yu(e,i,r,2),t!==null&&jt(t,e,2)}function Sr(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function gm(e,t){As=mr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function _m(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,se(e,i)}}var Er={readContext:_t,use:gr,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe},ym={readContext:_t,use:gr,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:tm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,vr(4194308,4,am.bind(null,t,e),i)},useLayoutEffect:function(e,t){return vr(4194308,4,e,t)},useInsertionEffect:function(e,t){vr(4,2,e,t)},useMemo:function(e,t){var i=At();t=t===void 0?null:t;var r=e();if(Hi){un(!0);try{e()}finally{un(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=At();if(i!==void 0){var u=i(t);if(Hi){un(!0);try{i(t)}finally{un(!1)}}}else u=t;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=NS.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:function(e){e=Xu(e);var t=e.queue,i=pm.bind(null,ae,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Fu,useDeferredValue:function(e,t){var i=At();return Zu(i,e,t)},useTransition:function(){var e=Xu(!1);return e=cm.bind(null,ae,e.queue,!0,!1),At().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=ae,u=At();if(ye){if(i===void 0)throw Error(l(407));i=i()}else{if(i=t(),xe===null)throw Error(l(349));(pe&124)!==0||jd(r,t,i)}u.memoizedState=i;var c={value:i,getSnapshot:t};return u.queue=c,tm(Pd.bind(null,r,c,e),[e]),r.flags|=2048,Rs(9,yr(),Bd.bind(null,r,c,i,t),null),i},useId:function(){var e=At(),t=xe.identifierPrefix;if(ye){var i=wn,r=Tn;i=(r&~(1<<32-St(r)-1)).toString(32)+i,t=""+t+"R"+i,i=pr++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=ES++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Ju,useFormState:Zd,useActionState:Zd,useOptimistic:function(e){var t=At();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=$u.bind(null,ae,!0,i),i.dispatch=t,[e,t]},useMemoCache:Gu,useCacheRefresh:function(){return At().memoizedState=AS.bind(null,ae)}},vm={readContext:_t,use:gr,useCallback:rm,useContext:_t,useEffect:nm,useImperativeHandle:lm,useInsertionEffect:im,useLayoutEffect:sm,useMemo:om,useReducer:_r,useRef:em,useState:function(){return _r(Nn)},useDebugValue:Fu,useDeferredValue:function(e,t){var i=Fe();return um(i,we.memoizedState,e,t)},useTransition:function(){var e=_r(Nn)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Ia(e),t]},useSyncExternalStore:Hd,useId:dm,useHostTransitionStatus:Ju,useFormState:Wd,useActionState:Wd,useOptimistic:function(e,t){var i=Fe();return Gd(i,we,e,t)},useMemoCache:Gu,useCacheRefresh:mm},RS={readContext:_t,use:gr,useCallback:rm,useContext:_t,useEffect:nm,useImperativeHandle:lm,useInsertionEffect:im,useLayoutEffect:sm,useMemo:om,useReducer:Qu,useRef:em,useState:function(){return Qu(Nn)},useDebugValue:Fu,useDeferredValue:function(e,t){var i=Fe();return we===null?Zu(i,e,t):um(i,we.memoizedState,e,t)},useTransition:function(){var e=Qu(Nn)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Ia(e),t]},useSyncExternalStore:Hd,useId:dm,useHostTransitionStatus:Ju,useFormState:$d,useActionState:$d,useOptimistic:function(e,t){var i=Fe();return we!==null?Gd(i,we,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Gu,useCacheRefresh:mm},Ds=null,ka=0;function br(e){var t=ka;return ka+=1,Ds===null&&(Ds=[]),Od(Ds,e,t)}function za(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Tr(e,t){throw t.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sm(e){var t=e._init;return t(e._payload)}function Em(e){function t(C,T){if(e){var A=C.deletions;A===null?(C.deletions=[T],C.flags|=16):A.push(T)}}function i(C,T){if(!e)return null;for(;T!==null;)t(C,T),T=T.sibling;return null}function r(C){for(var T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function u(C,T){return C=bn(C,T),C.index=0,C.sibling=null,C}function c(C,T,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<T?(C.flags|=67108866,T):A):(C.flags|=67108866,T)):(C.flags|=1048576,T)}function d(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,T,A,M){return T===null||T.tag!==6?(T=Su(A,C.mode,M),T.return=C,T):(T=u(T,A),T.return=C,T)}function y(C,T,A,M){var G=A.type;return G===H?x(C,T,A.props.children,M,A.key):T!==null&&(T.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===ft&&Sm(G)===T.type)?(T=u(T,A.props),za(T,A),T.return=C,T):(T=ar(A.type,A.key,A.props,null,C.mode,M),za(T,A),T.return=C,T)}function N(C,T,A,M){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Eu(A,C.mode,M),T.return=C,T):(T=u(T,A.children||[]),T.return=C,T)}function x(C,T,A,M,G){return T===null||T.tag!==7?(T=Oi(A,C.mode,M,G),T.return=C,T):(T=u(T,A),T.return=C,T)}function I(C,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Su(""+T,C.mode,A),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case w:return A=ar(T.type,T.key,T.props,null,C.mode,A),za(A,T),A.return=C,A;case k:return T=Eu(T,C.mode,A),T.return=C,T;case ft:var M=T._init;return T=M(T._payload),I(C,T,A)}if(Ze(T)||Le(T))return T=Oi(T,C.mode,A,null),T.return=C,T;if(typeof T.then=="function")return I(C,br(T),A);if(T.$$typeof===le)return I(C,ur(C,T),A);Tr(C,T)}return null}function R(C,T,A,M){var G=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return G!==null?null:_(C,T,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return A.key===G?y(C,T,A,M):null;case k:return A.key===G?N(C,T,A,M):null;case ft:return G=A._init,A=G(A._payload),R(C,T,A,M)}if(Ze(A)||Le(A))return G!==null?null:x(C,T,A,M,null);if(typeof A.then=="function")return R(C,T,br(A),M);if(A.$$typeof===le)return R(C,T,ur(C,A),M);Tr(C,A)}return null}function D(C,T,A,M,G){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return C=C.get(A)||null,_(T,C,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return C=C.get(M.key===null?A:M.key)||null,y(T,C,M,G);case k:return C=C.get(M.key===null?A:M.key)||null,N(T,C,M,G);case ft:var re=M._init;return M=re(M._payload),D(C,T,A,M,G)}if(Ze(M)||Le(M))return C=C.get(A)||null,x(T,C,M,G,null);if(typeof M.then=="function")return D(C,T,A,br(M),G);if(M.$$typeof===le)return D(C,T,A,ur(T,M),G);Tr(T,M)}return null}function J(C,T,A,M){for(var G=null,re=null,Y=T,F=T=0,rt=null;Y!==null&&F<A.length;F++){Y.index>F?(rt=Y,Y=null):rt=Y.sibling;var ge=R(C,Y,A[F],M);if(ge===null){Y===null&&(Y=rt);break}e&&Y&&ge.alternate===null&&t(C,Y),T=c(ge,T,F),re===null?G=ge:re.sibling=ge,re=ge,Y=rt}if(F===A.length)return i(C,Y),ye&&Mi(C,F),G;if(Y===null){for(;F<A.length;F++)Y=I(C,A[F],M),Y!==null&&(T=c(Y,T,F),re===null?G=Y:re.sibling=Y,re=Y);return ye&&Mi(C,F),G}for(Y=r(Y);F<A.length;F++)rt=D(Y,C,F,A[F],M),rt!==null&&(e&&rt.alternate!==null&&Y.delete(rt.key===null?F:rt.key),T=c(rt,T,F),re===null?G=rt:re.sibling=rt,re=rt);return e&&Y.forEach(function(ci){return t(C,ci)}),ye&&Mi(C,F),G}function K(C,T,A,M){if(A==null)throw Error(l(151));for(var G=null,re=null,Y=T,F=T=0,rt=null,ge=A.next();Y!==null&&!ge.done;F++,ge=A.next()){Y.index>F?(rt=Y,Y=null):rt=Y.sibling;var ci=R(C,Y,ge.value,M);if(ci===null){Y===null&&(Y=rt);break}e&&Y&&ci.alternate===null&&t(C,Y),T=c(ci,T,F),re===null?G=ci:re.sibling=ci,re=ci,Y=rt}if(ge.done)return i(C,Y),ye&&Mi(C,F),G;if(Y===null){for(;!ge.done;F++,ge=A.next())ge=I(C,ge.value,M),ge!==null&&(T=c(ge,T,F),re===null?G=ge:re.sibling=ge,re=ge);return ye&&Mi(C,F),G}for(Y=r(Y);!ge.done;F++,ge=A.next())ge=D(Y,C,F,ge.value,M),ge!==null&&(e&&ge.alternate!==null&&Y.delete(ge.key===null?F:ge.key),T=c(ge,T,F),re===null?G=ge:re.sibling=ge,re=ge);return e&&Y.forEach(function(D0){return t(C,D0)}),ye&&Mi(C,F),G}function Ae(C,T,A,M){if(typeof A=="object"&&A!==null&&A.type===H&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case w:e:{for(var G=A.key;T!==null;){if(T.key===G){if(G=A.type,G===H){if(T.tag===7){i(C,T.sibling),M=u(T,A.props.children),M.return=C,C=M;break e}}else if(T.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===ft&&Sm(G)===T.type){i(C,T.sibling),M=u(T,A.props),za(M,A),M.return=C,C=M;break e}i(C,T);break}else t(C,T);T=T.sibling}A.type===H?(M=Oi(A.props.children,C.mode,M,A.key),M.return=C,C=M):(M=ar(A.type,A.key,A.props,null,C.mode,M),za(M,A),M.return=C,C=M)}return d(C);case k:e:{for(G=A.key;T!==null;){if(T.key===G)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){i(C,T.sibling),M=u(T,A.children||[]),M.return=C,C=M;break e}else{i(C,T);break}else t(C,T);T=T.sibling}M=Eu(A,C.mode,M),M.return=C,C=M}return d(C);case ft:return G=A._init,A=G(A._payload),Ae(C,T,A,M)}if(Ze(A))return J(C,T,A,M);if(Le(A)){if(G=Le(A),typeof G!="function")throw Error(l(150));return A=G.call(A),K(C,T,A,M)}if(typeof A.then=="function")return Ae(C,T,br(A),M);if(A.$$typeof===le)return Ae(C,T,ur(C,A),M);Tr(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(i(C,T.sibling),M=u(T,A),M.return=C,C=M):(i(C,T),M=Su(A,C.mode,M),M.return=C,C=M),d(C)):i(C,T)}return function(C,T,A,M){try{ka=0;var G=Ae(C,T,A,M);return Ds=null,G}catch(Y){if(Y===Na||Y===fr)throw Y;var re=Ut(29,Y,null,C.mode);return re.lanes=M,re.return=C,re}finally{}}}var Os=Em(!0),bm=Em(!1),Xt=L(null),fn=null;function Fn(e){var t=e.alternate;j(Je,Je.current&1),j(Xt,e),fn===null&&(t===null||Cs.current!==null||t.memoizedState!==null)&&(fn=e)}function Tm(e){if(e.tag===22){if(j(Je,Je.current),j(Xt,e),fn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(fn=e)}}else Zn()}function Zn(){j(Je,Je.current),j(Xt,Xt.current)}function Rn(e){P(Xt),fn===e&&(fn=null),P(Je)}var Je=L(0);function wr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||qc(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ec(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var tc={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=Ht(),u=Qn(r);u.payload=t,i!=null&&(u.callback=i),t=Xn(e,u,r),t!==null&&(jt(t,e,r),Da(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=Ht(),u=Qn(r);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Xn(e,u,r),t!==null&&(jt(t,e,r),Da(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ht(),r=Qn(i);r.tag=2,t!=null&&(r.callback=t),t=Xn(e,r,i),t!==null&&(jt(t,e,i),Da(t,e,i))}};function wm(e,t,i,r,u,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,d):t.prototype&&t.prototype.isPureReactComponent?!va(i,r)||!va(u,c):!0}function Cm(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&tc.enqueueReplaceState(t,t.state,null)}function ji(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}var Cr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Am(e){Cr(e)}function Nm(e){console.error(e)}function Rm(e){Cr(e)}function Ar(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Dm(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function nc(e,t,i){return i=Qn(i),i.tag=3,i.payload={element:null},i.callback=function(){Ar(e,t)},i}function Om(e){return e=Qn(e),e.tag=3,e}function xm(e,t,i,r){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var c=r.value;e.payload=function(){return u(c)},e.callback=function(){Dm(t,i,r)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Dm(t,i,r),typeof u!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function DS(e,t,i,r,u){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&wa(t,i,u,!0),i=Xt.current,i!==null){switch(i.tag){case 13:return fn===null?Ac():i.alternate===null&&Pe===0&&(Pe=3),i.flags&=-257,i.flags|=65536,i.lanes=u,r===xu?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),Rc(e,r,u)),!1;case 22:return i.flags|=65536,r===xu?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),Rc(e,r,u)),!1}throw Error(l(435,i.tag))}return Rc(e,r,u),Ac(),!1}if(ye)return t=Xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,r!==wu&&(e=Error(l(422),{cause:r}),Ta(qt(e,i)))):(r!==wu&&(t=Error(l(423),{cause:r}),Ta(qt(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=qt(r,i),u=nc(e.stateNode,r,u),Uu(e,u),Pe!==4&&(Pe=2)),!1;var c=Error(l(520),{cause:r});if(c=qt(c,i),Ga===null?Ga=[c]:Ga.push(c),Pe!==4&&(Pe=2),t===null)return!0;r=qt(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=nc(i.stateNode,r,e),Uu(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ni===null||!ni.has(c))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Om(u),xm(u,e,i,r),Uu(i,u),!1}i=i.return}while(i!==null);return!1}var Mm=Error(l(461)),at=!1;function dt(e,t,i,r){t.child=e===null?bm(t,null,i,r):Os(t,e.child,i,r)}function Im(e,t,i,r,u){i=i.render;var c=t.ref;if("ref"in r){var d={};for(var _ in r)_!=="ref"&&(d[_]=r[_])}else d=r;return ki(t),r=ju(e,t,i,d,c,u),_=Bu(),e!==null&&!at?(Pu(e,t,u),Dn(e,t,u)):(ye&&_&&bu(t),t.flags|=1,dt(e,t,r,u),t.child)}function Um(e,t,i,r,u){if(e===null){var c=i.type;return typeof c=="function"&&!vu(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,Lm(e,t,c,r,u)):(e=ar(i.type,null,r,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!cc(e,u)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:va,i(d,r)&&e.ref===t.ref)return Dn(e,t,u)}return t.flags|=1,e=bn(c,r),e.ref=t.ref,e.return=t,t.child=e}function Lm(e,t,i,r,u){if(e!==null){var c=e.memoizedProps;if(va(c,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=c,cc(e,u))(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,Dn(e,t,u)}return ic(e,t,i,r,u)}function km(e,t,i){var r=t.pendingProps,u=r.children,c=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=c!==null?c.baseLanes|i:i,e!==null){for(u=t.child=e.child,c=0;u!==null;)c=c|u.lanes|u.childLanes,u=u.sibling;t.childLanes=c&~r}else t.childLanes=0,t.child=null;return zm(e,t,r,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cr(t,c!==null?c.cachePool:null),c!==null?Ld(t,c):ku(),Tm(t);else return t.lanes=t.childLanes=536870912,zm(e,t,c!==null?c.baseLanes|i:i,i)}else c!==null?(cr(t,c.cachePool),Ld(t,c),Zn(),t.memoizedState=null):(e!==null&&cr(t,null),ku(),Zn());return dt(e,t,u,i),t.child}function zm(e,t,i,r){var u=Ou();return u=u===null?null:{parent:We._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&cr(t,null),ku(),Tm(t),e!==null&&wa(e,t,r,!0),null}function Nr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function ic(e,t,i,r,u){return ki(t),i=ju(e,t,i,r,void 0,u),r=Bu(),e!==null&&!at?(Pu(e,t,u),Dn(e,t,u)):(ye&&r&&bu(t),t.flags|=1,dt(e,t,i,u),t.child)}function Hm(e,t,i,r,u,c){return ki(t),t.updateQueue=null,i=zd(t,r,i,u),kd(e),r=Bu(),e!==null&&!at?(Pu(e,t,c),Dn(e,t,c)):(ye&&r&&bu(t),t.flags|=1,dt(e,t,i,c),t.child)}function jm(e,t,i,r,u){if(ki(t),t.stateNode===null){var c=Ss,d=i.contextType;typeof d=="object"&&d!==null&&(c=_t(d)),c=new i(r,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=tc,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=r,c.state=t.memoizedState,c.refs={},Mu(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?_t(d):Ss,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(ec(t,i,d,r),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&tc.enqueueReplaceState(c,c.state,null),xa(t,r,c,u),Oa(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){c=t.stateNode;var _=t.memoizedProps,y=ji(i,_);c.props=y;var N=c.context,x=i.contextType;d=Ss,typeof x=="object"&&x!==null&&(d=_t(x));var I=i.getDerivedStateFromProps;x=typeof I=="function"||typeof c.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,x||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(_||N!==d)&&Cm(t,c,r,d),Yn=!1;var R=t.memoizedState;c.state=R,xa(t,r,c,u),Oa(),N=t.memoizedState,_||R!==N||Yn?(typeof I=="function"&&(ec(t,i,I,r),N=t.memoizedState),(y=Yn||wm(t,i,y,r,R,N,d))?(x||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=N),c.props=r,c.state=N,c.context=d,r=y):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,Iu(e,t),d=t.memoizedProps,x=ji(i,d),c.props=x,I=t.pendingProps,R=c.context,N=i.contextType,y=Ss,typeof N=="object"&&N!==null&&(y=_t(N)),_=i.getDerivedStateFromProps,(N=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==I||R!==y)&&Cm(t,c,r,y),Yn=!1,R=t.memoizedState,c.state=R,xa(t,r,c,u),Oa();var D=t.memoizedState;d!==I||R!==D||Yn||e!==null&&e.dependencies!==null&&or(e.dependencies)?(typeof _=="function"&&(ec(t,i,_,r),D=t.memoizedState),(x=Yn||wm(t,i,x,r,R,D,y)||e!==null&&e.dependencies!==null&&or(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,D,y),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,D,y)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=D),c.props=r,c.state=D,c.context=y,r=x):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),r=!1)}return c=r,Nr(e,t),r=(t.flags&128)!==0,c||r?(c=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&r?(t.child=Os(t,e.child,null,u),t.child=Os(t,null,i,u)):dt(e,t,i,u),t.memoizedState=c.state,e=t.child):e=Dn(e,t,u),e}function Bm(e,t,i,r){return ba(),t.flags|=256,dt(e,t,i,r),t.child}var sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ac(e){return{baseLanes:e,cachePool:Nd()}}function lc(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Kt),e}function Pm(e,t,i){var r=t.pendingProps,u=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),d&&(u=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(u?Fn(t):Zn(),ye){var _=Be,y;if(y=_){e:{for(y=_,_=cn;y.nodeType!==8;){if(!_){_=null;break e}if(y=$t(y.nextSibling),y===null){_=null;break e}}_=y}_!==null?(t.memoizedState={dehydrated:_,treeContext:xi!==null?{id:Tn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},y=Ut(18,null,null,0),y.stateNode=_,y.return=t,t.child=y,Et=t,Be=null,y=!0):y=!1}y||Ui(t)}if(_=t.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return qc(_)?t.lanes=32:t.lanes=536870912,null;Rn(t)}return _=r.children,r=r.fallback,u?(Zn(),u=t.mode,_=Rr({mode:"hidden",children:_},u),r=Oi(r,u,i,null),_.return=t,r.return=t,_.sibling=r,t.child=_,u=t.child,u.memoizedState=ac(i),u.childLanes=lc(e,d,i),t.memoizedState=sc,r):(Fn(t),rc(t,_))}if(y=e.memoizedState,y!==null&&(_=y.dehydrated,_!==null)){if(c)t.flags&256?(Fn(t),t.flags&=-257,t=oc(e,t,i)):t.memoizedState!==null?(Zn(),t.child=e.child,t.flags|=128,t=null):(Zn(),u=r.fallback,_=t.mode,r=Rr({mode:"visible",children:r.children},_),u=Oi(u,_,i,null),u.flags|=2,r.return=t,u.return=t,r.sibling=u,t.child=r,Os(t,e.child,null,i),r=t.child,r.memoizedState=ac(i),r.childLanes=lc(e,d,i),t.memoizedState=sc,t=u);else if(Fn(t),qc(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var N=d.dgst;d=N,r=Error(l(419)),r.stack="",r.digest=d,Ta({value:r,source:null,stack:null}),t=oc(e,t,i)}else if(at||wa(e,t,i,!1),d=(i&e.childLanes)!==0,at||d){if(d=xe,d!==null&&(r=i&-i,r=(r&42)!==0?1:W(r),r=(r&(d.suspendedLanes|i))!==0?0:r,r!==0&&r!==y.retryLane))throw y.retryLane=r,vs(e,r),jt(d,e,r),Mm;_.data==="$?"||Ac(),t=oc(e,t,i)}else _.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,Be=$t(_.nextSibling),Et=t,ye=!0,Ii=null,cn=!1,e!==null&&(Yt[Qt++]=Tn,Yt[Qt++]=wn,Yt[Qt++]=xi,Tn=e.id,wn=e.overflow,xi=t),t=rc(t,r.children),t.flags|=4096);return t}return u?(Zn(),u=r.fallback,_=t.mode,y=e.child,N=y.sibling,r=bn(y,{mode:"hidden",children:r.children}),r.subtreeFlags=y.subtreeFlags&65011712,N!==null?u=bn(N,u):(u=Oi(u,_,i,null),u.flags|=2),u.return=t,r.return=t,r.sibling=u,t.child=r,r=u,u=t.child,_=e.child.memoizedState,_===null?_=ac(i):(y=_.cachePool,y!==null?(N=We._currentValue,y=y.parent!==N?{parent:N,pool:N}:y):y=Nd(),_={baseLanes:_.baseLanes|i,cachePool:y}),u.memoizedState=_,u.childLanes=lc(e,d,i),t.memoizedState=sc,r):(Fn(t),i=e.child,e=i.sibling,i=bn(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function rc(e,t){return t=Rr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Rr(e,t){return e=Ut(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function oc(e,t,i){return Os(t,e.child,null,i),e=rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vm(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Au(e.return,t,i)}function uc(e,t,i,r,u){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:u}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=r,c.tail=i,c.tailMode=u)}function qm(e,t,i){var r=t.pendingProps,u=r.revealOrder,c=r.tail;if(dt(e,t,r.children,i),r=Je.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vm(e,i,t);else if(e.tag===19)Vm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(j(Je,r),u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&wr(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),uc(t,!1,u,i,c);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&wr(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}uc(t,!0,i,null,c);break;case"together":uc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ti|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(wa(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,i=bn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=bn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function cc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&or(e)))}function OS(e,t,i){switch(t.tag){case 3:Oe(t,t.stateNode.containerInfo),Gn(t,We,e.memoizedState.cache),ba();break;case 27:case 5:es(t);break;case 4:Oe(t,t.stateNode.containerInfo);break;case 10:Gn(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Fn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Pm(e,t,i):(Fn(t),e=Dn(e,t,i),e!==null?e.sibling:null);Fn(t);break;case 19:var u=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(wa(e,t,i,!1),r=(i&t.childLanes)!==0),u){if(r)return qm(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),j(Je,Je.current),r)break;return null;case 22:case 23:return t.lanes=0,km(e,t,i);case 24:Gn(t,We,e.memoizedState.cache)}return Dn(e,t,i)}function Gm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!cc(e,i)&&(t.flags&128)===0)return at=!1,OS(e,t,i);at=(e.flags&131072)!==0}else at=!1,ye&&(t.flags&1048576)!==0&&Sd(t,rr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,u=r._init;if(r=u(r._payload),t.type=r,typeof r=="function")vu(r)?(e=ji(r,e),t.tag=1,t=jm(null,t,r,e,i)):(t.tag=0,t=ic(null,t,r,e,i));else{if(r!=null){if(u=r.$$typeof,u===tt){t.tag=11,t=Im(null,t,r,e,i);break e}else if(u===Qe){t.tag=14,t=Um(null,t,r,e,i);break e}}throw t=ln(r)||r,Error(l(306,t,""))}}return t;case 0:return ic(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,u=ji(r,t.pendingProps),jm(e,t,r,u,i);case 3:e:{if(Oe(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var c=t.memoizedState;u=c.element,Iu(e,t),xa(t,r,null,i);var d=t.memoizedState;if(r=d.cache,Gn(t,We,r),r!==c.cache&&Nu(t,[We],i,!0),Oa(),r=d.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Bm(e,t,r,i);break e}else if(r!==u){u=qt(Error(l(424)),t),Ta(u),t=Bm(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=$t(e.firstChild),Et=t,ye=!0,Ii=null,cn=!0,i=bm(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ba(),r===u){t=Dn(e,t,i);break e}dt(e,t,r,i)}t=t.child}return t;case 26:return Nr(e,t),e===null?(i=Kp(t.type,null,t.pendingProps,null))?t.memoizedState=i:ye||(i=t.type,e=t.pendingProps,r=Vr(ee.current).createElement(i),r[gt]=t,r[wt]=e,pt(r,i,e),st(r),t.stateNode=r):t.memoizedState=Kp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return es(t),e===null&&ye&&(r=t.stateNode=Yp(t.type,t.pendingProps,ee.current),Et=t,cn=!0,u=Be,ai(t.type)?(Gc=u,Be=$t(r.firstChild)):Be=u),dt(e,t,t.pendingProps.children,i),Nr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((u=r=Be)&&(r=s0(r,t.type,t.pendingProps,cn),r!==null?(t.stateNode=r,Et=t,Be=$t(r.firstChild),cn=!1,u=!0):u=!1),u||Ui(t)),es(t),u=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,r=c.children,Bc(u,c)?r=null:d!==null&&Bc(u,d)&&(t.flags|=32),t.memoizedState!==null&&(u=ju(e,t,bS,null,null,i),$a._currentValue=u),Nr(e,t),dt(e,t,r,i),t.child;case 6:return e===null&&ye&&((e=i=Be)&&(i=a0(i,t.pendingProps,cn),i!==null?(t.stateNode=i,Et=t,Be=null,e=!0):e=!1),e||Ui(t)),null;case 13:return Pm(e,t,i);case 4:return Oe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Os(t,null,r,i):dt(e,t,r,i),t.child;case 11:return Im(e,t,t.type,t.pendingProps,i);case 7:return dt(e,t,t.pendingProps,i),t.child;case 8:return dt(e,t,t.pendingProps.children,i),t.child;case 12:return dt(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,Gn(t,t.type,r.value),dt(e,t,r.children,i),t.child;case 9:return u=t.type._context,r=t.pendingProps.children,ki(t),u=_t(u),r=r(u),t.flags|=1,dt(e,t,r,i),t.child;case 14:return Um(e,t,t.type,t.pendingProps,i);case 15:return Lm(e,t,t.type,t.pendingProps,i);case 19:return qm(e,t,i);case 31:return r=t.pendingProps,i=t.mode,r={mode:r.mode,children:r.children},e===null?(i=Rr(r,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=bn(e.child,r),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return km(e,t,i);case 24:return ki(t),r=_t(We),e===null?(u=Ou(),u===null&&(u=xe,c=Ru(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=i),u=c),t.memoizedState={parent:r,cache:u},Mu(t),Gn(t,We,u)):((e.lanes&i)!==0&&(Iu(e,t),xa(t,null,null,i),Oa()),u=e.memoizedState,c=t.memoizedState,u.parent!==r?(u={parent:r,cache:r},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Gn(t,We,r)):(r=c.cache,Gn(t,We,r),r!==u.cache&&Nu(t,[We],i,!0))),dt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function On(e){e.flags|=4}function Ym(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$p(t)){if(t=Xt.current,t!==null&&((pe&4194048)===pe?fn!==null:(pe&62914560)!==pe&&(pe&536870912)===0||t!==fn))throw Ra=xu,Rd;e.flags|=8192}}function Dr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gl():536870912,e.lanes|=t,Us|=t)}function Ha(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function xS(e,t,i){var r=t.pendingProps;switch(Tu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),An(We),rn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ea(t)?On(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Td())),ke(t),null;case 26:return i=t.memoizedState,e===null?(On(t),i!==null?(ke(t),Ym(t,i)):(ke(t),t.flags&=-16777217)):i?i!==e.memoizedState?(On(t),ke(t),Ym(t,i)):(ke(t),t.flags&=-16777217):(e.memoizedProps!==r&&On(t),ke(t),t.flags&=-16777217),null;case 27:ts(t),i=ee.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&On(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return ke(t),null}e=Q.current,Ea(t)?Ed(t):(e=Yp(u,r,i),t.stateNode=e,On(t))}return ke(t),null;case 5:if(ts(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&On(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return ke(t),null}if(e=Q.current,Ea(t))Ed(t);else{switch(u=Vr(ee.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?u.createElement("select",{is:r.is}):u.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?u.createElement(i,{is:r.is}):u.createElement(i)}}e[gt]=t,e[wt]=r;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(pt(e,i,r),i){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&On(t)}}return ke(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&On(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=ee.current,Ea(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,u=Et,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[gt]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Hp(e.nodeValue,i)),e||Ui(t)}else e=Vr(e).createTextNode(r),e[gt]=t,t.stateNode=e}return ke(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ea(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[gt]=t}else ba(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),u=!1}else u=Td(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Rn(t),t):(Rn(t),null)}if(Rn(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=r!==null,e=e!==null&&e.memoizedState!==null,i){r=t.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool);var c=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==u&&(r.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),Dr(t,t.updateQueue),ke(t),null;case 4:return rn(),e===null&&Lc(t.stateNode.containerInfo),ke(t),null;case 10:return An(t.type),ke(t),null;case 19:if(P(Je),u=t.memoizedState,u===null)return ke(t),null;if(r=(t.flags&128)!==0,c=u.rendering,c===null)if(r)Ha(u,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=wr(e),c!==null){for(t.flags|=128,Ha(u,!1),e=c.updateQueue,t.updateQueue=e,Dr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)vd(i,e),i=i.sibling;return j(Je,Je.current&1|2),t.child}e=e.sibling}u.tail!==null&&Bt()>Mr&&(t.flags|=128,r=!0,Ha(u,!1),t.lanes=4194304)}else{if(!r)if(e=wr(c),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Dr(t,e),Ha(u,!0),u.tail===null&&u.tailMode==="hidden"&&!c.alternate&&!ye)return ke(t),null}else 2*Bt()-u.renderingStartTime>Mr&&i!==536870912&&(t.flags|=128,r=!0,Ha(u,!1),t.lanes=4194304);u.isBackwards?(c.sibling=t.child,t.child=c):(e=u.last,e!==null?e.sibling=c:t.child=c,u.last=c)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Bt(),t.sibling=null,e=Je.current,j(Je,r?e&1|2:e&1),t):(ke(t),null);case 22:case 23:return Rn(t),zu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),i=t.updateQueue,i!==null&&Dr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&P(zi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),An(We),ke(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function MS(e,t){switch(Tu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return An(We),rn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ts(t),null;case 13:if(Rn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return P(Je),null;case 4:return rn(),null;case 10:return An(t.type),null;case 22:case 23:return Rn(t),zu(),e!==null&&P(zi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return An(We),null;case 25:return null;default:return null}}function Qm(e,t){switch(Tu(t),t.tag){case 3:An(We),rn();break;case 26:case 27:case 5:ts(t);break;case 4:rn();break;case 13:Rn(t);break;case 19:P(Je);break;case 10:An(t.type);break;case 22:case 23:Rn(t),zu(),e!==null&&P(zi);break;case 24:An(We)}}function ja(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var u=r.next;i=u;do{if((i.tag&e)===e){r=void 0;var c=i.create,d=i.inst;r=c(),d.destroy=r}i=i.next}while(i!==u)}}catch(_){Re(t,t.return,_)}}function Wn(e,t,i){try{var r=t.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var c=u.next;r=c;do{if((r.tag&e)===e){var d=r.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,u=t;var y=i,N=_;try{N()}catch(x){Re(u,y,x)}}}r=r.next}while(r!==c)}}catch(x){Re(t,t.return,x)}}function Xm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Ud(t,i)}catch(r){Re(e,e.return,r)}}}function Km(e,t,i){i.props=ji(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){Re(e,t,r)}}function Ba(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(u){Re(e,t,u)}}function hn(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(u){Re(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Re(e,t,u)}else i.current=null}function Fm(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(u){Re(e,e.return,u)}}function fc(e,t,i){try{var r=e.stateNode;$S(r,e.type,i,t),r[wt]=t}catch(u){Re(e,e.return,u)}}function Zm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ai(e.type)||e.tag===4}function hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ai(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dc(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Pr));else if(r!==4&&(r===27&&ai(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(dc(e,t,i),e=e.sibling;e!==null;)dc(e,t,i),e=e.sibling}function Or(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&ai(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Or(e,t,i),e=e.sibling;e!==null;)Or(e,t,i),e=e.sibling}function Wm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);pt(t,r,i),t[gt]=e,t[wt]=i}catch(c){Re(e,e.return,c)}}var xn=!1,Ge=!1,mc=!1,Jm=typeof WeakSet=="function"?WeakSet:Set,lt=null;function IS(e,t){if(e=e.containerInfo,Hc=Kr,e=ud(e),hu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var u=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,_=-1,y=-1,N=0,x=0,I=e,R=null;t:for(;;){for(var D;I!==i||u!==0&&I.nodeType!==3||(_=d+u),I!==c||r!==0&&I.nodeType!==3||(y=d+r),I.nodeType===3&&(d+=I.nodeValue.length),(D=I.firstChild)!==null;)R=I,I=D;for(;;){if(I===e)break t;if(R===i&&++N===u&&(_=d),R===c&&++x===r&&(y=d),(D=I.nextSibling)!==null)break;I=R,R=I.parentNode}I=D}i=_===-1||y===-1?null:{start:_,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(jc={focusedElem:e,selectionRange:i},Kr=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){switch(t=lt,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,u=c.memoizedProps,c=c.memoizedState,r=i.stateNode;try{var J=ji(i.type,u,i.elementType===i.type);e=r.getSnapshotBeforeUpdate(J,c),r.__reactInternalSnapshotBeforeUpdate=e}catch(K){Re(i,i.return,K)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Vc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}}function $m(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(e,i),r&4&&ja(5,i);break;case 1:if(Jn(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){Re(i,i.return,d)}else{var u=ji(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Re(i,i.return,d)}}r&64&&Xm(i),r&512&&Ba(i,i.return);break;case 3:if(Jn(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Ud(e,t)}catch(d){Re(i,i.return,d)}}break;case 27:t===null&&r&4&&Wm(i);case 26:case 5:Jn(e,i),t===null&&r&4&&Fm(i),r&512&&Ba(i,i.return);break;case 12:Jn(e,i);break;case 13:Jn(e,i),r&4&&np(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=VS.bind(null,i),l0(e,i))));break;case 22:if(r=i.memoizedState!==null||xn,!r){t=t!==null&&t.memoizedState!==null||Ge,u=xn;var c=Ge;xn=r,(Ge=t)&&!c?$n(e,i,(i.subtreeFlags&8772)!==0):Jn(e,i),xn=u,Ge=c}break;case 30:break;default:Jn(e,i)}}function ep(e){var t=e.alternate;t!==null&&(e.alternate=null,ep(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,Nt=!1;function Mn(e,t,i){for(i=i.child;i!==null;)tp(e,t,i),i=i.sibling}function tp(e,t,i){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Vn,i)}catch{}switch(i.tag){case 26:Ge||hn(i,t),Mn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ge||hn(i,t);var r=Ue,u=Nt;ai(i.type)&&(Ue=i.stateNode,Nt=!1),Mn(e,t,i),Fa(i.stateNode),Ue=r,Nt=u;break;case 5:Ge||hn(i,t);case 6:if(r=Ue,u=Nt,Ue=null,Mn(e,t,i),Ue=r,Nt=u,Ue!==null)if(Nt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(i.stateNode)}catch(c){Re(i,t,c)}else try{Ue.removeChild(i.stateNode)}catch(c){Re(i,t,c)}break;case 18:Ue!==null&&(Nt?(e=Ue,qp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),il(e)):qp(Ue,i.stateNode));break;case 4:r=Ue,u=Nt,Ue=i.stateNode.containerInfo,Nt=!0,Mn(e,t,i),Ue=r,Nt=u;break;case 0:case 11:case 14:case 15:Ge||Wn(2,i,t),Ge||Wn(4,i,t),Mn(e,t,i);break;case 1:Ge||(hn(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Km(i,t,r)),Mn(e,t,i);break;case 21:Mn(e,t,i);break;case 22:Ge=(r=Ge)||i.memoizedState!==null,Mn(e,t,i),Ge=r;break;default:Mn(e,t,i)}}function np(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{il(e)}catch(i){Re(t,t.return,i)}}function US(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jm),t;default:throw Error(l(435,e.tag))}}function pc(e,t){var i=US(e);t.forEach(function(r){var u=qS.bind(null,e,r);i.has(r)||(i.add(r),r.then(u,u))})}function Lt(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var u=i[r],c=e,d=t,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(ai(_.type)){Ue=_.stateNode,Nt=!1;break e}break;case 5:Ue=_.stateNode,Nt=!1;break e;case 3:case 4:Ue=_.stateNode.containerInfo,Nt=!0;break e}_=_.return}if(Ue===null)throw Error(l(160));tp(c,d,u),Ue=null,Nt=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)ip(t,e),t=t.sibling}var Jt=null;function ip(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),kt(e),r&4&&(Wn(3,e,e.return),ja(3,e),Wn(5,e,e.return));break;case 1:Lt(t,e),kt(e),r&512&&(Ge||i===null||hn(i,i.return)),r&64&&xn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var u=Jt;if(Lt(t,e),kt(e),r&512&&(Ge||i===null||hn(i,i.return)),r&4){var c=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":c=u.getElementsByTagName("title")[0],(!c||c[ca]||c[gt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(r),u.head.insertBefore(c,u.querySelector("head > title"))),pt(c,r,i),c[gt]=e,st(c),r=c;break e;case"link":var d=Wp("link","href",u).get(r+(i.href||""));if(d){for(var _=0;_<d.length;_++)if(c=d[_],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(_,1);break t}}c=u.createElement(r),pt(c,r,i),u.head.appendChild(c);break;case"meta":if(d=Wp("meta","content",u).get(r+(i.content||""))){for(_=0;_<d.length;_++)if(c=d[_],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(_,1);break t}}c=u.createElement(r),pt(c,r,i),u.head.appendChild(c);break;default:throw Error(l(468,r))}c[gt]=e,st(c),r=c}e.stateNode=r}else Jp(u,e.type,e.stateNode);else e.stateNode=Zp(u,r,e.memoizedProps);else c!==r?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,r===null?Jp(u,e.type,e.stateNode):Zp(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&fc(e,e.memoizedProps,i.memoizedProps)}break;case 27:Lt(t,e),kt(e),r&512&&(Ge||i===null||hn(i,i.return)),i!==null&&r&4&&fc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Lt(t,e),kt(e),r&512&&(Ge||i===null||hn(i,i.return)),e.flags&32){u=e.stateNode;try{hs(u,"")}catch(D){Re(e,e.return,D)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,fc(e,u,i!==null?i.memoizedProps:u)),r&1024&&(mc=!0);break;case 6:if(Lt(t,e),kt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(D){Re(e,e.return,D)}}break;case 3:if(Yr=null,u=Jt,Jt=qr(t.containerInfo),Lt(t,e),Jt=u,kt(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{il(t.containerInfo)}catch(D){Re(e,e.return,D)}mc&&(mc=!1,sp(e));break;case 4:r=Jt,Jt=qr(e.stateNode.containerInfo),Lt(t,e),kt(e),Jt=r;break;case 12:Lt(t,e),kt(e);break;case 13:Lt(t,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ec=Bt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,pc(e,r)));break;case 22:u=e.memoizedState!==null;var y=i!==null&&i.memoizedState!==null,N=xn,x=Ge;if(xn=N||u,Ge=x||y,Lt(t,e),Ge=x,xn=N,kt(e),r&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||y||xn||Ge||Bi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){y=i=t;try{if(c=y.stateNode,u)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=y.stateNode;var I=y.memoizedProps.style,R=I!=null&&I.hasOwnProperty("display")?I.display:null;_.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(D){Re(y,y.return,D)}}}else if(t.tag===6){if(i===null){y=t;try{y.stateNode.nodeValue=u?"":y.memoizedProps}catch(D){Re(y,y.return,D)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,pc(e,i))));break;case 19:Lt(t,e),kt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,pc(e,r)));break;case 30:break;case 21:break;default:Lt(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(Zm(r)){i=r;break}r=r.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var u=i.stateNode,c=hc(e);Or(e,c,u);break;case 5:var d=i.stateNode;i.flags&32&&(hs(d,""),i.flags&=-33);var _=hc(e);Or(e,_,d);break;case 3:case 4:var y=i.stateNode.containerInfo,N=hc(e);dc(e,N,y);break;default:throw Error(l(161))}}catch(x){Re(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;sp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$m(e,t.alternate,t),t=t.sibling}function Bi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wn(4,t,t.return),Bi(t);break;case 1:hn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Km(t,t.return,i),Bi(t);break;case 27:Fa(t.stateNode);case 26:case 5:hn(t,t.return),Bi(t);break;case 22:t.memoizedState===null&&Bi(t);break;case 30:Bi(t);break;default:Bi(t)}e=e.sibling}}function $n(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,u=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:$n(u,c,i),ja(4,c);break;case 1:if($n(u,c,i),r=c,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){Re(r,r.return,N)}if(r=c,u=r.updateQueue,u!==null){var _=r.stateNode;try{var y=u.shared.hiddenCallbacks;if(y!==null)for(u.shared.hiddenCallbacks=null,u=0;u<y.length;u++)Id(y[u],_)}catch(N){Re(r,r.return,N)}}i&&d&64&&Xm(c),Ba(c,c.return);break;case 27:Wm(c);case 26:case 5:$n(u,c,i),i&&r===null&&d&4&&Fm(c),Ba(c,c.return);break;case 12:$n(u,c,i);break;case 13:$n(u,c,i),i&&d&4&&np(u,c);break;case 22:c.memoizedState===null&&$n(u,c,i),Ba(c,c.return);break;case 30:break;default:$n(u,c,i)}t=t.sibling}}function gc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ca(i))}function _c(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ca(e))}function dn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ap(e,t,i,r),t=t.sibling}function ap(e,t,i,r){var u=t.flags;switch(t.tag){case 0:case 11:case 15:dn(e,t,i,r),u&2048&&ja(9,t);break;case 1:dn(e,t,i,r);break;case 3:dn(e,t,i,r),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ca(e)));break;case 12:if(u&2048){dn(e,t,i,r),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,_=c.onPostCommit;typeof _=="function"&&_(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){Re(t,t.return,y)}}else dn(e,t,i,r);break;case 13:dn(e,t,i,r);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?dn(e,t,i,r):Pa(e,t):c._visibility&2?dn(e,t,i,r):(c._visibility|=2,xs(e,t,i,r,(t.subtreeFlags&10256)!==0)),u&2048&&gc(d,t);break;case 24:dn(e,t,i,r),u&2048&&_c(t.alternate,t);break;default:dn(e,t,i,r)}}function xs(e,t,i,r,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,d=t,_=i,y=r,N=d.flags;switch(d.tag){case 0:case 11:case 15:xs(c,d,_,y,u),ja(8,d);break;case 23:break;case 22:var x=d.stateNode;d.memoizedState!==null?x._visibility&2?xs(c,d,_,y,u):Pa(c,d):(x._visibility|=2,xs(c,d,_,y,u)),u&&N&2048&&gc(d.alternate,d);break;case 24:xs(c,d,_,y,u),u&&N&2048&&_c(d.alternate,d);break;default:xs(c,d,_,y,u)}t=t.sibling}}function Pa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,u=r.flags;switch(r.tag){case 22:Pa(i,r),u&2048&&gc(r.alternate,r);break;case 24:Pa(i,r),u&2048&&_c(r.alternate,r);break;default:Pa(i,r)}t=t.sibling}}var Va=8192;function Ms(e){if(e.subtreeFlags&Va)for(e=e.child;e!==null;)lp(e),e=e.sibling}function lp(e){switch(e.tag){case 26:Ms(e),e.flags&Va&&e.memoizedState!==null&&v0(Jt,e.memoizedState,e.memoizedProps);break;case 5:Ms(e);break;case 3:case 4:var t=Jt;Jt=qr(e.stateNode.containerInfo),Ms(e),Jt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Va,Va=16777216,Ms(e),Va=t):Ms(e));break;default:Ms(e)}}function rp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];lt=r,up(r,e)}rp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)op(e),e=e.sibling}function op(e){switch(e.tag){case 0:case 11:case 15:qa(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:qa(e);break;case 12:qa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,xr(e)):qa(e);break;default:qa(e)}}function xr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];lt=r,up(r,e)}rp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wn(8,t,t.return),xr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,xr(t));break;default:xr(t)}e=e.sibling}}function up(e,t){for(;lt!==null;){var i=lt;switch(i.tag){case 0:case 11:case 15:Wn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ca(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,lt=r;else e:for(i=e;lt!==null;){r=lt;var u=r.sibling,c=r.return;if(ep(r),r===i){lt=null;break e}if(u!==null){u.return=c,lt=u;break e}lt=c}}}var LS={getCacheForType:function(e){var t=_t(We),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},kS=typeof WeakMap=="function"?WeakMap:Map,be=0,xe=null,ce=null,pe=0,Te=0,zt=null,ei=!1,Is=!1,yc=!1,In=0,Pe=0,ti=0,Pi=0,vc=0,Kt=0,Us=0,Ga=null,Rt=null,Sc=!1,Ec=0,Mr=1/0,Ir=null,ni=null,mt=0,ii=null,Ls=null,ks=0,bc=0,Tc=null,cp=null,Ya=0,wc=null;function Ht(){if((be&2)!==0&&pe!==0)return pe&-pe;if(O.T!==null){var e=Ts;return e!==0?e:xc()}return it()}function fp(){Kt===0&&(Kt=(pe&536870912)===0||ye?ql():536870912);var e=Xt.current;return e!==null&&(e.flags|=32),Kt}function jt(e,t,i){(e===xe&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(zs(e,0),si(e,pe,Kt,!1)),wi(e,i),((be&2)===0||e!==xe)&&(e===xe&&((be&2)===0&&(Pi|=i),Pe===4&&si(e,pe,Kt,!1)),mn(e))}function hp(e,t,i){if((be&6)!==0)throw Error(l(327));var r=!i&&(t&124)===0&&(t&e.expiredLanes)===0||Ti(e,t),u=r?jS(e,t):Nc(e,t,!0),c=r;do{if(u===0){Is&&!r&&si(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!zS(i)){u=Nc(e,t,!1),c=!1;continue}if(u===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var _=e;u=Ga;var y=_.current.memoizedState.isDehydrated;if(y&&(zs(_,d).flags|=256),d=Nc(_,d,!1),d!==2){if(yc&&!y){_.errorRecoveryDisabledLanes|=c,Pi|=c,u=4;break e}c=Rt,Rt=u,c!==null&&(Rt===null?Rt=c:Rt.push.apply(Rt,c))}u=d}if(c=!1,u!==2)continue}}if(u===1){zs(e,0),si(e,t,0,!0);break}e:{switch(r=e,c=u,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:si(r,t,Kt,!ei);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=Ec+300-Bt(),10<u)){if(si(r,t,Kt,!ei),bi(r,0,!0)!==0)break e;r.timeoutHandle=Pp(dp.bind(null,r,i,Rt,Ir,Sc,t,Kt,Pi,Us,ei,c,2,-0,0),u);break e}dp(r,i,Rt,Ir,Sc,t,Kt,Pi,Us,ei,c,0,-0,0)}}break}while(!0);mn(e)}function dp(e,t,i,r,u,c,d,_,y,N,x,I,R,D){if(e.timeoutHandle=-1,I=t.subtreeFlags,(I&8192||(I&16785408)===16785408)&&(Ja={stylesheets:null,count:0,unsuspend:y0},lp(t),I=S0(),I!==null)){e.cancelPendingCommit=I(Sp.bind(null,e,t,c,i,r,u,d,_,y,x,1,R,D)),si(e,c,d,!N);return}Sp(e,t,c,i,r,u,d,_,y)}function zS(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var u=i[r],c=u.getSnapshot;u=u.value;try{if(!It(c(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function si(e,t,i,r){t&=~vc,t&=~Pi,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var u=t;0<u;){var c=31-St(u),d=1<<c;r[c]=-1,u&=~d}i!==0&&q(e,i,t)}function Ur(){return(be&6)===0?(Qa(0),!1):!0}function Cc(){if(ce!==null){if(Te===0)var e=ce.return;else e=ce,Cn=Li=null,Vu(e),Ds=null,ka=0,e=ce;for(;e!==null;)Qm(e.alternate,e),e=e.return;ce=null}}function zs(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,t0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Cc(),xe=e,ce=i=bn(e.current,null),pe=t,Te=0,zt=null,ei=!1,Is=Ti(e,t),yc=!1,Us=Kt=vc=Pi=ti=Pe=0,Rt=Ga=null,Sc=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var u=31-St(r),c=1<<u;t|=e[u],r&=~c}return In=t,nr(),i}function mp(e,t){ae=null,O.H=Er,t===Na||t===fr?(t=xd(),Te=3):t===Rd?(t=xd(),Te=4):Te=t===Mm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,ce===null&&(Pe=1,Ar(e,qt(t,e.current)))}function pp(){var e=O.H;return O.H=Er,e===null?Er:e}function gp(){var e=O.A;return O.A=LS,e}function Ac(){Pe=4,ei||(pe&4194048)!==pe&&Xt.current!==null||(Is=!0),(ti&134217727)===0&&(Pi&134217727)===0||xe===null||si(xe,pe,Kt,!1)}function Nc(e,t,i){var r=be;be|=2;var u=pp(),c=gp();(xe!==e||pe!==t)&&(Ir=null,zs(e,t)),t=!1;var d=Pe;e:do try{if(Te!==0&&ce!==null){var _=ce,y=zt;switch(Te){case 8:Cc(),d=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(t=!0);var N=Te;if(Te=0,zt=null,Hs(e,_,y,N),i&&Is){d=0;break e}break;default:N=Te,Te=0,zt=null,Hs(e,_,y,N)}}HS(),d=Pe;break}catch(x){mp(e,x)}while(!0);return t&&e.shellSuspendCounter++,Cn=Li=null,be=r,O.H=u,O.A=c,ce===null&&(xe=null,pe=0,nr()),d}function HS(){for(;ce!==null;)_p(ce)}function jS(e,t){var i=be;be|=2;var r=pp(),u=gp();xe!==e||pe!==t?(Ir=null,Mr=Bt()+500,zs(e,t)):Is=Ti(e,t);e:do try{if(Te!==0&&ce!==null){t=ce;var c=zt;t:switch(Te){case 1:Te=0,zt=null,Hs(e,t,c,1);break;case 2:case 9:if(Dd(c)){Te=0,zt=null,yp(t);break}t=function(){Te!==2&&Te!==9||xe!==e||(Te=7),mn(e)},c.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:Dd(c)?(Te=0,zt=null,yp(t)):(Te=0,zt=null,Hs(e,t,c,7));break;case 5:var d=null;switch(ce.tag){case 26:d=ce.memoizedState;case 5:case 27:var _=ce;if(!d||$p(d)){Te=0,zt=null;var y=_.sibling;if(y!==null)ce=y;else{var N=_.return;N!==null?(ce=N,Lr(N)):ce=null}break t}}Te=0,zt=null,Hs(e,t,c,5);break;case 6:Te=0,zt=null,Hs(e,t,c,6);break;case 8:Cc(),Pe=6;break e;default:throw Error(l(462))}}BS();break}catch(x){mp(e,x)}while(!0);return Cn=Li=null,O.H=r,O.A=u,be=i,ce!==null?0:(xe=null,pe=0,nr(),Pe)}function BS(){for(;ce!==null&&!jo();)_p(ce)}function _p(e){var t=Gm(e.alternate,e,In);e.memoizedProps=e.pendingProps,t===null?Lr(e):ce=t}function yp(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Hm(i,t,t.pendingProps,t.type,void 0,pe);break;case 11:t=Hm(i,t,t.pendingProps,t.type.render,t.ref,pe);break;case 5:Vu(t);default:Qm(i,t),t=ce=vd(t,In),t=Gm(i,t,In)}e.memoizedProps=e.pendingProps,t===null?Lr(e):ce=t}function Hs(e,t,i,r){Cn=Li=null,Vu(t),Ds=null,ka=0;var u=t.return;try{if(DS(e,u,t,i,pe)){Pe=1,Ar(e,qt(i,e.current)),ce=null;return}}catch(c){if(u!==null)throw ce=u,c;Pe=1,Ar(e,qt(i,e.current)),ce=null;return}t.flags&32768?(ye||r===1?e=!0:Is||(pe&536870912)!==0?e=!1:(ei=e=!0,(r===2||r===9||r===3||r===6)&&(r=Xt.current,r!==null&&r.tag===13&&(r.flags|=16384))),vp(t,e)):Lr(t)}function Lr(e){var t=e;do{if((t.flags&32768)!==0){vp(t,ei);return}e=t.return;var i=xS(t.alternate,t,In);if(i!==null){ce=i;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);Pe===0&&(Pe=5)}function vp(e,t){do{var i=MS(e.alternate,e);if(i!==null){i.flags&=32767,ce=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ce=e;return}ce=e=i}while(e!==null);Pe=6,ce=null}function Sp(e,t,i,r,u,c,d,_,y){e.cancelPendingCommit=null;do kr();while(mt!==0);if((be&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=_u,U(e,i,c,d,_,y),e===xe&&(ce=xe=null,pe=0),Ls=t,ii=e,ks=i,bc=c,Tc=u,cp=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,GS(Ei,function(){return Cp(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,u=B.p,B.p=2,d=be,be|=4;try{IS(e,t,i)}finally{be=d,B.p=u,O.T=r}}mt=1,Ep(),bp(),Tp()}}function Ep(){if(mt===1){mt=0;var e=ii,t=Ls,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var r=B.p;B.p=2;var u=be;be|=4;try{ip(t,e);var c=jc,d=ud(e.containerInfo),_=c.focusedElem,y=c.selectionRange;if(d!==_&&_&&_.ownerDocument&&od(_.ownerDocument.documentElement,_)){if(y!==null&&hu(_)){var N=y.start,x=y.end;if(x===void 0&&(x=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(x,_.value.length);else{var I=_.ownerDocument||document,R=I&&I.defaultView||window;if(R.getSelection){var D=R.getSelection(),J=_.textContent.length,K=Math.min(y.start,J),Ae=y.end===void 0?K:Math.min(y.end,J);!D.extend&&K>Ae&&(d=Ae,Ae=K,K=d);var C=rd(_,K),T=rd(_,Ae);if(C&&T&&(D.rangeCount!==1||D.anchorNode!==C.node||D.anchorOffset!==C.offset||D.focusNode!==T.node||D.focusOffset!==T.offset)){var A=I.createRange();A.setStart(C.node,C.offset),D.removeAllRanges(),K>Ae?(D.addRange(A),D.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),D.addRange(A))}}}}for(I=[],D=_;D=D.parentNode;)D.nodeType===1&&I.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<I.length;_++){var M=I[_];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Kr=!!Hc,jc=Hc=null}finally{be=u,B.p=r,O.T=i}}e.current=t,mt=2}}function bp(){if(mt===2){mt=0;var e=ii,t=Ls,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var r=B.p;B.p=2;var u=be;be|=4;try{$m(e,t.alternate,t)}finally{be=u,B.p=r,O.T=i}}mt=3}}function Tp(){if(mt===4||mt===3){mt=0,Bo();var e=ii,t=Ls,i=ks,r=cp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mt=5:(mt=0,Ls=ii=null,wp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ni=null),me(i),t=t.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Vn,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=O.T,u=B.p,B.p=2,O.T=null;try{for(var c=e.onRecoverableError,d=0;d<r.length;d++){var _=r[d];c(_.value,{componentStack:_.stack})}}finally{O.T=t,B.p=u}}(ks&3)!==0&&kr(),mn(e),u=e.pendingLanes,(i&4194090)!==0&&(u&42)!==0?e===wc?Ya++:(Ya=0,wc=e):Ya=0,Qa(0)}}function wp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ca(t)))}function kr(e){return Ep(),bp(),Tp(),Cp()}function Cp(){if(mt!==5)return!1;var e=ii,t=bc;bc=0;var i=me(ks),r=O.T,u=B.p;try{B.p=32>i?32:i,O.T=null,i=Tc,Tc=null;var c=ii,d=ks;if(mt=0,Ls=ii=null,ks=0,(be&6)!==0)throw Error(l(331));var _=be;if(be|=4,op(c.current),ap(c,c.current,d,i),be=_,Qa(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Vn,c)}catch{}return!0}finally{B.p=u,O.T=r,wp(e,t)}}function Ap(e,t,i){t=qt(i,t),t=nc(e.stateNode,t,2),e=Xn(e,t,2),e!==null&&(wi(e,2),mn(e))}function Re(e,t,i){if(e.tag===3)Ap(e,e,i);else for(;t!==null;){if(t.tag===3){Ap(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){e=qt(i,e),i=Om(2),r=Xn(t,i,2),r!==null&&(xm(i,r,t,e),wi(r,2),mn(r));break}}t=t.return}}function Rc(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new kS;var u=new Set;r.set(t,u)}else u=r.get(t),u===void 0&&(u=new Set,r.set(t,u));u.has(i)||(yc=!0,u.add(i),e=PS.bind(null,e,t,i),t.then(e,e))}function PS(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,xe===e&&(pe&i)===i&&(Pe===4||Pe===3&&(pe&62914560)===pe&&300>Bt()-Ec?(be&2)===0&&zs(e,0):vc|=i,Us===pe&&(Us=0)),mn(e)}function Np(e,t){t===0&&(t=Gl()),e=vs(e,t),e!==null&&(wi(e,t),mn(e))}function VS(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Np(e,i)}function qS(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),Np(e,i)}function GS(e,t){return Xe(e,t)}var zr=null,js=null,Dc=!1,Hr=!1,Oc=!1,Vi=0;function mn(e){e!==js&&e.next===null&&(js===null?zr=js=e:js=js.next=e),Hr=!0,Dc||(Dc=!0,QS())}function Qa(e,t){if(!Oc&&Hr){Oc=!0;do for(var i=!1,r=zr;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var c=0;else{var d=r.suspendedLanes,_=r.pingedLanes;c=(1<<31-St(42|e)+1)-1,c&=u&~(d&~_),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,xp(r,c))}else c=pe,c=bi(r,r===xe?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(c&3)===0||Ti(r,c)||(i=!0,xp(r,c));r=r.next}while(i);Oc=!1}}function YS(){Rp()}function Rp(){Hr=Dc=!1;var e=0;Vi!==0&&(e0()&&(e=Vi),Vi=0);for(var t=Bt(),i=null,r=zr;r!==null;){var u=r.next,c=Dp(r,t);c===0?(r.next=null,i===null?zr=u:i.next=u,u===null&&(js=i)):(i=r,(e!==0||(c&3)!==0)&&(Hr=!0)),r=u}Qa(e)}function Dp(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-St(c),_=1<<d,y=u[d];y===-1?((_&i)===0||(_&r)!==0)&&(u[d]=Yo(_,t)):y<=t&&(e.expiredLanes|=_),c&=~_}if(t=xe,i=pe,i=bi(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ua(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ti(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&ua(r),me(i)){case 2:case 8:i=on;break;case 32:i=Ei;break;case 268435456:i=Bl;break;default:i=Ei}return r=Op.bind(null,e),i=Xe(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&ua(r),e.callbackPriority=2,e.callbackNode=null,2}function Op(e,t){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(kr()&&e.callbackNode!==i)return null;var r=pe;return r=bi(e,e===xe?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(hp(e,r,t),Dp(e,Bt()),e.callbackNode!=null&&e.callbackNode===i?Op.bind(null,e):null)}function xp(e,t){if(kr())return null;hp(e,t,!0)}function QS(){n0(function(){(be&6)!==0?Xe(jl,YS):Rp()})}function xc(){return Vi===0&&(Vi=ql()),Vi}function Mp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fl(""+e)}function Ip(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function XS(e,t,i,r,u){if(t==="submit"&&i&&i.stateNode===u){var c=Mp((u[wt]||null).action),d=r.submitter;d&&(t=(t=d[wt]||null)?Mp(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var _=new $l("action","action",null,r,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Vi!==0){var y=d?Ip(u,d):new FormData(u);Wu(i,{pending:!0,data:y,method:u.method,action:c},null,y)}}else typeof c=="function"&&(_.preventDefault(),y=d?Ip(u,d):new FormData(u),Wu(i,{pending:!0,data:y,method:u.method,action:c},c,y))},currentTarget:u}]})}}for(var Mc=0;Mc<gu.length;Mc++){var Ic=gu[Mc],KS=Ic.toLowerCase(),FS=Ic[0].toUpperCase()+Ic.slice(1);Wt(KS,"on"+FS)}Wt(hd,"onAnimationEnd"),Wt(dd,"onAnimationIteration"),Wt(md,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(hS,"onTransitionRun"),Wt(dS,"onTransitionStart"),Wt(mS,"onTransitionCancel"),Wt(pd,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xa));function Up(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],u=r.event;r=r.listeners;e:{var c=void 0;if(t)for(var d=r.length-1;0<=d;d--){var _=r[d],y=_.instance,N=_.currentTarget;if(_=_.listener,y!==c&&u.isPropagationStopped())break e;c=_,u.currentTarget=N;try{c(u)}catch(x){Cr(x)}u.currentTarget=null,c=y}else for(d=0;d<r.length;d++){if(_=r[d],y=_.instance,N=_.currentTarget,_=_.listener,y!==c&&u.isPropagationStopped())break e;c=_,u.currentTarget=N;try{c(u)}catch(x){Cr(x)}u.currentTarget=null,c=y}}}}function fe(e,t){var i=t[Qo];i===void 0&&(i=t[Qo]=new Set);var r=e+"__bubble";i.has(r)||(Lp(t,e,2,!1),i.add(r))}function Uc(e,t,i){var r=0;t&&(r|=4),Lp(i,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Lc(e){if(!e[jr]){e[jr]=!0,Rh.forEach(function(i){i!=="selectionchange"&&(ZS.has(i)||Uc(i,!1,e),Uc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jr]||(t[jr]=!0,Uc("selectionchange",!1,t))}}function Lp(e,t,i,r){switch(ag(t)){case 2:var u=T0;break;case 8:u=w0;break;default:u=Fc}i=u.bind(null,t,i,e),u=void 0,!iu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function kc(e,t,i,r,u){var c=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var _=r.stateNode.containerInfo;if(_===u)break;if(d===4)for(d=r.return;d!==null;){var y=d.tag;if((y===3||y===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;_!==null;){if(d=ls(_),d===null)return;if(y=d.tag,y===5||y===6||y===26||y===27){r=c=d;continue e}_=_.parentNode}}r=r.return}Vh(function(){var N=c,x=tu(i),I=[];e:{var R=gd.get(e);if(R!==void 0){var D=$l,J=e;switch(e){case"keypress":if(Wl(i)===0)break e;case"keydown":case"keyup":D=Gv;break;case"focusin":J="focus",D=ru;break;case"focusout":J="blur",D=ru;break;case"beforeblur":case"afterblur":D=ru;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=Mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Xv;break;case hd:case dd:case md:D=Lv;break;case pd:D=Fv;break;case"scroll":case"scrollend":D=Ov;break;case"wheel":D=Wv;break;case"copy":case"cut":case"paste":D=zv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Xh;break;case"toggle":case"beforetoggle":D=$v}var K=(t&4)!==0,Ae=!K&&(e==="scroll"||e==="scrollend"),C=K?R!==null?R+"Capture":null:R;K=[];for(var T=N,A;T!==null;){var M=T;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||C===null||(M=ha(T,C),M!=null&&K.push(Ka(T,M,A))),Ae)break;T=T.return}0<K.length&&(R=new D(R,J,null,i,x),I.push({event:R,listeners:K}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&i!==eu&&(J=i.relatedTarget||i.fromElement)&&(ls(J)||J[as]))break e;if((D||R)&&(R=x.window===x?x:(R=x.ownerDocument)?R.defaultView||R.parentWindow:window,D?(J=i.relatedTarget||i.toElement,D=N,J=J?ls(J):null,J!==null&&(Ae=f(J),K=J.tag,J!==Ae||K!==5&&K!==27&&K!==6)&&(J=null)):(D=null,J=N),D!==J)){if(K=Yh,M="onMouseLeave",C="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(K=Xh,M="onPointerLeave",C="onPointerEnter",T="pointer"),Ae=D==null?R:fa(D),A=J==null?R:fa(J),R=new K(M,T+"leave",D,i,x),R.target=Ae,R.relatedTarget=A,M=null,ls(x)===N&&(K=new K(C,T+"enter",J,i,x),K.target=A,K.relatedTarget=Ae,M=K),Ae=M,D&&J)t:{for(K=D,C=J,T=0,A=K;A;A=Bs(A))T++;for(A=0,M=C;M;M=Bs(M))A++;for(;0<T-A;)K=Bs(K),T--;for(;0<A-T;)C=Bs(C),A--;for(;T--;){if(K===C||C!==null&&K===C.alternate)break t;K=Bs(K),C=Bs(C)}K=null}else K=null;D!==null&&kp(I,R,D,K,!1),J!==null&&Ae!==null&&kp(I,Ae,J,K,!0)}}e:{if(R=N?fa(N):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var G=td;else if($h(R))if(nd)G=uS;else{G=rS;var re=lS}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?N&&$o(N.elementType)&&(G=td):G=oS;if(G&&(G=G(e,N))){ed(I,G,i,x);break e}re&&re(e,R,N),e==="focusout"&&N&&R.type==="number"&&N.memoizedProps.value!=null&&Jo(R,"number",R.value)}switch(re=N?fa(N):window,e){case"focusin":($h(re)||re.contentEditable==="true")&&(gs=re,du=N,Sa=null);break;case"focusout":Sa=du=gs=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,cd(I,i,x);break;case"selectionchange":if(fS)break;case"keydown":case"keyup":cd(I,i,x)}var Y;if(uu)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else ps?Wh(e,i)&&(F="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(F="onCompositionStart");F&&(Kh&&i.locale!=="ko"&&(ps||F!=="onCompositionStart"?F==="onCompositionEnd"&&ps&&(Y=qh()):(qn=x,su="value"in qn?qn.value:qn.textContent,ps=!0)),re=Br(N,F),0<re.length&&(F=new Qh(F,e,null,i,x),I.push({event:F,listeners:re}),Y?F.data=Y:(Y=Jh(i),Y!==null&&(F.data=Y)))),(Y=tS?nS(e,i):iS(e,i))&&(F=Br(N,"onBeforeInput"),0<F.length&&(re=new Qh("onBeforeInput","beforeinput",null,i,x),I.push({event:re,listeners:F}),re.data=Y)),XS(I,e,N,i,x)}Up(I,t)})}function Ka(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Br(e,t){for(var i=t+"Capture",r=[];e!==null;){var u=e,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=ha(e,i),u!=null&&r.unshift(Ka(e,u,c)),u=ha(e,t),u!=null&&r.push(Ka(e,u,c))),e.tag===3)return r;e=e.return}return[]}function Bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kp(e,t,i,r,u){for(var c=t._reactName,d=[];i!==null&&i!==r;){var _=i,y=_.alternate,N=_.stateNode;if(_=_.tag,y!==null&&y===r)break;_!==5&&_!==26&&_!==27||N===null||(y=N,u?(N=ha(i,c),N!=null&&d.unshift(Ka(i,N,y))):u||(N=ha(i,c),N!=null&&d.push(Ka(i,N,y)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var WS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function zp(e){return(typeof e=="string"?e:""+e).replace(WS,`
`).replace(JS,"")}function Hp(e,t){return t=zp(t),zp(e)===t}function Pr(){}function Ce(e,t,i,r,u,c){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||hs(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&hs(e,""+r);break;case"className":Ql(e,"class",r);break;case"tabIndex":Ql(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ql(e,i,r);break;case"style":Bh(e,r,c);break;case"data":if(t!=="object"){Ql(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Fl(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Ce(e,t,"name",u.name,u,null),Ce(e,t,"formEncType",u.formEncType,u,null),Ce(e,t,"formMethod",u.formMethod,u,null),Ce(e,t,"formTarget",u.formTarget,u,null)):(Ce(e,t,"encType",u.encType,u,null),Ce(e,t,"method",u.method,u,null),Ce(e,t,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Fl(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=Pr);break;case"onScroll":r!=null&&fe("scroll",e);break;case"onScrollEnd":r!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=Fl(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":fe("beforetoggle",e),fe("toggle",e),Yl(e,"popover",r);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Yl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Rv.get(i)||i,Yl(e,i,r))}}function zc(e,t,i,r,u,c){switch(i){case"style":Bh(e,r,c);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"children":typeof r=="string"?hs(e,r):(typeof r=="number"||typeof r=="bigint")&&hs(e,""+r);break;case"onScroll":r!=null&&fe("scroll",e);break;case"onScrollEnd":r!=null&&fe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),c=e[wt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,u),typeof r=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,u);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):Yl(e,i,r)}}}function pt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var r=!1,u=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ce(e,t,c,d,i,null)}}u&&Ce(e,t,"srcSet",i.srcSet,i,null),r&&Ce(e,t,"src",i.src,i,null);return;case"input":fe("invalid",e);var _=c=d=u=null,y=null,N=null;for(r in i)if(i.hasOwnProperty(r)){var x=i[r];if(x!=null)switch(r){case"name":u=x;break;case"type":d=x;break;case"checked":y=x;break;case"defaultChecked":N=x;break;case"value":c=x;break;case"defaultValue":_=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(137,t));break;default:Ce(e,t,r,x,i,null)}}kh(e,c,_,y,N,d,u,!1),Xl(e);return;case"select":fe("invalid",e),r=d=c=null;for(u in i)if(i.hasOwnProperty(u)&&(_=i[u],_!=null))switch(u){case"value":c=_;break;case"defaultValue":d=_;break;case"multiple":r=_;default:Ce(e,t,u,_,i,null)}t=c,i=d,e.multiple=!!r,t!=null?fs(e,!!r,t,!1):i!=null&&fs(e,!!r,i,!0);return;case"textarea":fe("invalid",e),c=u=r=null;for(d in i)if(i.hasOwnProperty(d)&&(_=i[d],_!=null))switch(d){case"value":r=_;break;case"defaultValue":u=_;break;case"children":c=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Ce(e,t,d,_,i,null)}Hh(e,r,u,c),Xl(e);return;case"option":for(y in i)if(i.hasOwnProperty(y)&&(r=i[y],r!=null))switch(y){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ce(e,t,y,r,i,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(r=0;r<Xa.length;r++)fe(Xa[r],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(r=i[N],r!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ce(e,t,N,r,i,null)}return;default:if($o(t)){for(x in i)i.hasOwnProperty(x)&&(r=i[x],r!==void 0&&zc(e,t,x,r,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(r=i[_],r!=null&&Ce(e,t,_,r,i,null))}function $S(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,d=null,_=null,y=null,N=null,x=null;for(D in i){var I=i[D];if(i.hasOwnProperty(D)&&I!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":y=I;default:r.hasOwnProperty(D)||Ce(e,t,D,null,r,I)}}for(var R in r){var D=r[R];if(I=i[R],r.hasOwnProperty(R)&&(D!=null||I!=null))switch(R){case"type":c=D;break;case"name":u=D;break;case"checked":N=D;break;case"defaultChecked":x=D;break;case"value":d=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:D!==I&&Ce(e,t,R,D,r,I)}}Wo(e,d,_,y,N,x,c,u);return;case"select":D=d=_=R=null;for(c in i)if(y=i[c],i.hasOwnProperty(c)&&y!=null)switch(c){case"value":break;case"multiple":D=y;default:r.hasOwnProperty(c)||Ce(e,t,c,null,r,y)}for(u in r)if(c=r[u],y=i[u],r.hasOwnProperty(u)&&(c!=null||y!=null))switch(u){case"value":R=c;break;case"defaultValue":_=c;break;case"multiple":d=c;default:c!==y&&Ce(e,t,u,c,r,y)}t=_,i=d,r=D,R!=null?fs(e,!!i,R,!1):!!r!=!!i&&(t!=null?fs(e,!!i,t,!0):fs(e,!!i,i?[]:"",!1));return;case"textarea":D=R=null;for(_ in i)if(u=i[_],i.hasOwnProperty(_)&&u!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ce(e,t,_,null,r,u)}for(d in r)if(u=r[d],c=i[d],r.hasOwnProperty(d)&&(u!=null||c!=null))switch(d){case"value":R=u;break;case"defaultValue":D=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==c&&Ce(e,t,d,u,r,c)}zh(e,R,D);return;case"option":for(var J in i)if(R=i[J],i.hasOwnProperty(J)&&R!=null&&!r.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Ce(e,t,J,null,r,R)}for(y in r)if(R=r[y],D=i[y],r.hasOwnProperty(y)&&R!==D&&(R!=null||D!=null))switch(y){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Ce(e,t,y,R,r,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in i)R=i[K],i.hasOwnProperty(K)&&R!=null&&!r.hasOwnProperty(K)&&Ce(e,t,K,null,r,R);for(N in r)if(R=r[N],D=i[N],r.hasOwnProperty(N)&&R!==D&&(R!=null||D!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,t));break;default:Ce(e,t,N,R,r,D)}return;default:if($o(t)){for(var Ae in i)R=i[Ae],i.hasOwnProperty(Ae)&&R!==void 0&&!r.hasOwnProperty(Ae)&&zc(e,t,Ae,void 0,r,R);for(x in r)R=r[x],D=i[x],!r.hasOwnProperty(x)||R===D||R===void 0&&D===void 0||zc(e,t,x,R,r,D);return}}for(var C in i)R=i[C],i.hasOwnProperty(C)&&R!=null&&!r.hasOwnProperty(C)&&Ce(e,t,C,null,r,R);for(I in r)R=r[I],D=i[I],!r.hasOwnProperty(I)||R===D||R==null&&D==null||Ce(e,t,I,R,r,D)}var Hc=null,jc=null;function Vr(e){return e.nodeType===9?e:e.ownerDocument}function jp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=null;function e0(){var e=window.event;return e&&e.type==="popstate"?e===Pc?!1:(Pc=e,!0):(Pc=null,!1)}var Pp=typeof setTimeout=="function"?setTimeout:void 0,t0=typeof clearTimeout=="function"?clearTimeout:void 0,Vp=typeof Promise=="function"?Promise:void 0,n0=typeof queueMicrotask=="function"?queueMicrotask:typeof Vp<"u"?function(e){return Vp.resolve(null).then(e).catch(i0)}:Pp;function i0(e){setTimeout(function(){throw e})}function ai(e){return e==="head"}function qp(e,t){var i=t,r=0,u=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(0<r&&8>r){i=r;var d=e.ownerDocument;if(i&1&&Fa(d.documentElement),i&2&&Fa(d.body),i&4)for(i=d.head,Fa(i),d=i.firstChild;d;){var _=d.nextSibling,y=d.nodeName;d[ca]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=_}}if(u===0){e.removeChild(c),il(t);return}u--}else i==="$"||i==="$?"||i==="$!"?u++:r=i.charCodeAt(0)-48;else r=0;i=c}while(i);il(t)}function Vc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Vc(i),Xo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function s0(e,t,i,r){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[ca])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function a0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=$t(e.nextSibling),e===null))return null;return e}function qc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function l0(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Gc=null;function Gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function Yp(e,t,i){switch(t=Vr(i),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Fa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xo(e)}var Ft=new Map,Qp=new Set;function qr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Un=B.d;B.d={f:r0,r:o0,D:u0,C:c0,L:f0,m:h0,X:m0,S:d0,M:p0};function r0(){var e=Un.f(),t=Ur();return e||t}function o0(e){var t=rs(e);t!==null&&t.tag===5&&t.type==="form"?hm(t):Un.r(e)}var Ps=typeof document>"u"?null:document;function Xp(e,t,i){var r=Ps;if(r&&typeof t=="string"&&t){var u=Vt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),Qp.has(u)||(Qp.add(u),e={rel:e,crossOrigin:i,href:t},r.querySelector(u)===null&&(t=r.createElement("link"),pt(t,"link",e),st(t),r.head.appendChild(t)))}}function u0(e){Un.D(e),Xp("dns-prefetch",e,null)}function c0(e,t){Un.C(e,t),Xp("preconnect",e,t)}function f0(e,t,i){Un.L(e,t,i);var r=Ps;if(r&&e&&t){var u='link[rel="preload"][as="'+Vt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+Vt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+Vt(i.imageSizes)+'"]')):u+='[href="'+Vt(e)+'"]';var c=u;switch(t){case"style":c=Vs(e);break;case"script":c=qs(e)}Ft.has(c)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Ft.set(c,e),r.querySelector(u)!==null||t==="style"&&r.querySelector(Za(c))||t==="script"&&r.querySelector(Wa(c))||(t=r.createElement("link"),pt(t,"link",e),st(t),r.head.appendChild(t)))}}function h0(e,t){Un.m(e,t);var i=Ps;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Vt(r)+'"][href="'+Vt(e)+'"]',c=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=qs(e)}if(!Ft.has(c)&&(e=v({rel:"modulepreload",href:e},t),Ft.set(c,e),i.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Wa(c)))return}r=i.createElement("link"),pt(r,"link",e),st(r),i.head.appendChild(r)}}}function d0(e,t,i){Un.S(e,t,i);var r=Ps;if(r&&e){var u=os(r).hoistableStyles,c=Vs(e);t=t||"default";var d=u.get(c);if(!d){var _={loading:0,preload:null};if(d=r.querySelector(Za(c)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Ft.get(c))&&Yc(e,i);var y=d=r.createElement("link");st(y),pt(y,"link",e),y._p=new Promise(function(N,x){y.onload=N,y.onerror=x}),y.addEventListener("load",function(){_.loading|=1}),y.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Gr(d,t,r)}d={type:"stylesheet",instance:d,count:1,state:_},u.set(c,d)}}}function m0(e,t){Un.X(e,t);var i=Ps;if(i&&e){var r=os(i).hoistableScripts,u=qs(e),c=r.get(u);c||(c=i.querySelector(Wa(u)),c||(e=v({src:e,async:!0},t),(t=Ft.get(u))&&Qc(e,t),c=i.createElement("script"),st(c),pt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(u,c))}}function p0(e,t){Un.M(e,t);var i=Ps;if(i&&e){var r=os(i).hoistableScripts,u=qs(e),c=r.get(u);c||(c=i.querySelector(Wa(u)),c||(e=v({src:e,async:!0,type:"module"},t),(t=Ft.get(u))&&Qc(e,t),c=i.createElement("script"),st(c),pt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(u,c))}}function Kp(e,t,i,r){var u=(u=ee.current)?qr(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Vs(i.href),i=os(u).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Vs(i.href);var c=os(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Za(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Ft.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ft.set(e,i),c||g0(u,e,i,d.state))),t&&r===null)throw Error(l(528,""));return d}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qs(i),i=os(u).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Vs(e){return'href="'+Vt(e)+'"'}function Za(e){return'link[rel="stylesheet"]['+e+"]"}function Fp(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function g0(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),pt(t,"link",i),st(t),e.head.appendChild(t))}function qs(e){return'[src="'+Vt(e)+'"]'}function Wa(e){return"script[async]"+e}function Zp(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Vt(i.href)+'"]');if(r)return t.instance=r,st(r),r;var u=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),st(r),pt(r,"style",u),Gr(r,i.precedence,e),t.instance=r;case"stylesheet":u=Vs(i.href);var c=e.querySelector(Za(u));if(c)return t.state.loading|=4,t.instance=c,st(c),c;r=Fp(i),(u=Ft.get(u))&&Yc(r,u),c=(e.ownerDocument||e).createElement("link"),st(c);var d=c;return d._p=new Promise(function(_,y){d.onload=_,d.onerror=y}),pt(c,"link",r),t.state.loading|=4,Gr(c,i.precedence,e),t.instance=c;case"script":return c=qs(i.src),(u=e.querySelector(Wa(c)))?(t.instance=u,st(u),u):(r=i,(u=Ft.get(c))&&(r=v({},i),Qc(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),st(u),pt(u,"link",r),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Gr(r,i.precedence,e));return t.instance}function Gr(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,c=u,d=0;d<r.length;d++){var _=r[d];if(_.dataset.precedence===t)c=_;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yr=null;function Wp(e,t,i){if(Yr===null){var r=new Map,u=Yr=new Map;u.set(i,r)}else u=Yr,r=u.get(i),r||(r=new Map,u.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var c=i[u];if(!(c[ca]||c[gt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var _=r.get(d);_?_.push(c):r.set(d,[c])}}return r}function Jp(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function _0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $p(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ja=null;function y0(){}function v0(e,t,i){if(Ja===null)throw Error(l(475));var r=Ja;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=Vs(i.href),c=e.querySelector(Za(u));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Qr.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=c,st(c);return}c=e.ownerDocument||e,i=Fp(i),(u=Ft.get(u))&&Yc(i,u),c=c.createElement("link"),st(c);var d=c;d._p=new Promise(function(_,y){d.onload=_,d.onerror=y}),pt(c,"link",i),t.instance=c}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=Qr.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function S0(){if(Ja===null)throw Error(l(475));var e=Ja;return e.stylesheets&&e.count===0&&Xc(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Qr(){if(this.count--,this.count===0){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xr=null;function Xc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xr=new Map,t.forEach(E0,e),Xr=null,Qr.call(e))}function E0(e,t){if(!(t.state.loading&4)){var i=Xr.get(e);if(i)var r=i.get(null);else{i=new Map,Xr.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var d=u[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),r=d)}r&&i.set(null,r)}u=t.instance,d=u.getAttribute("data-precedence"),c=i.get(d)||r,c===r&&i.set(null,u),i.set(d,u),this.count++,r=Qr.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var $a={$$typeof:le,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function b0(e,t,i,r,u,c,d,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function eg(e,t,i,r,u,c,d,_,y,N,x,I){return e=new b0(e,t,i,d,_,y,N,I),t=1,c===!0&&(t|=24),c=Ut(3,null,null,t),e.current=c,c.stateNode=e,t=Ru(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:r,isDehydrated:i,cache:t},Mu(c),e}function tg(e){return e?(e=Ss,e):Ss}function ng(e,t,i,r,u,c){u=tg(u),r.context===null?r.context=u:r.pendingContext=u,r=Qn(t),r.payload={element:i},c=c===void 0?null:c,c!==null&&(r.callback=c),i=Xn(e,r,t),i!==null&&(jt(i,e,t),Da(i,e,t))}function ig(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Kc(e,t){ig(e,t),(e=e.alternate)&&ig(e,t)}function sg(e){if(e.tag===13){var t=vs(e,67108864);t!==null&&jt(t,e,67108864),Kc(e,67108864)}}var Kr=!0;function T0(e,t,i,r){var u=O.T;O.T=null;var c=B.p;try{B.p=2,Fc(e,t,i,r)}finally{B.p=c,O.T=u}}function w0(e,t,i,r){var u=O.T;O.T=null;var c=B.p;try{B.p=8,Fc(e,t,i,r)}finally{B.p=c,O.T=u}}function Fc(e,t,i,r){if(Kr){var u=Zc(r);if(u===null)kc(e,t,r,Fr,i),lg(e,r);else if(A0(u,e,t,i,r))r.stopPropagation();else if(lg(e,r),t&4&&-1<C0.indexOf(e)){for(;u!==null;){var c=rs(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=vn(c.pendingLanes);if(d!==0){var _=c;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var y=1<<31-St(d);_.entanglements[1]|=y,d&=~y}mn(c),(be&6)===0&&(Mr=Bt()+500,Qa(0))}}break;case 13:_=vs(c,2),_!==null&&jt(_,c,2),Ur(),Kc(c,2)}if(c=Zc(r),c===null&&kc(e,t,r,Fr,i),c===u)break;u=c}u!==null&&r.stopPropagation()}else kc(e,t,r,null,i)}}function Zc(e){return e=tu(e),Wc(e)}var Fr=null;function Wc(e){if(Fr=null,e=ls(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fr=e,null}function ag(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Po()){case jl:return 2;case on:return 8;case Ei:case Zt:return 32;case Bl:return 268435456;default:return 32}default:return 32}}var Jc=!1,li=null,ri=null,oi=null,el=new Map,tl=new Map,ui=[],C0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lg(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":el.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(t.pointerId)}}function nl(e,t,i,r,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:c,targetContainers:[u]},t!==null&&(t=rs(t),t!==null&&sg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function A0(e,t,i,r,u){switch(t){case"focusin":return li=nl(li,e,t,i,r,u),!0;case"dragenter":return ri=nl(ri,e,t,i,r,u),!0;case"mouseover":return oi=nl(oi,e,t,i,r,u),!0;case"pointerover":var c=u.pointerId;return el.set(c,nl(el.get(c)||null,e,t,i,r,u)),!0;case"gotpointercapture":return c=u.pointerId,tl.set(c,nl(tl.get(c)||null,e,t,i,r,u)),!0}return!1}function rg(e){var t=ls(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,Ci(e.priority,function(){if(i.tag===13){var r=Ht();r=W(r);var u=vs(i,r);u!==null&&jt(u,i,r),Kc(i,r)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Zc(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);eu=r,i.target.dispatchEvent(r),eu=null}else return t=rs(i),t!==null&&sg(t),e.blockedOn=i,!1;t.shift()}return!0}function og(e,t,i){Zr(e)&&i.delete(t)}function N0(){Jc=!1,li!==null&&Zr(li)&&(li=null),ri!==null&&Zr(ri)&&(ri=null),oi!==null&&Zr(oi)&&(oi=null),el.forEach(og),tl.forEach(og)}function Wr(e,t){e.blockedOn===t&&(e.blockedOn=null,Jc||(Jc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,N0)))}var Jr=null;function ug(e){Jr!==e&&(Jr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Jr===e&&(Jr=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],u=e[t+2];if(typeof r!="function"){if(Wc(r||i)===null)continue;break}var c=rs(i);c!==null&&(e.splice(t,3),t-=3,Wu(c,{pending:!0,data:u,method:i.method,action:r},r,u))}}))}function il(e){function t(y){return Wr(y,e)}li!==null&&Wr(li,e),ri!==null&&Wr(ri,e),oi!==null&&Wr(oi,e),el.forEach(t),tl.forEach(t);for(var i=0;i<ui.length;i++){var r=ui[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ui.length&&(i=ui[0],i.blockedOn===null);)rg(i),i.blockedOn===null&&ui.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var u=i[r],c=i[r+1],d=u[wt]||null;if(typeof c=="function")d||ug(i);else if(d){var _=null;if(c&&c.hasAttribute("formAction")){if(u=c,d=c[wt]||null)_=d.formAction;else if(Wc(u)!==null)continue}else _=d.action;typeof _=="function"?i[r+1]=_:(i.splice(r,3),r-=3),ug(i)}}}function $c(e){this._internalRoot=e}$r.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var i=t.current,r=Ht();ng(i,r,e,t,null,null)},$r.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ng(e.current,2,null,e,null,null),Ur(),t[as]=null}};function $r(e){this._internalRoot=e}$r.prototype.unstable_scheduleHydration=function(e){if(e){var t=it();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ui.length&&t!==0&&t<ui[i].priority;i++);ui.splice(i,0,e),i===0&&rg(e)}};var cg=n.version;if(cg!=="19.1.0")throw Error(l(527,cg,"19.1.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var R0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{Vn=eo.inject(R0),ht=eo}catch{}}return al.createRoot=function(e,t){if(!o(e))throw Error(l(299));var i=!1,r="",u=Am,c=Nm,d=Rm,_=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(_=t.unstable_transitionCallbacks)),t=eg(e,1,!1,null,null,i,r,u,c,d,_,null),e[as]=t.current,Lc(e),new $c(t)},al.hydrateRoot=function(e,t,i){if(!o(e))throw Error(l(299));var r=!1,u="",c=Am,d=Nm,_=Rm,y=null,N=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(y=i.unstable_transitionCallbacks),i.formState!==void 0&&(N=i.formState)),t=eg(e,1,!0,t,i??null,r,u,c,d,_,y,N),t.context=tg(null),i=t.current,r=Ht(),r=W(r),u=Qn(r),u.callback=null,Xn(i,u,r),i=r,t.current.lanes=i,wi(t,i),mn(t),e[as]=t.current,Lc(e),new $r(t)},al.version="19.1.0",al}var Sg;function H0(){if(Sg)return nf.exports;Sg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),nf.exports=z0(),nf.exports}var j0=H0();const B0=()=>{};var Eg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(a,n){if(!a)throw sa(n)},sa=function(a){return new Error("Firebase Database ("+C_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=function(a){const n=[];let s=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128)}return n},P0=function(a){const n=[];let s=0,l=0;for(;s<a.length;){const o=a[s++];if(o<128)n[l++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[s++];n[l++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[s++],h=a[s++],m=a[s++],p=((o&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;n[l++]=String.fromCharCode(55296+(p>>10)),n[l++]=String.fromCharCode(56320+(p&1023))}else{const f=a[s++],h=a[s++];n[l++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return n.join("")},Pf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const f=a[o],h=o+1<a.length,m=h?a[o+1]:0,p=o+2<a.length,g=p?a[o+2]:0,v=f>>2,S=(f&3)<<4|m>>4;let w=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(w=64)),l.push(s[v],s[S],s[w],s[k])}return l.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(A_(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):P0(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const f=s[a.charAt(o++)],m=o<a.length?s[a.charAt(o)]:0;++o;const g=o<a.length?s[a.charAt(o)]:64;++o;const S=o<a.length?s[a.charAt(o)]:64;if(++o,f==null||m==null||g==null||S==null)throw new V0;const w=f<<2|m>>4;if(l.push(w),g!==64){const k=m<<4&240|g>>2;if(l.push(k),S!==64){const H=g<<6&192|S;l.push(H)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class V0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N_=function(a){const n=A_(a);return Pf.encodeByteArray(n,!0)},R_=function(a){return N_(a).replace(/\./g,"")},ao=function(a){try{return Pf.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(a){return D_(void 0,a)}function D_(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const s=n;return new Date(s.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const s in n)!n.hasOwnProperty(s)||!G0(s)||(a[s]=D_(a[s],n[s]));return a}function G0(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=()=>Y0().__FIREBASE_DEFAULTS__,X0=()=>{if(typeof process>"u"||typeof Eg>"u")return;const a=Eg.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},K0=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&ao(a[1]);return n&&JSON.parse(n)},F0=()=>{try{return B0()||Q0()||X0()||K0()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Z0=a=>{var n;return(n=F0())===null||n===void 0?void 0:n[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,l)=>{s?this.reject(s):this.resolve(l),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function W0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J0(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function x_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $0(){return C_.NODE_ADMIN===!0}function eE(){try{return typeof indexedDB=="object"}catch{return!1}}function tE(){return new Promise((a,n)=>{try{let s=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var f;n(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(s){n(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="FirebaseError";class Ji extends Error{constructor(n,s,l){super(s),this.code=n,this.customData=l,this.name=nE,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(n,s,l){this.service=n,this.serviceName=s,this.errors=l}create(n,...s){const l=s[0]||{},o=`${this.service}/${n}`,f=this.errors[n],h=f?iE(f,l):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ji(o,m,l)}}function iE(a,n){return a.replace(sE,(s,l)=>{const o=n[l];return o!=null?String(o):`<${l}?>`})}const sE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(a){return JSON.parse(a)}function $e(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=function(a){let n={},s={},l={},o="";try{const f=a.split(".");n=vl(ao(f[0])||""),s=vl(ao(f[1])||""),o=f[2],l=s.d||{},delete s.d}catch{}return{header:n,claims:s,data:l,signature:o}},aE=function(a){const n=M_(a),s=n.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},lE=function(a){const n=M_(a).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Js(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function bg(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function lo(a,n,s){const l={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=n.call(s,a[o],o,a));return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(a){const n=[];for(const[s,l]of Object.entries(a))Array.isArray(l)?l.forEach(o=>{n.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(s)+"="+encodeURIComponent(l));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,s){s||(s=0);const l=this.W_;if(typeof n=="string")for(let S=0;S<16;S++)l[S]=n.charCodeAt(s)<<24|n.charCodeAt(s+1)<<16|n.charCodeAt(s+2)<<8|n.charCodeAt(s+3),s+=4;else for(let S=0;S<16;S++)l[S]=n[s]<<24|n[s+1]<<16|n[s+2]<<8|n[s+3],s+=4;for(let S=16;S<80;S++){const w=l[S-3]^l[S-8]^l[S-14]^l[S-16];l[S]=(w<<1|w>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],p=this.chain_[4],g,v;for(let S=0;S<80;S++){S<40?S<20?(g=m^f&(h^m),v=1518500249):(g=f^h^m,v=1859775393):S<60?(g=f&h|m&(f|h),v=2400959708):(g=f^h^m,v=3395469782);const w=(o<<5|o>>>27)+g+p+v+l[S]&4294967295;p=m,m=h,h=(f<<30|f>>>2)&4294967295,f=o,o=w}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(n,s){if(n==null)return;s===void 0&&(s=n.length);const l=s-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<s;){if(h===0)for(;o<=l;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<s;)if(f[h]=n.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<s;)if(f[h]=n[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=s}digest(){const n=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=s&255,s/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[l]=this.chain_[o]>>f&255,++l;return n}}function oE(a,n){const s=new uE(a,n);return s.subscribe.bind(s)}class uE{constructor(n,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{n(this)}).catch(l=>{this.error(l)})}next(n){this.forEachObserver(s=>{s.next(n)})}error(n){this.forEachObserver(s=>{s.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,s,l){let o;if(n===void 0&&s===void 0&&l===void 0)throw new Error("Missing Observer.");cE(n,["next","error","complete"])?o=n:o={next:n,error:s,complete:l},o.next===void 0&&(o.next=rf),o.error===void 0&&(o.error=rf),o.complete===void 0&&(o.complete=rf);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),f}unsubscribeOne(n){this.observers===void 0||this.observers[n]===void 0||(delete this.observers[n],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(n){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,n)}sendOne(n,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[n]!==void 0)try{s(this.observers[n])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cE(a,n){if(typeof a!="object"||a===null)return!1;for(const s of n)if(s in a&&typeof a[s]=="function")return!0;return!1}function rf(){}function Yf(a,n){return`${a} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(a){const n=[];let s=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);if(o>=55296&&o<=56319){const f=o-55296;l++,z(l<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(l)-56320;o=65536+(f<<10)+h}o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):o<65536?(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128)}return n},Ao=function(a){let n=0;for(let s=0;s<a.length;s++){const l=a.charCodeAt(s);l<128?n++:l<2048?n+=2:l>=55296&&l<=56319?(n+=4,s++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(a){return a&&a._delegate?a._delegate:a}class $s{constructor(n,s,l){this.name=n,this.instanceFactory=s,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ne||(Ne={}));const hE={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},dE=Ne.INFO,mE={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},pE=(a,n,...s)=>{if(n<a.logLevel)return;const l=new Date().toISOString(),o=mE[n];if(o)console[o](`[${l}]  ${a.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Qf{constructor(n){this.name=n,this._logLevel=dE,this._logHandler=pE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ne))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?hE[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...n),this._logHandler(this,Ne.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...n),this._logHandler(this,Ne.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...n),this._logHandler(this,Ne.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...n),this._logHandler(this,Ne.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...n),this._logHandler(this,Ne.ERROR,...n)}}const gE=(a,n)=>n.some(s=>a instanceof s);let Tg,wg;function _E(){return Tg||(Tg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yE(){return wg||(wg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I_=new WeakMap,bf=new WeakMap,U_=new WeakMap,of=new WeakMap,Xf=new WeakMap;function vE(a){const n=new Promise((s,l)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{s(mi(a.result)),o()},h=()=>{l(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",h)});return n.then(s=>{s instanceof IDBCursor&&I_.set(s,a)}).catch(()=>{}),Xf.set(n,a),n}function SE(a){if(bf.has(a))return;const n=new Promise((s,l)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{s(),o()},h=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});bf.set(a,n)}let Tf={get(a,n,s){if(a instanceof IDBTransaction){if(n==="done")return bf.get(a);if(n==="objectStoreNames")return a.objectStoreNames||U_.get(a);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return mi(a[n])},set(a,n,s){return a[n]=s,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function EE(a){Tf=a(Tf)}function bE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const l=a.call(uf(this),n,...s);return U_.set(l,n.sort?n.sort():[n]),mi(l)}:yE().includes(a)?function(...n){return a.apply(uf(this),n),mi(I_.get(this))}:function(...n){return mi(a.apply(uf(this),n))}}function TE(a){return typeof a=="function"?bE(a):(a instanceof IDBTransaction&&SE(a),gE(a,_E())?new Proxy(a,Tf):a)}function mi(a){if(a instanceof IDBRequest)return vE(a);if(of.has(a))return of.get(a);const n=TE(a);return n!==a&&(of.set(a,n),Xf.set(n,a)),n}const uf=a=>Xf.get(a);function wE(a,n,{blocked:s,upgrade:l,blocking:o,terminated:f}={}){const h=indexedDB.open(a,n),m=mi(h);return l&&h.addEventListener("upgradeneeded",p=>{l(mi(h.result),p.oldVersion,p.newVersion,mi(h.transaction),p)}),s&&h.addEventListener("blocked",p=>s(p.oldVersion,p.newVersion,p)),m.then(p=>{f&&p.addEventListener("close",()=>f()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const CE=["get","getKey","getAll","getAllKeys","count"],AE=["put","add","delete","clear"],cf=new Map;function Cg(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(cf.get(n))return cf.get(n);const s=n.replace(/FromIndex$/,""),l=n!==s,o=AE.includes(s);if(!(s in(l?IDBIndex:IDBObjectStore).prototype)||!(o||CE.includes(s)))return;const f=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return l&&(g=g.index(m.shift())),(await Promise.all([g[s](...m),o&&p.done]))[0]};return cf.set(n,f),f}EE(a=>({...a,get:(n,s,l)=>Cg(n,s)||a.get(n,s,l),has:(n,s)=>!!Cg(n,s)||a.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(RE(s)){const l=s.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(s=>s).join(" ")}}function RE(a){const n=a.getComponent();return n?.type==="VERSION"}const wf="@firebase/app",Ag="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new Qf("@firebase/app"),DE="@firebase/app-compat",OE="@firebase/analytics-compat",xE="@firebase/analytics",ME="@firebase/app-check-compat",IE="@firebase/app-check",UE="@firebase/auth",LE="@firebase/auth-compat",kE="@firebase/database",zE="@firebase/data-connect",HE="@firebase/database-compat",jE="@firebase/functions",BE="@firebase/functions-compat",PE="@firebase/installations",VE="@firebase/installations-compat",qE="@firebase/messaging",GE="@firebase/messaging-compat",YE="@firebase/performance",QE="@firebase/performance-compat",XE="@firebase/remote-config",KE="@firebase/remote-config-compat",FE="@firebase/storage",ZE="@firebase/storage-compat",WE="@firebase/firestore",JE="@firebase/ai",$E="@firebase/firestore-compat",eb="firebase",tb="11.10.0",nb={[wf]:"fire-core",[DE]:"fire-core-compat",[xE]:"fire-analytics",[OE]:"fire-analytics-compat",[IE]:"fire-app-check",[ME]:"fire-app-check-compat",[UE]:"fire-auth",[LE]:"fire-auth-compat",[kE]:"fire-rtdb",[zE]:"fire-data-connect",[HE]:"fire-rtdb-compat",[jE]:"fire-fn",[BE]:"fire-fn-compat",[PE]:"fire-iid",[VE]:"fire-iid-compat",[qE]:"fire-fcm",[GE]:"fire-fcm-compat",[YE]:"fire-perf",[QE]:"fire-perf-compat",[XE]:"fire-rc",[KE]:"fire-rc-compat",[FE]:"fire-gcs",[ZE]:"fire-gcs-compat",[WE]:"fire-fst",[$E]:"fire-fst-compat",[JE]:"fire-vertex","fire-js":"fire-js",[eb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map,sb=new Map,Ng=new Map;function Rg(a,n){try{a.container.addComponent(n)}catch(s){jn.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,s)}}function ea(a){const n=a.name;if(Ng.has(n))return jn.debug(`There were multiple attempts to register component ${n}.`),!1;Ng.set(n,a);for(const s of ib.values())Rg(s,a);for(const s of sb.values())Rg(s,a);return!0}function di(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kf=new Ol("app","Firebase",ab);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=tb;function pi(a,n,s){var l;let o=(l=nb[a])!==null&&l!==void 0?l:a;s&&(o+=`-${s}`);const f=o.match(/\s|\//),h=n.match(/\s|\//);if(f||h){const m=[`Unable to register library "${o}" with version "${n}":`];f&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&h&&m.push("and"),h&&m.push(`version name "${n}" contains illegal characters (whitespace or "/")`),jn.warn(m.join(" "));return}ea(new $s(`${o}-version`,()=>({library:o,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebase-heartbeat-database",rb=1,Sl="firebase-heartbeat-store";let ff=null;function L_(){return ff||(ff=wE(lb,rb,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(Sl)}catch(s){console.warn(s)}}}}).catch(a=>{throw Kf.create("idb-open",{originalErrorMessage:a.message})})),ff}async function ob(a){try{const s=(await L_()).transaction(Sl),l=await s.objectStore(Sl).get(k_(a));return await s.done,l}catch(n){if(n instanceof Ji)jn.warn(n.message);else{const s=Kf.create("idb-get",{originalErrorMessage:n?.message});jn.warn(s.message)}}}async function Dg(a,n){try{const l=(await L_()).transaction(Sl,"readwrite");await l.objectStore(Sl).put(n,k_(a)),await l.done}catch(s){if(s instanceof Ji)jn.warn(s.message);else{const l=Kf.create("idb-set",{originalErrorMessage:s?.message});jn.warn(l.message)}}}function k_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=1024,cb=30;class fb{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new db(s),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){var n,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Og();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>cb){const h=mb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(l){jn.warn(l)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Og(),{heartbeatsToSend:l,unsentEntries:o}=hb(this._heartbeatsCache.heartbeats),f=R_(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(s){return jn.warn(s),""}}}function Og(){return new Date().toISOString().substring(0,10)}function hb(a,n=ub){const s=[];let l=a.slice();for(const o of a){const f=s.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),xg(s)>n){f.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),xg(s)>n){s.pop();break}l=l.slice(1)}return{heartbeatsToSend:s,unsentEntries:l}}class db{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eE()?tE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await ob(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dg(this.app,{lastSentHeartbeatDate:(s=n.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dg(this.app,{lastSentHeartbeatDate:(s=n.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...n.heartbeats]})}else return}}function xg(a){return R_(JSON.stringify({version:2,heartbeats:a})).length}function mb(a){if(a.length===0)return-1;let n=0,s=a[0].date;for(let l=1;l<a.length;l++)a[l].date<s&&(s=a[l].date,n=l);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(a){ea(new $s("platform-logger",n=>new NE(n),"PRIVATE")),ea(new $s("heartbeat",n=>new fb(n),"PRIVATE")),pi(wf,Ag,a),pi(wf,Ag,"esm2017"),pi("fire-js","")}pb("");var gb="firebase",_b="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(gb,_b,"app");var Mg={};const Ig="@firebase/database",Ug="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z_="";function yb(a){z_=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,s){s==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),$e(s))}get(n){const s=this.domStorage_.getItem(this.prefixedName_(n));return s==null?null:vl(s)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,s){s==null?delete this.cache_[n]:this.cache_[n]=s}get(n){return Bn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new vb(n)}}catch{}return new Sb},Gi=H_("localStorage"),Eb=H_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Qf("@firebase/database"),bb=function(){let a=1;return function(){return a++}}(),j_=function(a){const n=fE(a),s=new rE;s.update(n);const l=s.digest();return Pf.encodeByteArray(l)},xl=function(...a){let n="";for(let s=0;s<a.length;s++){const l=a[s];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?n+=xl.apply(null,l):typeof l=="object"?n+=$e(l):n+=l,n+=" "}return n};let cl=null,Lg=!0;const Tb=function(a,n){z(!0,"Can't turn on custom loggers persistently."),Ks.logLevel=Ne.VERBOSE,cl=Ks.log.bind(Ks)},vt=function(...a){if(Lg===!0&&(Lg=!1,cl===null&&Eb.get("logging_enabled")===!0&&Tb()),cl){const n=xl.apply(null,a);cl(n)}},Ml=function(a){return function(...n){vt(a,...n)}},Cf=function(...a){const n="FIREBASE INTERNAL ERROR: "+xl(...a);Ks.error(n)},Ki=function(...a){const n=`FIREBASE FATAL ERROR: ${xl(...a)}`;throw Ks.error(n),new Error(n)},Ot=function(...a){const n="FIREBASE WARNING: "+xl(...a);Ks.warn(n)},wb=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},B_=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},Cb=function(a){if(document.readyState==="complete")a();else{let n=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},ta="[MIN_NAME]",Fi="[MAX_NAME]",aa=function(a,n){if(a===n)return 0;if(a===ta||n===Fi)return-1;if(n===ta||a===Fi)return 1;{const s=kg(a),l=kg(n);return s!==null?l!==null?s-l===0?a.length-n.length:s-l:-1:l!==null?1:a<n?-1:1}},Ab=function(a,n){return a===n?0:a<n?-1:1},ll=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+$e(n))},Ff=function(a){if(typeof a!="object"||a===null)return $e(a);const n=[];for(const l in a)n.push(l);n.sort();let s="{";for(let l=0;l<n.length;l++)l!==0&&(s+=","),s+=$e(n[l]),s+=":",s+=Ff(a[n[l]]);return s+="}",s},P_=function(a,n){const s=a.length;if(s<=n)return[a];const l=[];for(let o=0;o<s;o+=n)o+n>s?l.push(a.substring(o,s)):l.push(a.substring(o,o+n));return l};function xt(a,n){for(const s in a)a.hasOwnProperty(s)&&n(s,a[s])}const V_=function(a){z(!B_(a),"Invalid JSON number");const n=11,s=52,l=(1<<n-1)-1;let o,f,h,m,p;a===0?(f=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),l),f=m+l,h=Math.round(a*Math.pow(2,s-m)-Math.pow(2,s))):(f=0,h=Math.round(a/Math.pow(2,1-l-s))));const g=[];for(p=s;p;p-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(p=n;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(o?1:0),g.reverse();const v=g.join("");let S="";for(p=0;p<64;p+=8){let w=parseInt(v.substr(p,8),2).toString(16);w.length===1&&(w="0"+w),S=S+w}return S.toLowerCase()},Nb=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Rb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Db(a,n){let s="Unknown Error";a==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?s="Client doesn't have permission to access the desired data.":a==="unavailable"&&(s="The service is unavailable");const l=new Error(a+" at "+n._path.toString()+": "+s);return l.code=a.toUpperCase(),l}const Ob=new RegExp("^-?(0*)\\d{1,10}$"),xb=-2147483648,Mb=2147483647,kg=function(a){if(Ob.test(a)){const n=Number(a);if(n>=xb&&n<=Mb)return n}return null},la=function(a){try{a()}catch(n){setTimeout(()=>{const s=n.stack||"";throw Ot("Exception was thrown by user callback.",s),n},Math.floor(0))}},Ib=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fl=function(a,n){const s=setTimeout(a,n);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(n,s){this.appCheckProvider=s,this.appName=n.name,di(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(l=>this.appCheck=l)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((s,l)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(s,l):s(null)},0)})}addTokenChangeListener(n){var s;(s=this.appCheckProvider)===null||s===void 0||s.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){Ot(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(n,s,l){this.appName_=n,this.firebaseOptions_=s,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(s=>s&&s.code==="auth/token-not-initialized"?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,l)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(s,l):s(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(s=>s.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(s=>s.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ot(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="5",q_="v",G_="s",Y_="r",Q_="f",X_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,K_="ls",F_="p",Af="ac",Z_="websocket",W_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(n,s,l,o,f=!1,h="",m=!1,p=!1,g=null){this.secure=s,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gi.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Gi.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${s}`}}function zb(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function J_(a,n,s){z(typeof n=="string","typeof type must == string"),z(typeof s=="object","typeof params must == object");let l;if(n===Z_)l=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===W_)l=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);zb(a)&&(s.ns=a.namespace);const o=[];return xt(s,(f,h)=>{o.push(f+"="+h)}),l+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.counters_={}}incrementCounter(n,s=1){Bn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=s}get(){return q0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf={},df={};function Wf(a){const n=a.toString();return hf[n]||(hf[n]=new Hb),hf[n]}function jb(a,n){const s=a.toString();return df[s]||(df[s]=n()),df[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,s){this.closeAfterResponse=n,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,s){for(this.pendingResponses[n]=s;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&la(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="start",Pb="close",Vb="pLPCommand",qb="pRTLPCB",$_="id",ey="pw",ty="ser",Gb="cb",Yb="seg",Qb="ts",Xb="d",Kb="dframe",ny=1870,iy=30,Fb=ny-iy,Zb=25e3,Wb=3e4;class Qs{constructor(n,s,l,o,f,h,m){this.connId=n,this.repoInfo=s,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ml(n),this.stats_=Wf(s),this.urlFn=p=>(this.appCheckToken&&(p[Af]=this.appCheckToken),J_(s,W_,p))}open(n,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new Bb(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Wb)),Cb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jf((...f)=>{const[h,m,p,g,v]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===zg)this.id=m,this.password=p;else if(h===Pb)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[zg]="t",l[ty]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[Gb]=this.scriptTagHolder.uniqueCallbackIdentifier),l[q_]=Zf,this.transportSessionId&&(l[G_]=this.transportSessionId),this.lastSessionId&&(l[K_]=this.lastSessionId),this.applicationId&&(l[F_]=this.applicationId),this.appCheckToken&&(l[Af]=this.appCheckToken),typeof location<"u"&&location.hostname&&X_.test(location.hostname)&&(l[Y_]=Q_);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qs.forceAllow_=!0}static forceDisallow(){Qs.forceDisallow_=!0}static isAvailable(){return Qs.forceAllow_?!0:!Qs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Nb()&&!Rb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const s=$e(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const l=N_(s),o=P_(l,Fb);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,s){this.myDisconnFrame=document.createElement("iframe");const l={};l[Kb]="t",l[$_]=n,l[ey]=s,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const s=$e(n).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Jf{constructor(n,s,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=bb(),window[Vb+this.uniqueCallbackIdentifier]=n,window[qb+this.uniqueCallbackIdentifier]=s,this.myIFrame=Jf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){vt("frame writing exception"),m.stack&&vt(m.stack),vt(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||vt("No IE domain setting required")}catch{const l=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,s){for(this.myID=n,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[$_]=this.myID,n[ey]=this.myPW,n[ty]=this.currentSerial;let s=this.urlFn(n),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+iy+l.length<=ny;){const h=this.pendingSegs.shift();l=l+"&"+Yb+o+"="+h.seg+"&"+Qb+o+"="+h.ts+"&"+Xb+o+"="+h.d,o++}return s=s+l,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(n,s,l){this.pendingSegs.push({seg:n,ts:s,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(n,s){this.outstandingRequests.add(s);const l=()=>{this.outstandingRequests.delete(s),this.newRequest_()},o=setTimeout(l,Math.floor(Zb)),f=()=>{clearTimeout(o),l()};this.addTag(n,f)}addTag(n,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=n,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),s())},l.onerror=()=>{vt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=16384,$b=45e3;let ro=null;typeof MozWebSocket<"u"?ro=MozWebSocket:typeof WebSocket<"u"&&(ro=WebSocket);class en{constructor(n,s,l,o,f,h,m){this.connId=n,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ml(this.connId),this.stats_=Wf(s),this.connURL=en.connectionURL_(s,h,m,o,l),this.nodeAdmin=s.nodeAdmin}static connectionURL_(n,s,l,o,f){const h={};return h[q_]=Zf,typeof location<"u"&&location.hostname&&X_.test(location.hostname)&&(h[Y_]=Q_),s&&(h[G_]=s),l&&(h[K_]=l),o&&(h[Af]=o),f&&(h[F_]=f),J_(n,Z_,h)}open(n,s){this.onDisconnect=s,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gi.set("previous_websocket_failure",!0);try{let l;$0(),this.mySock=new ro(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){en.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(s);l&&l.length>1&&parseFloat(l[1])<4.4&&(n=!0)}return!n&&ro!==null&&!en.forceDisallow_}static previouslyFailed(){return Gi.isInMemoryStorage||Gi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Gi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const l=vl(s);this.onMessage(l)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(z(this.frames===null,"We already have a frame buffer"),n.length<=6){const s=Number(n);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const s=n.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const l=this.extractFrameCount_(s);l!==null&&this.appendFrame_(l)}}send(n){this.resetKeepAlive();const s=$e(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const l=P_(s,Jb);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($b))}sendString_(n){try{this.mySock.send(n)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}en.responsesRequiredToBeHealthy=2;en.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static get ALL_TRANSPORTS(){return[Qs,en]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const s=en&&en.isAvailable();let l=s&&!en.previouslyFailed();if(n.webSocketOnly&&(s||Ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[en];else{const o=this.transports_=[];for(const f of El.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);El.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}El.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=6e4,tT=5e3,nT=10*1024,iT=100*1024,mf="t",Hg="d",sT="s",jg="r",aT="e",Bg="o",Pg="a",Vg="n",qg="p",lT="h";class rT{constructor(n,s,l,o,f,h,m,p,g,v){this.id=n,this.repoInfo_=s,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ml("c:"+this.id+":"),this.transportManager_=new El(s),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,l)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=fl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return s=>{n===this.conn_?this.onConnectionLost_(s):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return s=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(s):n===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(n){const s={t:"d",d:n};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(mf in n){const s=n[mf];s===Pg?this.upgradeIfSecondaryHealthy_():s===jg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===Bg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const s=ll("t",n),l=ll("d",n);if(s==="c")this.onSecondaryControl_(l);else if(s==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Pg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Vg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const s=ll("t",n),l=ll("d",n);s==="c"?this.onControl_(l):s==="d"&&this.onDataMessage_(l)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const s=ll(mf,n);if(Hg in n){const l=n[Hg];if(s===lT){const o=Object.assign({},l);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(s===Vg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===sT?this.onConnectionShutdown_(l):s===jg?this.onReset_(l):s===aT?Cf("Server Error: "+l):s===Bg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cf("Unknown control packet command: "+s)}}onHandshake_(n){const s=n.ts,l=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),Zf!==l&&Ot("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,l),fl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eT))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,s){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qg,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{put(n,s,l,o){}merge(n,s,l,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,s,l){}onDisconnectMerge(n,s,l){}onDisconnectCancel(n,s){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(n){this.allowedEvents_=n,this.listeners_={},z(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...s){if(Array.isArray(this.listeners_[n])){const l=[...this.listeners_[n]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,s)}}on(n,s,l){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:s,context:l});const o=this.getInitialEvent(n);o&&s.apply(l,o)}off(n,s,l){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===s&&(!l||l===o[f].context)){o.splice(f,1);return}}validateEventType_(n){z(this.allowedEvents_.find(s=>s===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends ay{static getInstance(){return new oo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return z(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=32,Yg=768;class De{constructor(n,s){if(s===void 0){this.pieces_=n.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=s}toString(){let n="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(n+="/"+this.pieces_[s]);return n||"/"}}function _e(){return new De("")}function oe(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function yi(a){return a.pieces_.length-a.pieceNum_}function Me(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new De(a.pieces_,n)}function ly(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function oT(a){let n="";for(let s=a.pieceNum_;s<a.pieces_.length;s++)a.pieces_[s]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[s])));return n||"/"}function ry(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function oy(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let s=a.pieceNum_;s<a.pieces_.length-1;s++)n.push(a.pieces_[s]);return new De(n,0)}function et(a,n){const s=[];for(let l=a.pieceNum_;l<a.pieces_.length;l++)s.push(a.pieces_[l]);if(n instanceof De)for(let l=n.pieceNum_;l<n.pieces_.length;l++)s.push(n.pieces_[l]);else{const l=n.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&s.push(l[o])}return new De(s,0)}function he(a){return a.pieceNum_>=a.pieces_.length}function bt(a,n){const s=oe(a),l=oe(n);if(s===null)return n;if(s===l)return bt(Me(a),Me(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function $f(a,n){if(yi(a)!==yi(n))return!1;for(let s=a.pieceNum_,l=n.pieceNum_;s<=a.pieces_.length;s++,l++)if(a.pieces_[s]!==n.pieces_[l])return!1;return!0}function tn(a,n){let s=a.pieceNum_,l=n.pieceNum_;if(yi(a)>yi(n))return!1;for(;s<a.pieces_.length;){if(a.pieces_[s]!==n.pieces_[l])return!1;++s,++l}return!0}class uT{constructor(n,s){this.errorPrefix_=s,this.parts_=ry(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Ao(this.parts_[l]);uy(this)}}function cT(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=Ao(n),uy(a)}function fT(a){const n=a.parts_.pop();a.byteLength_-=Ao(n),a.parts_.length>0&&(a.byteLength_-=1)}function uy(a){if(a.byteLength_>Yg)throw new Error(a.errorPrefix_+"has a key path longer than "+Yg+" bytes ("+a.byteLength_+").");if(a.parts_.length>Gg)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gg+") or object contains a cycle "+qi(a))}function qi(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends ay{static getInstance(){return new eh}constructor(){super(["visible"]);let n,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const l=!document[n];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(n){return z(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=1e3,hT=60*5*1e3,Qg=30*1e3,dT=1.3,mT=3e4,pT="server_kill",Xg=3;class Hn extends sy{constructor(n,s,l,o,f,h,m,p){if(super(),this.repoInfo_=n,this.applicationId_=s,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=Hn.nextPersistentConnectionId_++,this.log_=Ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rl,this.maxReconnectDelay_=hT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&oo.getInstance().on("online",this.onOnline_,this)}sendRequest(n,s,l){const o=++this.requestNumber_,f={r:o,a:n,b:s};this.log_($e(f)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),l&&(this.requestCBHash_[o]=l)}get(n){this.initConnection_();const s=new Vf,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?s.resolve(m):s.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),s.promise}listen(n,s,l,o){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),z(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:s,query:n,tag:l};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const s=this.outstandingGets_[n];this.sendRequest("g",s.request,l=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(l)})}sendListen_(n){const s=n.query,l=s._path.toString(),o=s._queryIdentifier;this.log_("Listen on "+l+" for "+o);const f={p:l},h="q";n.tag&&(f.q=s._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,m=>{const p=m.d,g=m.s;Hn.warnOnListenWarnings_(p,s),(this.listens.get(l)&&this.listens.get(l).get(o))===n&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(l,o),n.onComplete&&n.onComplete(g,p))})}static warnOnListenWarnings_(n,s){if(n&&typeof n=="object"&&Bn(n,"w")){const l=Js(n,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+s._queryParams.getIndex().toString()+'"',f=s._path.toString();Ot(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||lE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qg)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,s=aE(n)?"auth":"gauth",l={cred:n};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(s,l,o=>{const f=o.s,h=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const s=n.s,l=n.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,l)})}unlisten(n,s){const l=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),z(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,n._queryObject,s)}sendUnlisten_(n,s,l,o){this.log_("Unlisten on "+n+" for "+s);const f={p:n},h="n";o&&(f.q=l,f.t=o),this.sendRequest(h,f)}onDisconnectPut(n,s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,s,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:s,onComplete:l})}onDisconnectMerge(n,s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,s,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:s,onComplete:l})}onDisconnectCancel(n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(n,s,l,o){const f={p:s,d:l};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(n,s,l,o){this.putInternal("p",n,s,l,o)}merge(n,s,l,o){this.putInternal("m",n,s,l,o)}putInternal(n,s,l,o,f){this.initConnection_();const h={p:s,d:l};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+s)}sendPut_(n){const s=this.outstandingPuts_[n].action,l=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(s,l,f=>{this.log_(s+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const s={c:n};this.log_("reportStats",s),this.sendRequest("s",s,l=>{if(l.s!=="ok"){const f=l.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+$e(n));const s=n.r,l=this.requestCBHash_[s];l&&(delete this.requestCBHash_[s],l(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,s){this.log_("handleServerMessage",n,s),n==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):n==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):n==="c"?this.onListenRevoked_(s.p,s.q):n==="ac"?this.onAuthRevoked_(s.s,s.d):n==="apc"?this.onAppCheckRevoked_(s.s,s.d):n==="sd"?this.onSecurityDebugPacket_(s):Cf("Unrecognized action received from server: "+$e(n)+`
Are you using the latest client?`)}onReady_(n,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mT&&(this.reconnectDelay_=rl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-n);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*dT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Hn.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const p=function(){m?m.close():(h=!0,l())},g=function(S){z(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(S)};this.realtime_={close:p,sendRequest:g};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,w]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);h?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=w&&w.token,m=new rT(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,s,l,k=>{Ot(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(pT)},f))}catch(S){this.log_("Failed to get token: "+S),h||(this.repoInfo_.nodeAdmin&&Ot(S),p())}}}interrupt(n){vt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){vt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],bg(this.interruptReasons_)&&(this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const s=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const s=this.outstandingPuts_[n];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,s){let l;s?l=s.map(f=>Ff(f)).join("$"):l="default";const o=this.removeListen_(n,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,s){const l=new De(n).toString();let o;if(this.listens.has(l)){const f=this.listens.get(l);o=f.get(s),f.delete(s),f.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(n,s){vt("Auth token revoked: "+n+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Xg&&(this.reconnectDelay_=Qg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,s){vt("App check token revoked: "+n+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Xg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const s of n.values())this.sendListen_(s);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let s="js";n["sdk."+s+"."+z_.replace(/\./g,"-")]=1,qf()?n["framework.cordova"]=1:x_()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=oo.getInstance().currentlyOnline();return bg(this.interruptReasons_)&&n}}Hn.nextPersistentConnectionId_=0;Hn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(n,s){this.name=n,this.node=s}static Wrap(n,s){return new ue(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,s){const l=new ue(ta,n),o=new ue(ta,s);return this.compare(l,o)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to;class cy extends Ro{static get __EMPTY_NODE(){return to}static set __EMPTY_NODE(n){to=n}compare(n,s){return aa(n.name,s.name)}isDefinedOn(n){throw sa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,s){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Fi,to)}makePost(n,s){return z(typeof n=="string","KeyIndex indexValue must always be a string."),new ue(n,to)}toString(){return".key"}}const Fs=new cy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(n,s,l,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=s?l(n.key,s):1,o&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(n.key,n.value):s={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class ut{constructor(n,s,l,o,f){this.key=n,this.value=s,this.color=l??ut.RED,this.left=o??Dt.EMPTY_NODE,this.right=f??Dt.EMPTY_NODE}copy(n,s,l,o,f){return new ut(n??this.key,s??this.value,l??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,l){let o=this;const f=l(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,s,l),null):f===0?o=o.copy(null,s,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,s,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,s){let l,o;if(l=this,s(n,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(n,s),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),s(n,l.key)===0){if(l.right.isEmpty())return Dt.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(n,s))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}ut.RED=!0;ut.BLACK=!1;class gT{copy(n,s,l,o,f){return this}insert(n,s,l){return new ut(n,s,null)}remove(n,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dt{constructor(n,s=Dt.EMPTY_NODE){this.comparator_=n,this.root_=s}insert(n,s){return new Dt(this.comparator_,this.root_.insert(n,s,this.comparator_).copy(null,null,ut.BLACK,null,null))}remove(n){return new Dt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,ut.BLACK,null,null))}get(n){let s,l=this.root_;for(;!l.isEmpty();){if(s=this.comparator_(n,l.key),s===0)return l.value;s<0?l=l.left:s>0&&(l=l.right)}return null}getPredecessorKey(n){let s,l=this.root_,o=null;for(;!l.isEmpty();)if(s=this.comparator_(n,l.key),s===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else s<0?l=l.left:s>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new no(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,s){return new no(this.root_,n,this.comparator_,!1,s)}getReverseIteratorFrom(n,s){return new no(this.root_,n,this.comparator_,!0,s)}getReverseIterator(n){return new no(this.root_,null,this.comparator_,!0,n)}}Dt.EMPTY_NODE=new gT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(a,n){return aa(a.name,n.name)}function th(a,n){return aa(a,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf;function yT(a){Nf=a}const fy=function(a){return typeof a=="number"?"number:"+V_(a):"string:"+a},hy=function(a){if(a.isLeafNode()){const n=a.val();z(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Bn(n,".sv"),"Priority must be a string or number.")}else z(a===Nf||a.isEmpty(),"priority of unexpected type.");z(a===Nf||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kg;class ot{static set __childrenNodeConstructor(n){Kg=n}static get __childrenNodeConstructor(){return Kg}constructor(n,s=ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=s,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new ot(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return he(n)?this:oe(n)===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,s){return null}updateImmediateChild(n,s){return n===".priority"?this.updatePriority(s):s.isEmpty()&&n!==".priority"?this:ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,s).updatePriority(this.priorityNode_)}updateChild(n,s){const l=oe(n);return l===null?s:s.isEmpty()&&l!==".priority"?this:(z(l!==".priority"||yi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(n),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,s){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+fy(this.priorityNode_.val())+":");const s=typeof this.value_;n+=s+":",s==="number"?n+=V_(this.value_):n+=this.value_,this.lazyHash_=j_(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===ot.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof ot.__childrenNodeConstructor?-1:(z(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const s=typeof n.value_,l=typeof this.value_,o=ot.VALUE_TYPE_ORDER.indexOf(s),f=ot.VALUE_TYPE_ORDER.indexOf(l);return z(o>=0,"Unknown leaf type: "+s),z(f>=0,"Unknown leaf type: "+l),o===f?l==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const s=n;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy,my;function vT(a){dy=a}function ST(a){my=a}class ET extends Ro{compare(n,s){const l=n.node.getPriority(),o=s.node.getPriority(),f=l.compareTo(o);return f===0?aa(n.name,s.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,s){return!n.getPriority().equals(s.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Fi,new ot("[PRIORITY-POST]",my))}makePost(n,s){const l=dy(n);return new ue(s,new ot("[PRIORITY-POST]",l))}toString(){return".priority"}}const Ve=new ET;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=Math.log(2);class TT{constructor(n){const s=f=>parseInt(Math.log(f)/bT,10),l=f=>parseInt(Array(f+1).join("1"),2);this.count=s(n+1),this.current_=this.count-1;const o=l(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const uo=function(a,n,s,l){a.sort(n);const o=function(p,g){const v=g-p;let S,w;if(v===0)return null;if(v===1)return S=a[p],w=s?s(S):S,new ut(w,S.node,ut.BLACK,null,null);{const k=parseInt(v/2,10)+p,H=o(p,k),$=o(k+1,g);return S=a[k],w=s?s(S):S,new ut(w,S.node,ut.BLACK,H,$)}},f=function(p){let g=null,v=null,S=a.length;const w=function(H,$){const ne=S-H,ze=S;S-=H;const He=o(ne+1,ze),le=a[ne],tt=s?s(le):le;k(new ut(tt,le.node,$,null,He))},k=function(H){g?(g.left=H,g=H):(v=H,g=H)};for(let H=0;H<p.count;++H){const $=p.nextBitIsOne(),ne=Math.pow(2,p.count-(H+1));$?w(ne,ut.BLACK):(w(ne,ut.BLACK),w(ne,ut.RED))}return v},h=new TT(a.length),m=f(h);return new Dt(l||n,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf;const Gs={};class zn{static get Default(){return z(Gs&&Ve,"ChildrenNode.ts has not been loaded"),pf=pf||new zn({".priority":Gs},{".priority":Ve}),pf}constructor(n,s){this.indexes_=n,this.indexSet_=s}get(n){const s=Js(this.indexes_,n);if(!s)throw new Error("No index defined for "+n);return s instanceof Dt?s:null}hasIndex(n){return Bn(this.indexSet_,n.toString())}addIndex(n,s){z(n!==Fs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const f=s.getIterator(ue.Wrap);let h=f.getNext();for(;h;)o=o||n.isDefinedOn(h.node),l.push(h),h=f.getNext();let m;o?m=uo(l,n.getCompare()):m=Gs;const p=n.toString(),g=Object.assign({},this.indexSet_);g[p]=n;const v=Object.assign({},this.indexes_);return v[p]=m,new zn(v,g)}addToIndexes(n,s){const l=lo(this.indexes_,(o,f)=>{const h=Js(this.indexSet_,f);if(z(h,"Missing index implementation for "+f),o===Gs)if(h.isDefinedOn(n.node)){const m=[],p=s.getIterator(ue.Wrap);let g=p.getNext();for(;g;)g.name!==n.name&&m.push(g),g=p.getNext();return m.push(n),uo(m,h.getCompare())}else return Gs;else{const m=s.get(n.name);let p=o;return m&&(p=p.remove(new ue(n.name,m))),p.insert(n,n.node)}});return new zn(l,this.indexSet_)}removeFromIndexes(n,s){const l=lo(this.indexes_,o=>{if(o===Gs)return o;{const f=s.get(n.name);return f?o.remove(new ue(n.name,f)):o}});return new zn(l,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol;class Z{static get EMPTY_NODE(){return ol||(ol=new Z(new Dt(th),null,zn.Default))}constructor(n,s,l){this.children_=n,this.priorityNode_=s,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&hy(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ol}updatePriority(n){return this.children_.isEmpty()?this:new Z(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const s=this.children_.get(n);return s===null?ol:s}}getChild(n){const s=oe(n);return s===null?this:this.getImmediateChild(s).getChild(Me(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,s){if(z(s,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(s);{const l=new ue(n,s);let o,f;s.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(n,s),f=this.indexMap_.addToIndexes(l,this.children_));const h=o.isEmpty()?ol:this.priorityNode_;return new Z(o,h,f)}}updateChild(n,s){const l=oe(n);if(l===null)return s;{z(oe(n)!==".priority"||yi(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(Me(n),s);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const s={};let l=0,o=0,f=!0;if(this.forEachChild(Ve,(h,m)=>{s[h]=m.val(n),l++,f&&Z.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!n&&f&&o<2*l){const h=[];for(const m in s)h[m]=s[m];return h}else return n&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+fy(this.getPriority().val())+":"),this.forEachChild(Ve,(s,l)=>{const o=l.hash();o!==""&&(n+=":"+s+":"+o)}),this.lazyHash_=n===""?"":j_(n)}return this.lazyHash_}getPredecessorChildName(n,s,l){const o=this.resolveIndex_(l);if(o){const f=o.getPredecessorKey(new ue(n,s));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const s=this.resolveIndex_(n);if(s){const l=s.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(n){const s=this.getFirstChildName(n);return s?new ue(s,this.children_.get(s)):null}getLastChildName(n){const s=this.resolveIndex_(n);if(s){const l=s.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(n){const s=this.getLastChildName(n);return s?new ue(s,this.children_.get(s)):null}forEachChild(n,s){const l=this.resolveIndex_(n);return l?l.inorderTraversal(o=>s(o.name,o.node)):this.children_.inorderTraversal(s)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,s){const l=this.resolveIndex_(s);if(l)return l.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ue.Wrap);let f=o.peek();for(;f!=null&&s.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,s){const l=this.resolveIndex_(s);if(l)return l.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ue.Wrap);let f=o.peek();for(;f!=null&&s.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Il?-1:0}withIndex(n){if(n===Fs||this.indexMap_.hasIndex(n))return this;{const s=this.indexMap_.addIndex(n,this.children_);return new Z(this.children_,this.priorityNode_,s)}}isIndexed(n){return n===Fs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const s=n;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const l=this.getIterator(Ve),o=s.getIterator(Ve);let f=l.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=l.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Fs?null:this.indexMap_.get(n.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class wT extends Z{constructor(){super(new Dt(th),Z.EMPTY_NODE,zn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Z.EMPTY_NODE}isEmpty(){return!1}}const Il=new wT;Object.defineProperties(ue,{MIN:{value:new ue(ta,Z.EMPTY_NODE)},MAX:{value:new ue(Fi,Il)}});cy.__EMPTY_NODE=Z.EMPTY_NODE;ot.__childrenNodeConstructor=Z;yT(Il);ST(Il);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=!0;function ct(a,n=null){if(a===null)return Z.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),z(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const s=a;return new ot(s,ct(n))}if(!(a instanceof Array)&&CT){const s=[];let l=!1;if(xt(a,(h,m)=>{if(h.substring(0,1)!=="."){const p=ct(m);p.isEmpty()||(l=l||!p.getPriority().isEmpty(),s.push(new ue(h,p)))}}),s.length===0)return Z.EMPTY_NODE;const f=uo(s,_T,h=>h.name,th);if(l){const h=uo(s,Ve.getCompare());return new Z(f,ct(n),new zn({".priority":h},{".priority":Ve}))}else return new Z(f,ct(n),zn.Default)}else{let s=Z.EMPTY_NODE;return xt(a,(l,o)=>{if(Bn(a,l)&&l.substring(0,1)!=="."){const f=ct(o);(f.isLeafNode()||!f.isEmpty())&&(s=s.updateImmediateChild(l,f))}}),s.updatePriority(ct(n))}}vT(ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends Ro{constructor(n){super(),this.indexPath_=n,z(!he(n)&&oe(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,s){const l=this.extractChild(n.node),o=this.extractChild(s.node),f=l.compareTo(o);return f===0?aa(n.name,s.name):f}makePost(n,s){const l=ct(n),o=Z.EMPTY_NODE.updateChild(this.indexPath_,l);return new ue(s,o)}maxPost(){const n=Z.EMPTY_NODE.updateChild(this.indexPath_,Il);return new ue(Fi,n)}toString(){return ry(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends Ro{compare(n,s){const l=n.node.compareTo(s.node);return l===0?aa(n.name,s.name):l}isDefinedOn(n){return!0}indexedValueChanged(n,s){return!n.equals(s)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(n,s){const l=ct(n);return new ue(s,l)}toString(){return".value"}}const RT=new NT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(a){return{type:"value",snapshotNode:a}}function na(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function bl(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function Tl(a,n,s){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:s}}function DT(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(n){this.index_=n}updateChild(n,s,l,o,f,h){z(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(s);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(h!=null&&(l.isEmpty()?n.hasChild(s)?h.trackChildChange(bl(s,m)):z(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(na(s,l)):h.trackChildChange(Tl(s,l,m))),n.isLeafNode()&&l.isEmpty())?n:n.updateImmediateChild(s,l).withIndex(this.index_)}updateFullNode(n,s,l){return l!=null&&(n.isLeafNode()||n.forEachChild(Ve,(o,f)=>{s.hasChild(o)||l.trackChildChange(bl(o,f))}),s.isLeafNode()||s.forEachChild(Ve,(o,f)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(f)||l.trackChildChange(Tl(o,f,h))}else l.trackChildChange(na(o,f))})),s.withIndex(this.index_)}updatePriority(n,s){return n.isEmpty()?Z.EMPTY_NODE:n.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(n){this.indexedFilter_=new nh(n.getIndex()),this.index_=n.getIndex(),this.startPost_=wl.getStartPost_(n),this.endPost_=wl.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,l=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return s&&l}updateChild(n,s,l,o,f,h){return this.matches(new ue(s,l))||(l=Z.EMPTY_NODE),this.indexedFilter_.updateChild(n,s,l,o,f,h)}updateFullNode(n,s,l){s.isLeafNode()&&(s=Z.EMPTY_NODE);let o=s.withIndex(this.index_);o=o.updatePriority(Z.EMPTY_NODE);const f=this;return s.forEachChild(Ve,(h,m)=>{f.matches(new ue(h,m))||(o=o.updateImmediateChild(h,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,l)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const s=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),s)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const s=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),s)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(n){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=s=>{const l=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new wl(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,s,l,o,f,h){return this.rangedFilter_.matches(new ue(s,l))||(l=Z.EMPTY_NODE),n.getImmediateChild(s).equals(l)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,s,l,o,f,h):this.fullLimitUpdateChild_(n,s,l,f,h)}updateFullNode(n,s,l){let o;if(s.isLeafNode()||s.isEmpty())o=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){o=Z.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=s.withIndex(this.index_),o=o.updatePriority(Z.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,l)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,s,l,o,f){let h;if(this.reverse_){const S=this.index_.getCompare();h=(w,k)=>S(k,w)}else h=this.index_.getCompare();const m=n;z(m.numChildren()===this.limit_,"");const p=new ue(s,l),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),v=this.rangedFilter_.matches(p);if(m.hasChild(s)){const S=m.getImmediateChild(s);let w=o.getChildAfterChild(this.index_,g,this.reverse_);for(;w!=null&&(w.name===s||m.hasChild(w.name));)w=o.getChildAfterChild(this.index_,w,this.reverse_);const k=w==null?1:h(w,p);if(v&&!l.isEmpty()&&k>=0)return f?.trackChildChange(Tl(s,l,S)),m.updateImmediateChild(s,l);{f?.trackChildChange(bl(s,S));const $=m.updateImmediateChild(s,Z.EMPTY_NODE);return w!=null&&this.rangedFilter_.matches(w)?(f?.trackChildChange(na(w.name,w.node)),$.updateImmediateChild(w.name,w.node)):$}}else return l.isEmpty()?n:v&&h(g,p)>=0?(f!=null&&(f.trackChildChange(bl(g.name,g.node)),f.trackChildChange(na(s,l))),m.updateImmediateChild(s,l).updateImmediateChild(g.name,Z.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ta}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const n=new ih;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function xT(a){return a.loadsAllData()?new nh(a.getIndex()):a.hasLimit()?new OT(a):new wl(a)}function Fg(a){const n={};if(a.isDefault())return n;let s;if(a.index_===Ve?s="$priority":a.index_===RT?s="$value":a.index_===Fs?s="$key":(z(a.index_ instanceof AT,"Unrecognized index type!"),s=a.index_.toString()),n.orderBy=$e(s),a.startSet_){const l=a.startAfterSet_?"startAfter":"startAt";n[l]=$e(a.indexStartValue_),a.startNameSet_&&(n[l]+=","+$e(a.indexStartName_))}if(a.endSet_){const l=a.endBeforeSet_?"endBefore":"endAt";n[l]=$e(a.indexEndValue_),a.endNameSet_&&(n[l]+=","+$e(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function Zg(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let s=a.viewFrom_;s===""&&(a.isViewFromLeft()?s="l":s="r"),n.vf=s}return a.index_!==Ve&&(n.i=a.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends sy{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,s){return s!==void 0?"tag$"+s:(z(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,s,l,o){super(),this.repoInfo_=n,this.onDataUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=Ml("p:rest:"),this.listens_={}}listen(n,s,l,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=co.getListenId_(n,l),m={};this.listens_[h]=m;const p=Fg(n._queryParams);this.restRequest_(f+".json",p,(g,v)=>{let S=v;if(g===404&&(S=null,g=null),g===null&&this.onDataUpdate_(f,S,!1,l),Js(this.listens_,h)===m){let w;g?g===401?w="permission_denied":w="rest_error:"+g:w="ok",o(w,null)}})}unlisten(n,s){const l=co.getListenId_(n,s);delete this.listens_[l]}get(n){const s=Fg(n._queryParams),l=n._path.toString(),o=new Vf;return this.restRequest_(l+".json",s,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(n){}restRequest_(n,s={},l){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(s.auth=o.accessToken),f&&f.token&&(s.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+Gf(s);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=vl(m.responseText)}catch{Ot("Failed to parse JSON response for "+h+": "+m.responseText)}l(null,p)}else m.status!==401&&m.status!==404&&Ot("Got unsuccessful REST response for "+h+" Status: "+m.status),l(m.status);l=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,s){this.rootNode_=this.rootNode_.updateChild(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(){return{value:null,children:new Map}}function gy(a,n,s){if(he(n))a.value=s,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,s);else{const l=oe(n);a.children.has(l)||a.children.set(l,fo());const o=a.children.get(l);n=Me(n),gy(o,n,s)}}function Rf(a,n,s){a.value!==null?s(n,a.value):IT(a,(l,o)=>{const f=new De(n.toString()+"/"+l);Rf(o,f,s)})}function IT(a,n){a.children.forEach((s,l)=>{n(l,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),s=Object.assign({},n);return this.last_&&xt(this.last_,(l,o)=>{s[l]=s[l]-o}),this.last_=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=10*1e3,LT=30*1e3,kT=5*60*1e3;class zT{constructor(n,s){this.server_=s,this.statsToReport_={},this.statsListener_=new UT(n);const l=Wg+(LT-Wg)*Math.random();fl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const n=this.statsListener_.get(),s={};let l=!1;xt(n,(o,f)=>{f>0&&Bn(this.statsToReport_,o)&&(s[o]=f,l=!0)}),l&&this.server_.reportStats(s),fl(this.reportStats_.bind(this),Math.floor(Math.random()*2*kT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(nn||(nn={}));function _y(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ah(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(n,s,l){this.path=n,this.affectedTree=s,this.revert=l,this.type=nn.ACK_USER_WRITE,this.source=_y()}operationForChild(n){if(he(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new De(n));return new ho(_e(),s,this.revert)}}else return z(oe(this.path)===n,"operationForChild called for unrelated child."),new ho(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(n,s){this.source=n,this.path=s,this.type=nn.LISTEN_COMPLETE}operationForChild(n){return he(this.path)?new Cl(this.source,_e()):new Cl(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(n,s,l){this.source=n,this.path=s,this.snap=l,this.type=nn.OVERWRITE}operationForChild(n){return he(this.path)?new Zi(this.source,_e(),this.snap.getImmediateChild(n)):new Zi(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(n,s,l){this.source=n,this.path=s,this.children=l,this.type=nn.MERGE}operationForChild(n){if(he(this.path)){const s=this.children.subtree(new De(n));return s.isEmpty()?null:s.value?new Zi(this.source,_e(),s.value):new Al(this.source,_e(),s)}else return z(oe(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Al(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(n,s,l){this.node_=n,this.fullyInitialized_=s,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(he(n))return this.isFullyInitialized()&&!this.filtered_;const s=oe(n);return this.isCompleteForChild(s)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function jT(a,n,s,l){const o=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(DT(h.childName,h.snapshotNode))}),ul(a,o,"child_removed",n,l,s),ul(a,o,"child_added",n,l,s),ul(a,o,"child_moved",f,l,s),ul(a,o,"child_changed",n,l,s),ul(a,o,"value",n,l,s),o}function ul(a,n,s,l,o,f){const h=l.filter(m=>m.type===s);h.sort((m,p)=>PT(a,m,p)),h.forEach(m=>{const p=BT(a,m,f);o.forEach(g=>{g.respondsTo(m.type)&&n.push(g.createEvent(p,a.query_))})})}function BT(a,n,s){return n.type==="value"||n.type==="child_removed"||(n.prevName=s.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function PT(a,n,s){if(n.childName==null||s.childName==null)throw sa("Should only compare child_ events.");const l=new ue(n.childName,n.snapshotNode),o=new ue(s.childName,s.snapshotNode);return a.index_.compare(l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(a,n){return{eventCache:a,serverCache:n}}function hl(a,n,s,l){return Do(new vi(n,s,l),a.serverCache)}function yy(a,n,s,l){return Do(a.eventCache,new vi(n,s,l))}function mo(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function Wi(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf;const VT=()=>(gf||(gf=new Dt(Ab)),gf);class Ie{static fromObject(n){let s=new Ie(null);return xt(n,(l,o)=>{s=s.set(new De(l),o)}),s}constructor(n,s=VT()){this.value=n,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,s){if(this.value!=null&&s(this.value))return{path:_e(),value:this.value};if(he(n))return null;{const l=oe(n),o=this.children.get(l);if(o!==null){const f=o.findRootMostMatchingPathAndValue(Me(n),s);return f!=null?{path:et(new De(l),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(he(n))return this;{const s=oe(n),l=this.children.get(s);return l!==null?l.subtree(Me(n)):new Ie(null)}}set(n,s){if(he(n))return new Ie(s,this.children);{const l=oe(n),f=(this.children.get(l)||new Ie(null)).set(Me(n),s),h=this.children.insert(l,f);return new Ie(this.value,h)}}remove(n){if(he(n))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const s=oe(n),l=this.children.get(s);if(l){const o=l.remove(Me(n));let f;return o.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,o),this.value===null&&f.isEmpty()?new Ie(null):new Ie(this.value,f)}else return this}}get(n){if(he(n))return this.value;{const s=oe(n),l=this.children.get(s);return l?l.get(Me(n)):null}}setTree(n,s){if(he(n))return s;{const l=oe(n),f=(this.children.get(l)||new Ie(null)).setTree(Me(n),s);let h;return f.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,f),new Ie(this.value,h)}}fold(n){return this.fold_(_e(),n)}fold_(n,s){const l={};return this.children.inorderTraversal((o,f)=>{l[o]=f.fold_(et(n,o),s)}),s(n,this.value,l)}findOnPath(n,s){return this.findOnPath_(n,_e(),s)}findOnPath_(n,s,l){const o=this.value?l(s,this.value):!1;if(o)return o;if(he(n))return null;{const f=oe(n),h=this.children.get(f);return h?h.findOnPath_(Me(n),et(s,f),l):null}}foreachOnPath(n,s){return this.foreachOnPath_(n,_e(),s)}foreachOnPath_(n,s,l){if(he(n))return this;{this.value&&l(s,this.value);const o=oe(n),f=this.children.get(o);return f?f.foreachOnPath_(Me(n),et(s,o),l):new Ie(null)}}foreach(n){this.foreach_(_e(),n)}foreach_(n,s){this.children.inorderTraversal((l,o)=>{o.foreach_(et(n,l),s)}),this.value&&s(n,this.value)}foreachChild(n){this.children.inorderTraversal((s,l)=>{l.value&&n(s,l.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(n){this.writeTree_=n}static empty(){return new an(new Ie(null))}}function dl(a,n,s){if(he(n))return new an(new Ie(s));{const l=a.writeTree_.findRootMostValueAndPath(n);if(l!=null){const o=l.path;let f=l.value;const h=bt(o,n);return f=f.updateChild(h,s),new an(a.writeTree_.set(o,f))}else{const o=new Ie(s),f=a.writeTree_.setTree(n,o);return new an(f)}}}function Jg(a,n,s){let l=a;return xt(s,(o,f)=>{l=dl(l,et(n,o),f)}),l}function $g(a,n){if(he(n))return an.empty();{const s=a.writeTree_.setTree(n,new Ie(null));return new an(s)}}function Df(a,n){return $i(a,n)!=null}function $i(a,n){const s=a.writeTree_.findRootMostValueAndPath(n);return s!=null?a.writeTree_.get(s.path).getChild(bt(s.path,n)):null}function e_(a){const n=[],s=a.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(Ve,(l,o)=>{n.push(new ue(l,o))}):a.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&n.push(new ue(l,o.value))}),n}function gi(a,n){if(he(n))return a;{const s=$i(a,n);return s!=null?new an(new Ie(s)):new an(a.writeTree_.subtree(n))}}function Of(a){return a.writeTree_.isEmpty()}function ia(a,n){return vy(_e(),a.writeTree_,n)}function vy(a,n,s){if(n.value!=null)return s.updateChild(a,n.value);{let l=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(z(f.value!==null,"Priority writes must always be leaf nodes"),l=f.value):s=vy(et(a,o),f,s)}),!s.getChild(a).isEmpty()&&l!==null&&(s=s.updateChild(et(a,".priority"),l)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(a,n){return Ty(n,a)}function qT(a,n,s,l,o){z(l>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:n,snap:s,writeId:l,visible:o}),o&&(a.visibleWrites=dl(a.visibleWrites,n,s)),a.lastWriteId=l}function GT(a,n){for(let s=0;s<a.allWrites.length;s++){const l=a.allWrites[s];if(l.writeId===n)return l}return null}function YT(a,n){const s=a.allWrites.findIndex(m=>m.writeId===n);z(s>=0,"removeWrite called with nonexistent writeId.");const l=a.allWrites[s];a.allWrites.splice(s,1);let o=l.visible,f=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const m=a.allWrites[h];m.visible&&(h>=s&&QT(m,l.path)?o=!1:tn(l.path,m.path)&&(f=!0)),h--}if(o){if(f)return XT(a),!0;if(l.snap)a.visibleWrites=$g(a.visibleWrites,l.path);else{const m=l.children;xt(m,p=>{a.visibleWrites=$g(a.visibleWrites,et(l.path,p))})}return!0}else return!1}function QT(a,n){if(a.snap)return tn(a.path,n);for(const s in a.children)if(a.children.hasOwnProperty(s)&&tn(et(a.path,s),n))return!0;return!1}function XT(a){a.visibleWrites=Sy(a.allWrites,KT,_e()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function KT(a){return a.visible}function Sy(a,n,s){let l=an.empty();for(let o=0;o<a.length;++o){const f=a[o];if(n(f)){const h=f.path;let m;if(f.snap)tn(s,h)?(m=bt(s,h),l=dl(l,m,f.snap)):tn(h,s)&&(m=bt(h,s),l=dl(l,_e(),f.snap.getChild(m)));else if(f.children){if(tn(s,h))m=bt(s,h),l=Jg(l,m,f.children);else if(tn(h,s))if(m=bt(h,s),he(m))l=Jg(l,_e(),f.children);else{const p=Js(f.children,oe(m));if(p){const g=p.getChild(Me(m));l=dl(l,_e(),g)}}}else throw sa("WriteRecord should have .snap or .children")}}return l}function Ey(a,n,s,l,o){if(!l&&!o){const f=$i(a.visibleWrites,n);if(f!=null)return f;{const h=gi(a.visibleWrites,n);if(Of(h))return s;if(s==null&&!Df(h,_e()))return null;{const m=s||Z.EMPTY_NODE;return ia(h,m)}}}else{const f=gi(a.visibleWrites,n);if(!o&&Of(f))return s;if(!o&&s==null&&!Df(f,_e()))return null;{const h=function(g){return(g.visible||o)&&(!l||!~l.indexOf(g.writeId))&&(tn(g.path,n)||tn(n,g.path))},m=Sy(a.allWrites,h,n),p=s||Z.EMPTY_NODE;return ia(m,p)}}}function FT(a,n,s){let l=Z.EMPTY_NODE;const o=$i(a.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Ve,(f,h)=>{l=l.updateImmediateChild(f,h)}),l;if(s){const f=gi(a.visibleWrites,n);return s.forEachChild(Ve,(h,m)=>{const p=ia(gi(f,new De(h)),m);l=l.updateImmediateChild(h,p)}),e_(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}else{const f=gi(a.visibleWrites,n);return e_(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}}function ZT(a,n,s,l,o){z(l||o,"Either existingEventSnap or existingServerSnap must exist");const f=et(n,s);if(Df(a.visibleWrites,f))return null;{const h=gi(a.visibleWrites,f);return Of(h)?o.getChild(s):ia(h,o.getChild(s))}}function WT(a,n,s,l){const o=et(n,s),f=$i(a.visibleWrites,o);if(f!=null)return f;if(l.isCompleteForChild(s)){const h=gi(a.visibleWrites,o);return ia(h,l.getNode().getImmediateChild(s))}else return null}function JT(a,n){return $i(a.visibleWrites,n)}function $T(a,n,s,l,o,f,h){let m;const p=gi(a.visibleWrites,n),g=$i(p,_e());if(g!=null)m=g;else if(s!=null)m=ia(p,s);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const v=[],S=h.getCompare(),w=f?m.getReverseIteratorFrom(l,h):m.getIteratorFrom(l,h);let k=w.getNext();for(;k&&v.length<o;)S(k,l)!==0&&v.push(k),k=w.getNext();return v}else return[]}function ew(){return{visibleWrites:an.empty(),allWrites:[],lastWriteId:-1}}function po(a,n,s,l){return Ey(a.writeTree,a.treePath,n,s,l)}function lh(a,n){return FT(a.writeTree,a.treePath,n)}function t_(a,n,s,l){return ZT(a.writeTree,a.treePath,n,s,l)}function go(a,n){return JT(a.writeTree,et(a.treePath,n))}function tw(a,n,s,l,o,f){return $T(a.writeTree,a.treePath,n,s,l,o,f)}function rh(a,n,s){return WT(a.writeTree,a.treePath,n,s)}function by(a,n){return Ty(et(a.treePath,n),a.writeTree)}function Ty(a,n){return{treePath:a,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.changeMap=new Map}trackChildChange(n){const s=n.type,l=n.childName;z(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),z(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const f=o.type;if(s==="child_added"&&f==="child_removed")this.changeMap.set(l,Tl(l,n.snapshotNode,o.snapshotNode));else if(s==="child_removed"&&f==="child_added")this.changeMap.delete(l);else if(s==="child_removed"&&f==="child_changed")this.changeMap.set(l,bl(l,o.oldSnap));else if(s==="child_changed"&&f==="child_added")this.changeMap.set(l,na(l,n.snapshotNode));else if(s==="child_changed"&&f==="child_changed")this.changeMap.set(l,Tl(l,n.snapshotNode,o.oldSnap));else throw sa("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(l,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{getCompleteChild(n){return null}getChildAfterChild(n,s,l){return null}}const wy=new iw;class oh{constructor(n,s,l=null){this.writes_=n,this.viewCache_=s,this.optCompleteServerCache_=l}getCompleteChild(n){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(n))return s.getNode().getImmediateChild(n);{const l=this.optCompleteServerCache_!=null?new vi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rh(this.writes_,n,l)}}getChildAfterChild(n,s,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wi(this.viewCache_),f=tw(this.writes_,o,s,1,l,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(a){return{filter:a}}function aw(a,n){z(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),z(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function lw(a,n,s,l,o){const f=new nw;let h,m;if(s.type===nn.OVERWRITE){const g=s;g.source.fromUser?h=xf(a,n,g.path,g.snap,l,o,f):(z(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered()&&!he(g.path),h=_o(a,n,g.path,g.snap,l,o,m,f))}else if(s.type===nn.MERGE){const g=s;g.source.fromUser?h=ow(a,n,g.path,g.children,l,o,f):(z(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered(),h=Mf(a,n,g.path,g.children,l,o,m,f))}else if(s.type===nn.ACK_USER_WRITE){const g=s;g.revert?h=fw(a,n,g.path,l,o,f):h=uw(a,n,g.path,g.affectedTree,l,o,f)}else if(s.type===nn.LISTEN_COMPLETE)h=cw(a,n,s.path,l,f);else throw sa("Unknown operation type: "+s.type);const p=f.getChanges();return rw(n,h,p),{viewCache:h,changes:p}}function rw(a,n,s){const l=n.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),f=mo(a);(s.length>0||!a.eventCache.isFullyInitialized()||o&&!l.getNode().equals(f)||!l.getNode().getPriority().equals(f.getPriority()))&&s.push(py(mo(n)))}}function Cy(a,n,s,l,o,f){const h=n.eventCache;if(go(l,s)!=null)return n;{let m,p;if(he(s))if(z(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Wi(n),v=g instanceof Z?g:Z.EMPTY_NODE,S=lh(l,v);m=a.filter.updateFullNode(n.eventCache.getNode(),S,f)}else{const g=po(l,Wi(n));m=a.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=oe(s);if(g===".priority"){z(yi(s)===1,"Can't have a priority with additional path components");const v=h.getNode();p=n.serverCache.getNode();const S=t_(l,s,v,p);S!=null?m=a.filter.updatePriority(v,S):m=h.getNode()}else{const v=Me(s);let S;if(h.isCompleteForChild(g)){p=n.serverCache.getNode();const w=t_(l,s,h.getNode(),p);w!=null?S=h.getNode().getImmediateChild(g).updateChild(v,w):S=h.getNode().getImmediateChild(g)}else S=rh(l,g,n.serverCache);S!=null?m=a.filter.updateChild(h.getNode(),g,S,v,o,f):m=h.getNode()}}return hl(n,m,h.isFullyInitialized()||he(s),a.filter.filtersNodes())}}function _o(a,n,s,l,o,f,h,m){const p=n.serverCache;let g;const v=h?a.filter:a.filter.getIndexedFilter();if(he(s))g=v.updateFullNode(p.getNode(),l,null);else if(v.filtersNodes()&&!p.isFiltered()){const k=p.getNode().updateChild(s,l);g=v.updateFullNode(p.getNode(),k,null)}else{const k=oe(s);if(!p.isCompleteForPath(s)&&yi(s)>1)return n;const H=Me(s),ne=p.getNode().getImmediateChild(k).updateChild(H,l);k===".priority"?g=v.updatePriority(p.getNode(),ne):g=v.updateChild(p.getNode(),k,ne,H,wy,null)}const S=yy(n,g,p.isFullyInitialized()||he(s),v.filtersNodes()),w=new oh(o,S,f);return Cy(a,S,s,o,w,m)}function xf(a,n,s,l,o,f,h){const m=n.eventCache;let p,g;const v=new oh(o,n,f);if(he(s))g=a.filter.updateFullNode(n.eventCache.getNode(),l,h),p=hl(n,g,!0,a.filter.filtersNodes());else{const S=oe(s);if(S===".priority")g=a.filter.updatePriority(n.eventCache.getNode(),l),p=hl(n,g,m.isFullyInitialized(),m.isFiltered());else{const w=Me(s),k=m.getNode().getImmediateChild(S);let H;if(he(w))H=l;else{const $=v.getCompleteChild(S);$!=null?ly(w)===".priority"&&$.getChild(oy(w)).isEmpty()?H=$:H=$.updateChild(w,l):H=Z.EMPTY_NODE}if(k.equals(H))p=n;else{const $=a.filter.updateChild(m.getNode(),S,H,w,v,h);p=hl(n,$,m.isFullyInitialized(),a.filter.filtersNodes())}}}return p}function n_(a,n){return a.eventCache.isCompleteForChild(n)}function ow(a,n,s,l,o,f,h){let m=n;return l.foreach((p,g)=>{const v=et(s,p);n_(n,oe(v))&&(m=xf(a,m,v,g,o,f,h))}),l.foreach((p,g)=>{const v=et(s,p);n_(n,oe(v))||(m=xf(a,m,v,g,o,f,h))}),m}function i_(a,n,s){return s.foreach((l,o)=>{n=n.updateChild(l,o)}),n}function Mf(a,n,s,l,o,f,h,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let p=n,g;he(s)?g=l:g=new Ie(null).setTree(s,l);const v=n.serverCache.getNode();return g.children.inorderTraversal((S,w)=>{if(v.hasChild(S)){const k=n.serverCache.getNode().getImmediateChild(S),H=i_(a,k,w);p=_o(a,p,new De(S),H,o,f,h,m)}}),g.children.inorderTraversal((S,w)=>{const k=!n.serverCache.isCompleteForChild(S)&&w.value===null;if(!v.hasChild(S)&&!k){const H=n.serverCache.getNode().getImmediateChild(S),$=i_(a,H,w);p=_o(a,p,new De(S),$,o,f,h,m)}}),p}function uw(a,n,s,l,o,f,h){if(go(o,s)!=null)return n;const m=n.serverCache.isFiltered(),p=n.serverCache;if(l.value!=null){if(he(s)&&p.isFullyInitialized()||p.isCompleteForPath(s))return _o(a,n,s,p.getNode().getChild(s),o,f,m,h);if(he(s)){let g=new Ie(null);return p.getNode().forEachChild(Fs,(v,S)=>{g=g.set(new De(v),S)}),Mf(a,n,s,g,o,f,m,h)}else return n}else{let g=new Ie(null);return l.foreach((v,S)=>{const w=et(s,v);p.isCompleteForPath(w)&&(g=g.set(v,p.getNode().getChild(w)))}),Mf(a,n,s,g,o,f,m,h)}}function cw(a,n,s,l,o){const f=n.serverCache,h=yy(n,f.getNode(),f.isFullyInitialized()||he(s),f.isFiltered());return Cy(a,h,s,l,wy,o)}function fw(a,n,s,l,o,f){let h;if(go(l,s)!=null)return n;{const m=new oh(l,n,o),p=n.eventCache.getNode();let g;if(he(s)||oe(s)===".priority"){let v;if(n.serverCache.isFullyInitialized())v=po(l,Wi(n));else{const S=n.serverCache.getNode();z(S instanceof Z,"serverChildren would be complete if leaf node"),v=lh(l,S)}v=v,g=a.filter.updateFullNode(p,v,f)}else{const v=oe(s);let S=rh(l,v,n.serverCache);S==null&&n.serverCache.isCompleteForChild(v)&&(S=p.getImmediateChild(v)),S!=null?g=a.filter.updateChild(p,v,S,Me(s),m,f):n.eventCache.getNode().hasChild(v)?g=a.filter.updateChild(p,v,Z.EMPTY_NODE,Me(s),m,f):g=p,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=po(l,Wi(n)),h.isLeafNode()&&(g=a.filter.updateFullNode(g,h,f)))}return h=n.serverCache.isFullyInitialized()||go(l,_e())!=null,hl(n,g,h,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(n,s){this.query_=n,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new nh(l.getIndex()),f=xT(l);this.processor_=sw(f);const h=s.serverCache,m=s.eventCache,p=o.updateFullNode(Z.EMPTY_NODE,h.getNode(),null),g=f.updateFullNode(Z.EMPTY_NODE,m.getNode(),null),v=new vi(p,h.isFullyInitialized(),o.filtersNodes()),S=new vi(g,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=Do(S,v),this.eventGenerator_=new HT(this.query_)}get query(){return this.query_}}function dw(a){return a.viewCache_.serverCache.getNode()}function mw(a){return mo(a.viewCache_)}function pw(a,n){const s=Wi(a.viewCache_);return s&&(a.query._queryParams.loadsAllData()||!he(n)&&!s.getImmediateChild(oe(n)).isEmpty())?s.getChild(n):null}function s_(a){return a.eventRegistrations_.length===0}function gw(a,n){a.eventRegistrations_.push(n)}function a_(a,n,s){const l=[];if(s){z(n==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(s,o);h&&l.push(h)})}if(n){let o=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(n))o.push(h);else if(n.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return l}function l_(a,n,s,l){n.type===nn.MERGE&&n.source.queryId!==null&&(z(Wi(a.viewCache_),"We should always have a full cache before handling merges"),z(mo(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,f=lw(a.processor_,o,n,s,l);return aw(a.processor_,f.viewCache),z(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,Ay(a,f.changes,f.viewCache.eventCache.getNode(),null)}function _w(a,n){const s=a.viewCache_.eventCache,l=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Ve,(f,h)=>{l.push(na(f,h))}),s.isFullyInitialized()&&l.push(py(s.getNode())),Ay(a,l,s.getNode(),n)}function Ay(a,n,s,l){const o=l?[l]:a.eventRegistrations_;return jT(a.eventGenerator_,n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo;class Ny{constructor(){this.views=new Map}}function yw(a){z(!yo,"__referenceConstructor has already been defined"),yo=a}function vw(){return z(yo,"Reference.ts has not been loaded"),yo}function Sw(a){return a.views.size===0}function uh(a,n,s,l){const o=n.source.queryId;if(o!==null){const f=a.views.get(o);return z(f!=null,"SyncTree gave us an op for an invalid query."),l_(f,n,s,l)}else{let f=[];for(const h of a.views.values())f=f.concat(l_(h,n,s,l));return f}}function Ry(a,n,s,l,o){const f=n._queryIdentifier,h=a.views.get(f);if(!h){let m=po(s,o?l:null),p=!1;m?p=!0:l instanceof Z?(m=lh(s,l),p=!1):(m=Z.EMPTY_NODE,p=!1);const g=Do(new vi(m,p,!1),new vi(l,o,!1));return new hw(n,g)}return h}function Ew(a,n,s,l,o,f){const h=Ry(a,n,l,o,f);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,h),gw(h,s),_w(h,s)}function bw(a,n,s,l){const o=n._queryIdentifier,f=[];let h=[];const m=Si(a);if(o==="default")for(const[p,g]of a.views.entries())h=h.concat(a_(g,s,l)),s_(g)&&(a.views.delete(p),g.query._queryParams.loadsAllData()||f.push(g.query));else{const p=a.views.get(o);p&&(h=h.concat(a_(p,s,l)),s_(p)&&(a.views.delete(o),p.query._queryParams.loadsAllData()||f.push(p.query)))}return m&&!Si(a)&&f.push(new(vw())(n._repo,n._path)),{removed:f,events:h}}function Dy(a){const n=[];for(const s of a.views.values())s.query._queryParams.loadsAllData()||n.push(s);return n}function _i(a,n){let s=null;for(const l of a.views.values())s=s||pw(l,n);return s}function Oy(a,n){if(n._queryParams.loadsAllData())return xo(a);{const l=n._queryIdentifier;return a.views.get(l)}}function xy(a,n){return Oy(a,n)!=null}function Si(a){return xo(a)!=null}function xo(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo;function Tw(a){z(!vo,"__referenceConstructor has already been defined"),vo=a}function ww(){return z(vo,"Reference.ts has not been loaded"),vo}let Cw=1;class r_{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=ew(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function My(a,n,s,l,o){return qT(a.pendingWriteTree_,n,s,l,o),o?Ll(a,new Zi(_y(),n,s)):[]}function Yi(a,n,s=!1){const l=GT(a.pendingWriteTree_,n);if(YT(a.pendingWriteTree_,n)){let f=new Ie(null);return l.snap!=null?f=f.set(_e(),!0):xt(l.children,h=>{f=f.set(new De(h),!0)}),Ll(a,new ho(l.path,f,s))}else return[]}function Ul(a,n,s){return Ll(a,new Zi(sh(),n,s))}function Aw(a,n,s){const l=Ie.fromObject(s);return Ll(a,new Al(sh(),n,l))}function Nw(a,n){return Ll(a,new Cl(sh(),n))}function Rw(a,n,s){const l=fh(a,s);if(l){const o=hh(l),f=o.path,h=o.queryId,m=bt(f,n),p=new Cl(ah(h),m);return dh(a,f,p)}else return[]}function So(a,n,s,l,o=!1){const f=n._path,h=a.syncPointTree_.get(f);let m=[];if(h&&(n._queryIdentifier==="default"||xy(h,n))){const p=bw(h,n,s,l);Sw(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const g=p.removed;if(m=p.events,!o){const v=g.findIndex(w=>w._queryParams.loadsAllData())!==-1,S=a.syncPointTree_.findOnPath(f,(w,k)=>Si(k));if(v&&!S){const w=a.syncPointTree_.subtree(f);if(!w.isEmpty()){const k=xw(w);for(let H=0;H<k.length;++H){const $=k[H],ne=$.query,ze=ky(a,$);a.listenProvider_.startListening(ml(ne),Nl(a,ne),ze.hashFn,ze.onComplete)}}}!S&&g.length>0&&!l&&(v?a.listenProvider_.stopListening(ml(n),null):g.forEach(w=>{const k=a.queryToTagMap.get(Mo(w));a.listenProvider_.stopListening(ml(w),k)}))}Mw(a,g)}return m}function Iy(a,n,s,l){const o=fh(a,l);if(o!=null){const f=hh(o),h=f.path,m=f.queryId,p=bt(h,n),g=new Zi(ah(m),p,s);return dh(a,h,g)}else return[]}function Dw(a,n,s,l){const o=fh(a,l);if(o){const f=hh(o),h=f.path,m=f.queryId,p=bt(h,n),g=Ie.fromObject(s),v=new Al(ah(m),p,g);return dh(a,h,v)}else return[]}function If(a,n,s,l=!1){const o=n._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(o,(w,k)=>{const H=bt(w,o);f=f||_i(k,H),h=h||Si(k)});let m=a.syncPointTree_.get(o);m?(h=h||Si(m),f=f||_i(m,_e())):(m=new Ny,a.syncPointTree_=a.syncPointTree_.set(o,m));let p;f!=null?p=!0:(p=!1,f=Z.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((k,H)=>{const $=_i(H,_e());$&&(f=f.updateImmediateChild(k,$))}));const g=xy(m,n);if(!g&&!n._queryParams.loadsAllData()){const w=Mo(n);z(!a.queryToTagMap.has(w),"View does not exist, but we have a tag");const k=Iw();a.queryToTagMap.set(w,k),a.tagToQueryMap.set(k,w)}const v=Oo(a.pendingWriteTree_,o);let S=Ew(m,n,s,v,f,p);if(!g&&!h&&!l){const w=Oy(m,n);S=S.concat(Uw(a,n,w))}return S}function ch(a,n,s){const o=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(n,(h,m)=>{const p=bt(h,n),g=_i(m,p);if(g)return g});return Ey(o,n,f,s,!0)}function Ow(a,n){const s=n._path;let l=null;a.syncPointTree_.foreachOnPath(s,(g,v)=>{const S=bt(g,s);l=l||_i(v,S)});let o=a.syncPointTree_.get(s);o?l=l||_i(o,_e()):(o=new Ny,a.syncPointTree_=a.syncPointTree_.set(s,o));const f=l!=null,h=f?new vi(l,!0,!1):null,m=Oo(a.pendingWriteTree_,n._path),p=Ry(o,n,m,f?h.getNode():Z.EMPTY_NODE,f);return mw(p)}function Ll(a,n){return Uy(n,a.syncPointTree_,null,Oo(a.pendingWriteTree_,_e()))}function Uy(a,n,s,l){if(he(a.path))return Ly(a,n,s,l);{const o=n.get(_e());s==null&&o!=null&&(s=_i(o,_e()));let f=[];const h=oe(a.path),m=a.operationForChild(h),p=n.children.get(h);if(p&&m){const g=s?s.getImmediateChild(h):null,v=by(l,h);f=f.concat(Uy(m,p,g,v))}return o&&(f=f.concat(uh(o,a,l,s))),f}}function Ly(a,n,s,l){const o=n.get(_e());s==null&&o!=null&&(s=_i(o,_e()));let f=[];return n.children.inorderTraversal((h,m)=>{const p=s?s.getImmediateChild(h):null,g=by(l,h),v=a.operationForChild(h);v&&(f=f.concat(Ly(v,m,p,g)))}),o&&(f=f.concat(uh(o,a,l,s))),f}function ky(a,n){const s=n.query,l=Nl(a,s);return{hashFn:()=>(dw(n)||Z.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?Rw(a,s._path,l):Nw(a,s._path);{const f=Db(o,s);return So(a,s,null,f)}}}}function Nl(a,n){const s=Mo(n);return a.queryToTagMap.get(s)}function Mo(a){return a._path.toString()+"$"+a._queryIdentifier}function fh(a,n){return a.tagToQueryMap.get(n)}function hh(a){const n=a.indexOf("$");return z(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new De(a.substr(0,n))}}function dh(a,n,s){const l=a.syncPointTree_.get(n);z(l,"Missing sync point for query tag that we're tracking");const o=Oo(a.pendingWriteTree_,n);return uh(l,s,o,null)}function xw(a){return a.fold((n,s,l)=>{if(s&&Si(s))return[xo(s)];{let o=[];return s&&(o=Dy(s)),xt(l,(f,h)=>{o=o.concat(h)}),o}})}function ml(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(ww())(a._repo,a._path):a}function Mw(a,n){for(let s=0;s<n.length;++s){const l=n[s];if(!l._queryParams.loadsAllData()){const o=Mo(l),f=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(f)}}}function Iw(){return Cw++}function Uw(a,n,s){const l=n._path,o=Nl(a,n),f=ky(a,s),h=a.listenProvider_.startListening(ml(n),o,f.hashFn,f.onComplete),m=a.syncPointTree_.subtree(l);if(o)z(!Si(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((g,v,S)=>{if(!he(g)&&v&&Si(v))return[xo(v).query];{let w=[];return v&&(w=w.concat(Dy(v).map(k=>k.query))),xt(S,(k,H)=>{w=w.concat(H)}),w}});for(let g=0;g<p.length;++g){const v=p[g];a.listenProvider_.stopListening(ml(v),Nl(a,v))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(n){this.node_=n}getImmediateChild(n){const s=this.node_.getImmediateChild(n);return new mh(s)}node(){return this.node_}}class ph{constructor(n,s){this.syncTree_=n,this.path_=s}getImmediateChild(n){const s=et(this.path_,n);return new ph(this.syncTree_,s)}node(){return ch(this.syncTree_,this.path_)}}const Lw=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},o_=function(a,n,s){if(!a||typeof a!="object")return a;if(z(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return kw(a[".sv"],n,s);if(typeof a[".sv"]=="object")return zw(a[".sv"],n);z(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},kw=function(a,n,s){switch(a){case"timestamp":return s.timestamp;default:z(!1,"Unexpected server value: "+a)}},zw=function(a,n,s){a.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const l=a.increment;typeof l!="number"&&z(!1,"Unexpected increment value: "+l);const o=n.node();if(z(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const h=o.getValue();return typeof h!="number"?l:h+l},Hw=function(a,n,s,l){return gh(n,new ph(s,a),l)},zy=function(a,n,s){return gh(a,new mh(n),s)};function gh(a,n,s){const l=a.getPriority().val(),o=o_(l,n.getImmediateChild(".priority"),s);let f;if(a.isLeafNode()){const h=a,m=o_(h.getValue(),n,s);return m!==h.getValue()||o!==h.getPriority().val()?new ot(m,ct(o)):a}else{const h=a;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new ot(o))),h.forEachChild(Ve,(m,p)=>{const g=gh(p,n.getImmediateChild(m),s);g!==p&&(f=f.updateImmediateChild(m,g))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(n="",s=null,l={children:{},childCount:0}){this.name=n,this.parent=s,this.node=l}}function yh(a,n){let s=n instanceof De?n:new De(n),l=a,o=oe(s);for(;o!==null;){const f=Js(l.node.children,o)||{children:{},childCount:0};l=new _h(o,l,f),s=Me(s),o=oe(s)}return l}function ra(a){return a.node.value}function Hy(a,n){a.node.value=n,Uf(a)}function jy(a){return a.node.childCount>0}function jw(a){return ra(a)===void 0&&!jy(a)}function Io(a,n){xt(a.node.children,(s,l)=>{n(new _h(s,a,l))})}function By(a,n,s,l){s&&n(a),Io(a,o=>{By(o,n,!0)})}function Bw(a,n,s){let l=a.parent;for(;l!==null;){if(n(l))return!0;l=l.parent}return!1}function kl(a){return new De(a.parent===null?a.name:kl(a.parent)+"/"+a.name)}function Uf(a){a.parent!==null&&Pw(a.parent,a.name,a)}function Pw(a,n,s){const l=jw(s),o=Bn(a.node.children,n);l&&o?(delete a.node.children[n],a.node.childCount--,Uf(a)):!l&&!o&&(a.node.children[n]=s.node,a.node.childCount++,Uf(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=/[\[\].#$\/\u0000-\u001F\u007F]/,qw=/[\[\].#$\u0000-\u001F\u007F]/,_f=10*1024*1024,Py=function(a){return typeof a=="string"&&a.length!==0&&!Vw.test(a)},Vy=function(a){return typeof a=="string"&&a.length!==0&&!qw.test(a)},Gw=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Vy(a)},Yw=function(a,n,s,l){vh(Yf(a,"value"),n,s)},vh=function(a,n,s){const l=s instanceof De?new uT(s,a):s;if(n===void 0)throw new Error(a+"contains undefined "+qi(l));if(typeof n=="function")throw new Error(a+"contains a function "+qi(l)+" with contents = "+n.toString());if(B_(n))throw new Error(a+"contains "+n.toString()+" "+qi(l));if(typeof n=="string"&&n.length>_f/3&&Ao(n)>_f)throw new Error(a+"contains a string greater than "+_f+" utf8 bytes "+qi(l)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(xt(n,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!Py(h)))throw new Error(a+" contains an invalid key ("+h+") "+qi(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cT(l,h),vh(a,m,l),fT(l)}),o&&f)throw new Error(a+' contains ".value" child '+qi(l)+" in addition to actual children.")}},qy=function(a,n,s,l){if(!Vy(s))throw new Error(Yf(a,n)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Qw=function(a,n,s,l){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),qy(a,n,s)},Gy=function(a,n){if(oe(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},Xw=function(a,n){const s=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Py(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!Gw(s))throw new Error(Yf(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sh(a,n){let s=null;for(let l=0;l<n.length;l++){const o=n[l],f=o.getPath();s!==null&&!$f(f,s.path)&&(a.eventLists_.push(s),s=null),s===null&&(s={events:[],path:f}),s.events.push(o)}s&&a.eventLists_.push(s)}function Yy(a,n,s){Sh(a,s),Qy(a,l=>$f(l,n))}function gn(a,n,s){Sh(a,s),Qy(a,l=>tn(l,n)||tn(n,l))}function Qy(a,n){a.recursionDepth_++;let s=!0;for(let l=0;l<a.eventLists_.length;l++){const o=a.eventLists_[l];if(o){const f=o.path;n(f)?(Fw(a.eventLists_[l]),a.eventLists_[l]=null):s=!1}}s&&(a.eventLists_=[]),a.recursionDepth_--}function Fw(a){for(let n=0;n<a.events.length;n++){const s=a.events[n];if(s!==null){a.events[n]=null;const l=s.getEventRunner();cl&&vt("event: "+s.toString()),la(l)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="repo_interrupt",Ww=25;class Jw{constructor(n,s,l,o){this.repoInfo_=n,this.forceRestClient_=s,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fo(),this.transactionQueueTree_=new _h,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $w(a,n,s){if(a.stats_=Wf(a.repoInfo_),a.forceRestClient_||Ib())a.server_=new co(a.repoInfo_,(l,o,f,h)=>{u_(a,l,o,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>c_(a,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(s)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}a.persistentConnection_=new Hn(a.repoInfo_,n,(l,o,f,h)=>{u_(a,l,o,f,h)},l=>{c_(a,l)},l=>{tC(a,l)},a.authTokenProvider_,a.appCheckProvider_,s),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(l=>{a.server_.refreshAuthToken(l)}),a.appCheckProvider_.addTokenChangeListener(l=>{a.server_.refreshAppCheckToken(l.token)}),a.statsReporter_=jb(a.repoInfo_,()=>new zT(a.stats_,a.server_)),a.infoData_=new MT,a.infoSyncTree_=new r_({startListening:(l,o,f,h)=>{let m=[];const p=a.infoData_.getNode(l._path);return p.isEmpty()||(m=Ul(a.infoSyncTree_,l._path,p),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),bh(a,"connected",!1),a.serverSyncTree_=new r_({startListening:(l,o,f,h)=>(a.server_.listen(l,f,o,(m,p)=>{const g=h(m,p);gn(a.eventQueue_,l._path,g)}),[]),stopListening:(l,o)=>{a.server_.unlisten(l,o)}})}function eC(a){const s=a.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function Eh(a){return Lw({timestamp:eC(a)})}function u_(a,n,s,l,o){a.dataUpdateCount++;const f=new De(n);s=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,s):s;let h=[];if(o)if(l){const p=lo(s,g=>ct(g));h=Dw(a.serverSyncTree_,f,p,o)}else{const p=ct(s);h=Iy(a.serverSyncTree_,f,p,o)}else if(l){const p=lo(s,g=>ct(g));h=Aw(a.serverSyncTree_,f,p)}else{const p=ct(s);h=Ul(a.serverSyncTree_,f,p)}let m=f;h.length>0&&(m=Lo(a,f)),gn(a.eventQueue_,m,h)}function c_(a,n){bh(a,"connected",n),n===!1&&sC(a)}function tC(a,n){xt(n,(s,l)=>{bh(a,s,l)})}function bh(a,n,s){const l=new De("/.info/"+n),o=ct(s);a.infoData_.updateSnapshot(l,o);const f=Ul(a.infoSyncTree_,l,o);gn(a.eventQueue_,l,f)}function Xy(a){return a.nextWriteId_++}function nC(a,n,s){const l=Ow(a.serverSyncTree_,n);return l!=null?Promise.resolve(l):a.server_.get(n).then(o=>{const f=ct(o).withIndex(n._queryParams.getIndex());If(a.serverSyncTree_,n,s,!0);let h;if(n._queryParams.loadsAllData())h=Ul(a.serverSyncTree_,n._path,f);else{const m=Nl(a.serverSyncTree_,n);h=Iy(a.serverSyncTree_,n._path,f,m)}return gn(a.eventQueue_,n._path,h),So(a.serverSyncTree_,n,s,null,!0),f},o=>(Uo(a,"get for query "+$e(n)+" failed: "+o),Promise.reject(new Error(o))))}function iC(a,n,s,l,o){Uo(a,"set",{path:n.toString(),value:s,priority:l});const f=Eh(a),h=ct(s,l),m=ch(a.serverSyncTree_,n),p=zy(h,m,f),g=Xy(a),v=My(a.serverSyncTree_,n,p,g,!0);Sh(a.eventQueue_,v),a.server_.put(n.toString(),h.val(!0),(w,k)=>{const H=w==="ok";H||Ot("set at "+n+" failed: "+w);const $=Yi(a.serverSyncTree_,g,!H);gn(a.eventQueue_,n,$),oC(a,o,w,k)});const S=Jy(a,n);Lo(a,S),gn(a.eventQueue_,S,[])}function sC(a){Uo(a,"onDisconnectEvents");const n=Eh(a),s=fo();Rf(a.onDisconnect_,_e(),(o,f)=>{const h=Hw(o,f,a.serverSyncTree_,n);gy(s,o,h)});let l=[];Rf(s,_e(),(o,f)=>{l=l.concat(Ul(a.serverSyncTree_,o,f));const h=Jy(a,o);Lo(a,h)}),a.onDisconnect_=fo(),gn(a.eventQueue_,_e(),l)}function aC(a,n,s){let l;oe(n._path)===".info"?l=If(a.infoSyncTree_,n,s):l=If(a.serverSyncTree_,n,s),Yy(a.eventQueue_,n._path,l)}function lC(a,n,s){let l;oe(n._path)===".info"?l=So(a.infoSyncTree_,n,s):l=So(a.serverSyncTree_,n,s),Yy(a.eventQueue_,n._path,l)}function rC(a){a.persistentConnection_&&a.persistentConnection_.interrupt(Zw)}function Uo(a,...n){let s="";a.persistentConnection_&&(s=a.persistentConnection_.id+":"),vt(s,...n)}function oC(a,n,s,l){n&&la(()=>{if(s==="ok")n(null);else{const o=(s||"error").toUpperCase();let f=o;l&&(f+=": "+l);const h=new Error(f);h.code=o,n(h)}})}function Ky(a,n,s){return ch(a.serverSyncTree_,n,s)||Z.EMPTY_NODE}function Th(a,n=a.transactionQueueTree_){if(n||ko(a,n),ra(n)){const s=Zy(a,n);z(s.length>0,"Sending zero length transaction queue"),s.every(o=>o.status===0)&&uC(a,kl(n),s)}else jy(n)&&Io(n,s=>{Th(a,s)})}function uC(a,n,s){const l=s.map(g=>g.currentWriteId),o=Ky(a,n,l);let f=o;const h=o.hash();for(let g=0;g<s.length;g++){const v=s[g];z(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const S=bt(n,v.path);f=f.updateChild(S,v.currentOutputSnapshotRaw)}const m=f.val(!0),p=n;a.server_.put(p.toString(),m,g=>{Uo(a,"transaction put response",{path:p.toString(),status:g});let v=[];if(g==="ok"){const S=[];for(let w=0;w<s.length;w++)s[w].status=2,v=v.concat(Yi(a.serverSyncTree_,s[w].currentWriteId)),s[w].onComplete&&S.push(()=>s[w].onComplete(null,!0,s[w].currentOutputSnapshotResolved)),s[w].unwatcher();ko(a,yh(a.transactionQueueTree_,n)),Th(a,a.transactionQueueTree_),gn(a.eventQueue_,n,v);for(let w=0;w<S.length;w++)la(S[w])}else{if(g==="datastale")for(let S=0;S<s.length;S++)s[S].status===3?s[S].status=4:s[S].status=0;else{Ot("transaction at "+p.toString()+" failed: "+g);for(let S=0;S<s.length;S++)s[S].status=4,s[S].abortReason=g}Lo(a,n)}},h)}function Lo(a,n){const s=Fy(a,n),l=kl(s),o=Zy(a,s);return cC(a,o,l),l}function cC(a,n,s){if(n.length===0)return;const l=[];let o=[];const h=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const p=n[m],g=bt(s,p.path);let v=!1,S;if(z(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)v=!0,S=p.abortReason,o=o.concat(Yi(a.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=Ww)v=!0,S="maxretry",o=o.concat(Yi(a.serverSyncTree_,p.currentWriteId,!0));else{const w=Ky(a,p.path,h);p.currentInputSnapshot=w;const k=n[m].update(w.val());if(k!==void 0){vh("transaction failed: Data returned ",k,p.path);let H=ct(k);typeof k=="object"&&k!=null&&Bn(k,".priority")||(H=H.updatePriority(w.getPriority()));const ne=p.currentWriteId,ze=Eh(a),He=zy(H,w,ze);p.currentOutputSnapshotRaw=H,p.currentOutputSnapshotResolved=He,p.currentWriteId=Xy(a),h.splice(h.indexOf(ne),1),o=o.concat(My(a.serverSyncTree_,p.path,He,p.currentWriteId,p.applyLocally)),o=o.concat(Yi(a.serverSyncTree_,ne,!0))}else v=!0,S="nodata",o=o.concat(Yi(a.serverSyncTree_,p.currentWriteId,!0))}gn(a.eventQueue_,s,o),o=[],v&&(n[m].status=2,function(w){setTimeout(w,Math.floor(0))}(n[m].unwatcher),n[m].onComplete&&(S==="nodata"?l.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):l.push(()=>n[m].onComplete(new Error(S),!1,null))))}ko(a,a.transactionQueueTree_);for(let m=0;m<l.length;m++)la(l[m]);Th(a,a.transactionQueueTree_)}function Fy(a,n){let s,l=a.transactionQueueTree_;for(s=oe(n);s!==null&&ra(l)===void 0;)l=yh(l,s),n=Me(n),s=oe(n);return l}function Zy(a,n){const s=[];return Wy(a,n,s),s.sort((l,o)=>l.order-o.order),s}function Wy(a,n,s){const l=ra(n);if(l)for(let o=0;o<l.length;o++)s.push(l[o]);Io(n,o=>{Wy(a,o,s)})}function ko(a,n){const s=ra(n);if(s){let l=0;for(let o=0;o<s.length;o++)s[o].status!==2&&(s[l]=s[o],l++);s.length=l,Hy(n,s.length>0?s:void 0)}Io(n,l=>{ko(a,l)})}function Jy(a,n){const s=kl(Fy(a,n)),l=yh(a.transactionQueueTree_,n);return Bw(l,o=>{yf(a,o)}),yf(a,l),By(l,o=>{yf(a,o)}),s}function yf(a,n){const s=ra(n);if(s){const l=[];let o=[],f=-1;for(let h=0;h<s.length;h++)s[h].status===3||(s[h].status===1?(z(f===h-1,"All SENT items should be at beginning of queue."),f=h,s[h].status=3,s[h].abortReason="set"):(z(s[h].status===0,"Unexpected transaction status in abort"),s[h].unwatcher(),o=o.concat(Yi(a.serverSyncTree_,s[h].currentWriteId,!0)),s[h].onComplete&&l.push(s[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Hy(n,void 0):s.length=f+1,gn(a.eventQueue_,kl(n),o);for(let h=0;h<l.length;h++)la(l[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(a){let n="";const s=a.split("/");for(let l=0;l<s.length;l++)if(s[l].length>0){let o=s[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function hC(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const s of a.split("&")){if(s.length===0)continue;const l=s.split("=");l.length===2?n[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Ot(`Invalid query segment '${s}' in query '${a}'`)}return n}const f_=function(a,n){const s=dC(a),l=s.namespace;s.domain==="firebase.com"&&Ki(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&s.domain!=="localhost"&&Ki("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||wb();const o=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new kb(s.host,s.secure,l,o,n,"",l!==s.subdomain),path:new De(s.pathString)}},dC=function(a){let n="",s="",l="",o="",f="",h=!0,m="https",p=443;if(typeof a=="string"){let g=a.indexOf("//");g>=0&&(m=a.substring(0,g-1),a=a.substring(g+2));let v=a.indexOf("/");v===-1&&(v=a.length);let S=a.indexOf("?");S===-1&&(S=a.length),n=a.substring(0,Math.min(v,S)),v<S&&(o=fC(a.substring(v,S)));const w=hC(a.substring(Math.min(a.length,S)));g=n.indexOf(":"),g>=0?(h=m==="https"||m==="wss",p=parseInt(n.substring(g+1),10)):g=n.length;const k=n.slice(0,g);if(k.toLowerCase()==="localhost")s="localhost";else if(k.split(".").length<=2)s=k;else{const H=n.indexOf(".");l=n.substring(0,H).toLowerCase(),s=n.substring(H+1),f=l}"ns"in w&&(f=w.ns)}return{host:n,port:p,domain:s,subdomain:l,secure:h,scheme:m,pathString:o,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(n,s,l,o){this.eventType=n,this.eventRegistration=s,this.snapshot=l,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())}}class pC{constructor(n,s,l){this.eventRegistration=n,this.error=s,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(n,s){this.snapshotCallback=n,this.cancelCallback=s}onValue(n,s){this.snapshotCallback.call(null,n,s)}onCancel(n){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(n,s,l,o){this._repo=n,this._path=s,this._queryParams=l,this._orderByCalled=o}get key(){return he(this._path)?null:ly(this._path)}get ref(){return new Pn(this._repo,this._path)}get _queryIdentifier(){const n=Zg(this._queryParams),s=Ff(n);return s==="{}"?"default":s}get _queryObject(){return Zg(this._queryParams)}isEqual(n){if(n=_n(n),!(n instanceof wh))return!1;const s=this._repo===n._repo,l=$f(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return s&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+oT(this._path)}}class Pn extends wh{constructor(n,s){super(n,s,new ih,!1)}get parent(){const n=oy(this._path);return n===null?null:new Pn(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Rl{constructor(n,s,l){this._node=n,this.ref=s,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const s=new De(n),l=Lf(this.ref,n);return new Rl(this._node.getChild(s),l,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>n(new Rl(o,Lf(this.ref,l),Ve)))}hasChild(n){const s=new De(n);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ln(a,n){return a=_n(a),a._checkNotDeleted("ref"),n!==void 0?Lf(a._root,n):a._root}function Lf(a,n){return a=_n(a),oe(a._path)===null?Qw("child","path",n):qy("child","path",n),new Pn(a._repo,et(a._path,n))}function ev(a){return Gy("remove",a._path),pl(a,null)}function pl(a,n){a=_n(a),Gy("set",a._path),Yw("set",n,a._path);const s=new Vf;return iC(a._repo,a._path,n,null,s.wrapCallback(()=>{})),s.promise}function zo(a){a=_n(a);const n=new $y(()=>{}),s=new Ho(n);return nC(a._repo,a,s).then(l=>new Rl(l,new Pn(a._repo,a._path),a._queryParams.getIndex()))}class Ho{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,s){const l=s._queryParams.getIndex();return new mC("value",this,new Rl(n.snapshotNode,new Pn(s._repo,s._path),l))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,s){return this.callbackContext.hasCancelCallback?new pC(this,n,s):null}matches(n){return n instanceof Ho?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function gC(a,n,s,l,o){const f=new $y(s,void 0),h=new Ho(f);return aC(a._repo,a,h),()=>lC(a._repo,a,h)}function _C(a,n,s,l){return gC(a,"value",n)}yw(Pn);Tw(Pn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="FIREBASE_DATABASE_EMULATOR_HOST",kf={};let vC=!1;function SC(a,n,s,l,o){let f=l||a.options.databaseURL;f===void 0&&(a.options.projectId||Ki("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=f_(f,o),m=h.repoInfo,p;typeof process<"u"&&Mg&&(p=Mg[yC]),p?(f=`http://${p}?ns=${m.namespace}`,h=f_(f,o),m=h.repoInfo):h.repoInfo.secure;const g=new Lb(a.name,a.options,n);Xw("Invalid Firebase Database URL",h),he(h.path)||Ki("Database URL must point to the root of a Firebase Database (not including a child path).");const v=bC(m,a,g,new Ub(a,s));return new TC(v,a)}function EC(a,n){const s=kf[n];(!s||s[a.key]!==a)&&Ki(`Database ${n}(${a.repoInfo_}) has already been deleted.`),rC(a),delete s[a.key]}function bC(a,n,s,l){let o=kf[n.name];o||(o={},kf[n.name]=o);let f=o[a.toURLString()];return f&&Ki("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new Jw(a,vC,s,l),o[a.toURLString()]=f,f}class TC{constructor(n,s){this._repoInternal=n,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($w(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pn(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(EC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Ki("Cannot call "+n+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(a){yb(No),ea(new $s("database",(n,{instanceIdentifier:s})=>{const l=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return SC(l,o,f,s)},"PUBLIC").setMultipleInstances(!0)),pi(Ig,Ug,a),pi(Ig,Ug,"esm2017")}Hn.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};Hn.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};wC();function tv(a,n){var s={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&n.indexOf(l)<0&&(s[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(a);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(a,l[o])&&(s[l[o]]=a[l[o]]);return s}function nv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CC=nv,iv=new Ol("auth","Firebase",nv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Qf("@firebase/auth");function AC(a,...n){Eo.logLevel<=Ne.WARN&&Eo.warn(`Auth (${No}): ${a}`,...n)}function so(a,...n){Eo.logLevel<=Ne.ERROR&&Eo.error(`Auth (${No}): ${a}`,...n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(a,...n){throw Ch(a,...n)}function sv(a,...n){return Ch(a,...n)}function av(a,n,s){const l=Object.assign(Object.assign({},CC()),{[n]:s});return new Ol("auth","Firebase",l).create(n,{appName:a.name})}function gl(a){return av(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ch(a,...n){if(typeof a!="string"){const s=n[0],l=[...n.slice(1)];return l[0]&&(l[0].appName=a.name),a._errorFactory.create(s,...l)}return iv.create(a,...n)}function ve(a,n,...s){if(!a)throw Ch(n,...s)}function _l(a){const n="INTERNAL ASSERTION FAILED: "+a;throw so(n),new Error(n)}function bo(a,n){a||_l(n)}function NC(){return h_()==="http:"||h_()==="https:"}function h_(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NC()||J0()||"connection"in navigator)?navigator.onLine:!0}function DC(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(n,s){this.shortDelay=n,this.longDelay=s,bo(s>n,"Short delay should be less than long delay!"),this.isMobile=qf()||x_()}get(){return RC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(a,n){bo(a.emulator,"Emulator should always be set here");const{url:s}=a.emulator;return n?`${s}${n.startsWith("/")?n.slice(1):n}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{static initialize(n,s,l){this.fetchImpl=n,s&&(this.headersImpl=s),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_l("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_l("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_l("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IC=new zl(3e4,6e4);function Ah(a,n){return a.tenantId&&!n.tenantId?Object.assign(Object.assign({},n),{tenantId:a.tenantId}):n}async function Hl(a,n,s,l,o={}){return rv(a,o,async()=>{let f={},h={};l&&(n==="GET"?h=l:f={body:JSON.stringify(l)});const m=Gf(Object.assign({key:a.config.apiKey},h)).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const g=Object.assign({method:n,headers:p},f);return W0()||(g.referrerPolicy="no-referrer"),a.emulatorConfig&&O_(a.emulatorConfig.host)&&(g.credentials="include"),lv.fetch()(await ov(a,a.config.apiHost,s,m),g)})}async function rv(a,n,s){a._canInitEmulator=!1;const l=Object.assign(Object.assign({},xC),n);try{const o=new LC(a),f=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const h=await f.json();if("needConfirmation"in h)throw io(a,"account-exists-with-different-credential",h);if(f.ok&&!("errorMessage"in h))return h;{const m=f.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw io(a,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw io(a,"email-already-in-use",h);if(p==="USER_DISABLED")throw io(a,"user-disabled",h);const v=l[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw av(a,v,g);zf(a,v)}}catch(o){if(o instanceof Ji)throw o;zf(a,"network-request-failed",{message:String(o)})}}async function UC(a,n,s,l,o={}){const f=await Hl(a,n,s,l,o);return"mfaPendingCredential"in f&&zf(a,"multi-factor-auth-required",{_serverResponse:f}),f}async function ov(a,n,s,l){const o=`${n}${s}?${l}`,f=a,h=f.config.emulator?OC(a.config,o):`${a.config.apiScheme}://${o}`;return MC.includes(s)&&(await f._persistenceManagerAvailable,f._getPersistenceType()==="COOKIE")?f._getPersistence()._getFinalTarget(h).toString():h}class LC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(n){this.auth=n,this.timer=null,this.promise=new Promise((s,l)=>{this.timer=setTimeout(()=>l(sv(this.auth,"network-request-failed")),IC.get())})}}function io(a,n,s){const l={appName:a.name};s.email&&(l.email=s.email),s.phoneNumber&&(l.phoneNumber=s.phoneNumber);const o=sv(a,n,l);return o.customData._tokenResponse=s,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(a,n){return Hl(a,"POST","/v1/accounts:delete",n)}async function To(a,n){return Hl(a,"POST","/v1/accounts:lookup",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(a){if(a)try{const n=new Date(Number(a));if(!isNaN(n.getTime()))return n.toUTCString()}catch{}}async function zC(a,n=!1){const s=_n(a),l=await s.getIdToken(n),o=uv(l);ve(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const f=typeof o.firebase=="object"?o.firebase:void 0,h=f?.sign_in_provider;return{claims:o,token:l,authTime:yl(vf(o.auth_time)),issuedAtTime:yl(vf(o.iat)),expirationTime:yl(vf(o.exp)),signInProvider:h||null,signInSecondFactor:f?.sign_in_second_factor||null}}function vf(a){return Number(a)*1e3}function uv(a){const[n,s,l]=a.split(".");if(n===void 0||s===void 0||l===void 0)return so("JWT malformed, contained fewer than 3 sections"),null;try{const o=ao(s);return o?JSON.parse(o):(so("Failed to decode base64 JWT payload"),null)}catch(o){return so("Caught error parsing JWT payload as JSON",o?.toString()),null}}function d_(a){const n=uv(a);return ve(n,"internal-error"),ve(typeof n.exp<"u","internal-error"),ve(typeof n.iat<"u","internal-error"),Number(n.exp)-Number(n.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(a,n,s=!1){if(s)return n;try{return await n}catch(l){throw l instanceof Ji&&HC(l)&&a.auth.currentUser===a&&await a.auth.signOut(),l}}function HC({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(n){this.user=n,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(n){var s;if(n){const l=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),l}else{this.errorBackoff=3e4;const o=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(n=!1){if(!this.isRunning)return;const s=this.getInterval(n);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(n){n?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(n,s){this.createdAt=n,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(n){this.createdAt=n.createdAt,this.lastLoginAt=n.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(a){var n;const s=a.auth,l=await a.getIdToken(),o=await Hf(a,To(s,{idToken:l}));ve(o?.users.length,s,"internal-error");const f=o.users[0];a._notifyReloadListener(f);const h=!((n=f.providerUserInfo)===null||n===void 0)&&n.length?cv(f.providerUserInfo):[],m=PC(a.providerData,h),p=a.isAnonymous,g=!(a.email&&f.passwordHash)&&!m?.length,v=p?g:!1,S={uid:f.localId,displayName:f.displayName||null,photoURL:f.photoUrl||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,tenantId:f.tenantId||null,providerData:m,metadata:new jf(f.createdAt,f.lastLoginAt),isAnonymous:v};Object.assign(a,S)}async function BC(a){const n=_n(a);await wo(n),await n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)}function PC(a,n){return[...a.filter(l=>!n.some(o=>o.providerId===l.providerId)),...n]}function cv(a){return a.map(n=>{var{providerId:s}=n,l=tv(n,["providerId"]);return{providerId:s,uid:l.rawId||"",displayName:l.displayName||null,email:l.email||null,phoneNumber:l.phoneNumber||null,photoURL:l.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(a,n){const s=await rv(a,{},async()=>{const l=Gf({grant_type:"refresh_token",refresh_token:n}).slice(1),{tokenApiHost:o,apiKey:f}=a.config,h=await ov(a,o,"/v1/token",`key=${f}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:l};return a.emulatorConfig&&O_(a.emulatorConfig.host)&&(p.credentials="include"),lv.fetch()(h,p)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function qC(a,n){return Hl(a,"POST","/v2/accounts:revokeToken",Ah(a,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(n){ve(n.idToken,"internal-error"),ve(typeof n.idToken<"u","internal-error"),ve(typeof n.refreshToken<"u","internal-error");const s="expiresIn"in n&&typeof n.expiresIn<"u"?Number(n.expiresIn):d_(n.idToken);this.updateTokensAndExpiration(n.idToken,n.refreshToken,s)}updateFromIdToken(n){ve(n.length!==0,"internal-error");const s=d_(n);this.updateTokensAndExpiration(n,null,s)}async getToken(n,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,n,"user-token-expired"),this.refreshToken?(await this.refresh(n,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(n,s){const{accessToken:l,refreshToken:o,expiresIn:f}=await VC(n,s);this.updateTokensAndExpiration(l,o,Number(f))}updateTokensAndExpiration(n,s,l){this.refreshToken=s||null,this.accessToken=n||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(n,s){const{refreshToken:l,accessToken:o,expirationTime:f}=s,h=new Zs;return l&&(ve(typeof l=="string","internal-error",{appName:n}),h.refreshToken=l),o&&(ve(typeof o=="string","internal-error",{appName:n}),h.accessToken=o),f&&(ve(typeof f=="number","internal-error",{appName:n}),h.expirationTime=f),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(n){this.accessToken=n.accessToken,this.refreshToken=n.refreshToken,this.expirationTime=n.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return _l("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(a,n){ve(typeof a=="string"||typeof a>"u","internal-error",{appName:n})}class sn{constructor(n){var{uid:s,auth:l,stsTokenManager:o}=n,f=tv(n,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=l,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=f.displayName||null,this.email=f.email||null,this.emailVerified=f.emailVerified||!1,this.phoneNumber=f.phoneNumber||null,this.photoURL=f.photoURL||null,this.isAnonymous=f.isAnonymous||!1,this.tenantId=f.tenantId||null,this.providerData=f.providerData?[...f.providerData]:[],this.metadata=new jf(f.createdAt||void 0,f.lastLoginAt||void 0)}async getIdToken(n){const s=await Hf(this,this.stsTokenManager.getToken(this.auth,n));return ve(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(n){return zC(this,n)}reload(){return BC(this)}_assign(n){this!==n&&(ve(this.uid===n.uid,this.auth,"internal-error"),this.displayName=n.displayName,this.photoURL=n.photoURL,this.email=n.email,this.emailVerified=n.emailVerified,this.phoneNumber=n.phoneNumber,this.isAnonymous=n.isAnonymous,this.tenantId=n.tenantId,this.providerData=n.providerData.map(s=>Object.assign({},s)),this.metadata._copy(n.metadata),this.stsTokenManager._assign(n.stsTokenManager))}_clone(n){const s=new sn(Object.assign(Object.assign({},this),{auth:n,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(n){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=n,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(n){this.reloadListener?this.reloadListener(n):this.reloadUserInfo=n}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(n,s=!1){let l=!1;n.idToken&&n.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(n),l=!0),s&&await wo(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(gl(this.auth));const n=await this.getIdToken();return await Hf(this,kC(this.auth,{idToken:n})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(n=>Object.assign({},n)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(n,s){var l,o,f,h,m,p,g,v;const S=(l=s.displayName)!==null&&l!==void 0?l:void 0,w=(o=s.email)!==null&&o!==void 0?o:void 0,k=(f=s.phoneNumber)!==null&&f!==void 0?f:void 0,H=(h=s.photoURL)!==null&&h!==void 0?h:void 0,$=(m=s.tenantId)!==null&&m!==void 0?m:void 0,ne=(p=s._redirectEventId)!==null&&p!==void 0?p:void 0,ze=(g=s.createdAt)!==null&&g!==void 0?g:void 0,He=(v=s.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:le,emailVerified:tt,isAnonymous:te,providerData:Ye,stsTokenManager:Qe}=s;ve(le&&Qe,n,"internal-error");const ft=Zs.fromJSON(this.name,Qe);ve(typeof le=="string",n,"internal-error"),fi(S,n.name),fi(w,n.name),ve(typeof tt=="boolean",n,"internal-error"),ve(typeof te=="boolean",n,"internal-error"),fi(k,n.name),fi(H,n.name),fi($,n.name),fi(ne,n.name),fi(ze,n.name),fi(He,n.name);const nt=new sn({uid:le,auth:n,email:w,emailVerified:tt,displayName:S,isAnonymous:te,photoURL:H,phoneNumber:k,tenantId:$,stsTokenManager:ft,createdAt:ze,lastLoginAt:He});return Ye&&Array.isArray(Ye)&&(nt.providerData=Ye.map(Se=>Object.assign({},Se))),ne&&(nt._redirectEventId=ne),nt}static async _fromIdTokenResponse(n,s,l=!1){const o=new Zs;o.updateFromServerResponse(s);const f=new sn({uid:s.localId,auth:n,stsTokenManager:o,isAnonymous:l});return await wo(f),f}static async _fromGetAccountInfoResponse(n,s,l){const o=s.users[0];ve(o.localId!==void 0,"internal-error");const f=o.providerUserInfo!==void 0?cv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!f?.length,m=new Zs;m.updateFromIdToken(l);const p=new sn({uid:o.localId,auth:n,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new jf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!f?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;function Qi(a){bo(a instanceof Function,"Expected a class definition");let n=m_.get(a);return n?(bo(n instanceof a,"Instance stored in cache mismatched with class"),n):(n=new a,m_.set(a,n),n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,s){this.storage[n]=s}async _get(n){const s=this.storage[n];return s===void 0?null:s}async _remove(n){delete this.storage[n]}_addListener(n,s){}_removeListener(n,s){}}fv.type="NONE";const p_=fv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(a,n,s){return`firebase:${a}:${n}:${s}`}class Ws{constructor(n,s,l){this.persistence=n,this.auth=s,this.userKey=l;const{config:o,name:f}=this.auth;this.fullUserKey=Sf(this.userKey,o.apiKey,f),this.fullPersistenceKey=Sf("persistence",o.apiKey,f),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(n){return this.persistence._set(this.fullUserKey,n.toJSON())}async getCurrentUser(){const n=await this.persistence._get(this.fullUserKey);if(!n)return null;if(typeof n=="string"){const s=await To(this.auth,{idToken:n}).catch(()=>{});return s?sn._fromGetAccountInfoResponse(this.auth,s,n):null}return sn._fromJSON(this.auth,n)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(n){if(this.persistence===n)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=n,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(n,s,l="authUser"){if(!s.length)return new Ws(Qi(p_),n,l);const o=(await Promise.all(s.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let f=o[0]||Qi(p_);const h=Sf(l,n.config.apiKey,n.name);let m=null;for(const g of s)try{const v=await g._get(h);if(v){let S;if(typeof v=="string"){const w=await To(n,{idToken:v}).catch(()=>{});if(!w)break;S=await sn._fromGetAccountInfoResponse(n,w,v)}else S=sn._fromJSON(n,v);g!==f&&(m=S),f=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!f._shouldAllowMigration||!p.length?new Ws(f,n,l):(f=p[0],m&&await f._set(h,m.toJSON()),await Promise.all(s.map(async g=>{if(g!==f)try{await g._remove(h)}catch{}})),new Ws(f,n,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(a){const n=a.toLowerCase();if(n.includes("opera/")||n.includes("opr/")||n.includes("opios/"))return"Opera";if(XC(n))return"IEMobile";if(n.includes("msie")||n.includes("trident/"))return"IE";if(n.includes("edge/"))return"Edge";if(GC(n))return"Firefox";if(n.includes("silk/"))return"Silk";if(FC(n))return"Blackberry";if(ZC(n))return"Webos";if(YC(n))return"Safari";if((n.includes("chrome/")||QC(n))&&!n.includes("edge/"))return"Chrome";if(KC(n))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=a.match(s);if(l?.length===2)return l[1]}return"Other"}function GC(a=pn()){return/firefox\//i.test(a)}function YC(a=pn()){const n=a.toLowerCase();return n.includes("safari/")&&!n.includes("chrome/")&&!n.includes("crios/")&&!n.includes("android")}function QC(a=pn()){return/crios\//i.test(a)}function XC(a=pn()){return/iemobile/i.test(a)}function KC(a=pn()){return/android/i.test(a)}function FC(a=pn()){return/blackberry/i.test(a)}function ZC(a=pn()){return/webos/i.test(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(a,n=[]){let s;switch(a){case"Browser":s=g_(pn());break;case"Worker":s=`${g_(pn())}-${a}`;break;default:s=a}const l=n.length?n.join(","):"FirebaseCore-web";return`${s}/JsCore/${No}/${l}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(n){this.auth=n,this.queue=[]}pushCallback(n,s){const l=f=>new Promise((h,m)=>{try{const p=n(f);h(p)}catch(p){m(p)}});l.onAbort=s,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(n){if(this.auth.currentUser===n)return;const s=[];try{for(const l of this.queue)await l(n),l.onAbort&&s.push(l.onAbort)}catch(l){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(a,n={}){return Hl(a,"GET","/v2/passwordPolicy",Ah(a,n))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=6;class eA{constructor(n){var s,l,o,f;const h=n.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=h.minPasswordLength)!==null&&s!==void 0?s:$C,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=n.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(l=n.allowedNonAlphanumericCharacters)===null||l===void 0?void 0:l.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(f=n.forceUpgradeOnSignin)!==null&&f!==void 0?f:!1,this.schemaVersion=n.schemaVersion}validatePassword(n){var s,l,o,f,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(n,p),this.validatePasswordCharacterOptions(n,p),p.isValid&&(p.isValid=(s=p.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.meetsMaxPasswordLength)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(f=p.containsUppercaseLetter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(n,s){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(s.meetsMinPasswordLength=n.length>=l),o&&(s.meetsMaxPasswordLength=n.length<=o)}validatePasswordCharacterOptions(n,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let l;for(let o=0;o<n.length;o++)l=n.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(n,s,l,o,f){this.customStrengthOptions.containsLowercaseLetter&&(n.containsLowercaseLetter||(n.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(n.containsUppercaseLetter||(n.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(n.containsNumericCharacter||(n.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(n.containsNonAlphanumericCharacter||(n.containsNonAlphanumericCharacter=f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(n,s,l,o){this.app=n,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new WC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=n.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(f=>this._resolvePersistenceManagerAvailable=f)}_initializeWithPersistence(n,s){return s&&(this._popupRedirectResolver=Qi(s)),this._initializationPromise=this.queue(async()=>{var l,o,f;if(!this._deleted&&(this.persistenceManager=await Ws.create(this,n),(l=this._resolvePersistenceManagerAvailable)===null||l===void 0||l.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((f=this.currentUser)===null||f===void 0?void 0:f.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const n=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!n)){if(this.currentUser&&n&&this.currentUser.uid===n.uid){this._currentUser._assign(n),await this.currentUser.getIdToken();return}await this._updateCurrentUser(n,!0)}}async initializeCurrentUserFromIdToken(n){try{const s=await To(this,{idToken:n}),l=await sn._fromGetAccountInfoResponse(this,s,n);await this.directlySetCurrentUser(l)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(n){var s;if(di(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const l=await this.assertedPersistence.getCurrentUser();let o=l,f=!1;if(n&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(n);(!h||h===m)&&p?.user&&(o=p.user,f=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(f)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=l,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(n){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,n,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(n){try{await wo(n)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(n)}useDeviceLanguage(){this.languageCode=DC()}async _delete(){this._deleted=!0}async updateCurrentUser(n){if(di(this.app))return Promise.reject(gl(this));const s=n?_n(n):null;return s&&ve(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(n,s=!1){if(!this._deleted)return n&&ve(this.tenantId===n.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(n),this.queue(async()=>{await this.directlySetCurrentUser(n),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(gl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(n){return di(this.app)?Promise.reject(gl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(n))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(n){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(n)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const n=await JC(this),s=new eA(n);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(n){this._errorFactory=new Ol("auth","Firebase",n())}onAuthStateChanged(n,s,l){return this.registerStateListener(this.authStateSubscription,n,s,l)}beforeAuthStateChanged(n,s){return this.beforeStateQueue.pushCallback(n,s)}onIdTokenChanged(n,s,l){return this.registerStateListener(this.idTokenSubscription,n,s,l)}authStateReady(){return new Promise((n,s)=>{if(this.currentUser)n();else{const l=this.onAuthStateChanged(()=>{l(),n()},s)}})}async revokeAccessToken(n){if(this.currentUser){const s=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:n,idToken:s};this.tenantId!=null&&(l.tenantId=this.tenantId),await qC(this,l)}}toJSON(){var n;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(n=this._currentUser)===null||n===void 0?void 0:n.toJSON()}}async _setRedirectUser(n,s){const l=await this.getOrInitRedirectPersistenceManager(s);return n===null?l.removeCurrentUser():l.setCurrentUser(n)}async getOrInitRedirectPersistenceManager(n){if(!this.redirectPersistenceManager){const s=n&&Qi(n)||this._popupRedirectResolver;ve(s,this,"argument-error"),this.redirectPersistenceManager=await Ws.create(this,[Qi(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(n){var s,l;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===n?this._currentUser:((l=this.redirectUser)===null||l===void 0?void 0:l._redirectEventId)===n?this.redirectUser:null}async _persistUserIfCurrent(n){if(n===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(n))}_notifyListenersIfCurrent(n){n===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const l=(s=(n=this.currentUser)===null||n===void 0?void 0:n.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==l&&(this.lastNotifiedUid=l,this.authStateSubscription.next(this.currentUser))}registerStateListener(n,s,l,o){if(this._deleted)return()=>{};const f=typeof s=="function"?s:s.next.bind(s);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||f(this.currentUser)}),typeof s=="function"){const p=n.addObserver(s,l,o);return()=>{h=!0,p()}}else{const p=n.addObserver(s);return()=>{h=!0,p()}}}async directlySetCurrentUser(n){this.currentUser&&this.currentUser!==n&&this._currentUser._stopProactiveRefresh(),n&&this.isProactiveRefreshEnabled&&n._startProactiveRefresh(),this.currentUser=n,n?await this.assertedPersistence.setCurrentUser(n):await this.assertedPersistence.removeCurrentUser()}queue(n){return this.operations=this.operations.then(n,n),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(n){!n||this.frameworks.includes(n)||(this.frameworks.push(n),this.frameworks.sort(),this.clientVersion=hv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var n;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const l=await((n=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||n===void 0?void 0:n.getHeartbeatsHeader());l&&(s["X-Firebase-Client"]=l);const o=await this._getAppCheckToken();return o&&(s["X-Firebase-AppCheck"]=o),s}async _getAppCheckToken(){var n;if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||n===void 0?void 0:n.getToken());return s?.error&&AC(`Error while retrieving App Check token: ${s.error}`),s?.token}}function dv(a){return _n(a)}class __{constructor(n){this.auth=n,this.observer=null,this.addObserver=oE(s=>this.observer=s)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nA(a,n){const s=n?.persistence||[],l=(Array.isArray(s)?s:[s]).map(Qi);n?.errorMap&&a._updateErrorMap(n.errorMap),a._initializeWithPersistence(l,n?.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iA(a,n){return UC(a,"POST","/v1/accounts:signUp",Ah(a,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(n){this.user=n.user,this.providerId=n.providerId,this._tokenResponse=n._tokenResponse,this.operationType=n.operationType}static async _fromIdTokenResponse(n,s,l,o=!1){const f=await sn._fromIdTokenResponse(n,l,o),h=y_(l);return new Dl({user:f,providerId:h,_tokenResponse:l,operationType:s})}static async _forOperation(n,s,l){await n._updateTokensIfNecessary(l,!0);const o=y_(l);return new Dl({user:n,providerId:o,_tokenResponse:l,operationType:s})}}function y_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(a){var n;if(di(a.app))return Promise.reject(gl(a));const s=dv(a);if(await s._initializationPromise,!((n=s.currentUser)===null||n===void 0)&&n.isAnonymous)return new Dl({user:s.currentUser,providerId:null,operationType:"signIn"});const l=await iA(s,{returnSecureToken:!0}),o=await Dl._fromIdTokenResponse(s,"signIn",l,!0);return await s._updateCurrentUser(o.user),o}function aA(a,n,s,l){return _n(a).onAuthStateChanged(n,s,l)}new zl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zl(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zl(5e3,15e3);var v_="@firebase/auth",S_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(n){this.auth=n,this.internalListeners=new Map}getUid(){var n;return this.assertAuthConfigured(),((n=this.auth.currentUser)===null||n===void 0?void 0:n.uid)||null}async getToken(n){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(n)}:null}addAuthTokenListener(n){if(this.assertAuthConfigured(),this.internalListeners.has(n))return;const s=this.auth.onIdTokenChanged(l=>{n(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(n,s),this.updateProactiveRefresh()}removeAuthTokenListener(n){this.assertAuthConfigured();const s=this.internalListeners.get(n);s&&(this.internalListeners.delete(n),s(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oA(a){ea(new $s("auth",(n,{options:s})=>{const l=n.getProvider("app").getImmediate(),o=n.getProvider("heartbeat"),f=n.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=l.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:l.name});const p={apiKey:h,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hv(a)},g=new tA(l,o,f,p);return nA(g,s),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,s,l)=>{n.getProvider("auth-internal").initialize()})),ea(new $s("auth-internal",n=>{const s=dv(n.getProvider("auth").getImmediate());return(l=>new lA(l))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(v_,S_,rA(a)),pi(v_,S_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=5*60;Z0("authIdTokenMaxAge");oA("Browser");let kn=null,E_=null;const cA=({updateInfo:a,onDismiss:n,onPostpone:s,onUpdateNow:l,updateProgress:o,onRestartNow:f,onRestartLater:h,onCancelUpdate:m})=>{const p=V.useRef(-1);V.useEffect(()=>{if(o?.phase==="downloading"&&o?.percent!==void 0){const le=Math.floor(o.percent/10)*10;le!==p.current&&le>=0&&(console.log(`[Update] Download progress: ${le}% - ${o.message}`),p.current=le)}else o?.phase==="installing"?console.log("[Update] Installing update..."):o?.phase==="ready"?console.log("[Update] Update ready for restart"):o?.phase==="error"&&console.log("[Update] Error:",o.message)},[o]);const[g,v]=V.useState(!0),[S,w]=V.useState(!1),[k,H]=V.useState(null),$=()=>{o?.phase||(v(!1),setTimeout(()=>n(a.latestVersion),300))},ne=()=>{o?.phase||(v(!1),setTimeout(()=>s(a.latestVersion),300))},ze=()=>{w(!1),H(null),m&&m()},He=async()=>{console.log("[UpdateNotification] Download and Install button clicked."),w(!0),H(null);try{await l(a)}catch(le){console.error("[UpdateNotification] Update failed:",le),H(le.message),w(!1)}};return V.useEffect(()=>{o?.phase==="restart_required"&&w(!1)},[o]),g?o?.phase==="restart_required"?E.jsx("div",{className:"update-notification",children:E.jsxs("div",{className:"update-notification-content",children:[E.jsx("div",{className:"update-header",children:E.jsx("h3",{children:" Update Staged Successfully!"})}),E.jsx("div",{className:"update-info",children:E.jsx("p",{children:"The update has been downloaded and staged. Restart the app to apply the update."})}),E.jsxs("div",{className:"update-actions",children:[E.jsx("button",{className:"update-btn primary",onClick:f,title:"Restart the app now to complete the update",children:" Restart Now"}),E.jsx("button",{className:"update-btn secondary",onClick:h,title:"Restart later - the update will take effect on next app launch",children:" Restart Later"})]})]})}):E.jsx("div",{className:"update-notification",children:E.jsxs("div",{className:"update-notification-content",children:[!o?.phase&&E.jsx("button",{className:"update-close-btn",onClick:ne,disabled:S,title:"Show again next time",children:""}),E.jsx("div",{className:"update-header",children:E.jsx("h3",{children:" New Version Available!"})}),!o?.phase&&E.jsxs("div",{className:"update-info",children:[E.jsxs("div",{className:"version-details",children:[E.jsxs("span",{className:"version-badge current",children:["Current: ",a.currentVersion]}),E.jsxs("span",{className:"version-badge latest",children:["Latest: ",a.latestVersion]})]}),a.releaseDate&&E.jsxs("p",{className:"release-date",children:["Released: ",a.releaseDate]}),a.releaseNotes&&E.jsxs("div",{className:"release-notes",children:[E.jsx("h4",{children:"What's New:"}),E.jsx("div",{className:"release-notes-content",children:a.releaseNotes})]}),a.commitMessage&&E.jsxs("p",{className:"commit-message",children:["Latest: ",a.commitMessage]})]}),o?.phase&&E.jsxs("div",{className:"update-progress",children:[E.jsxs("div",{className:"progress-header",children:[E.jsxs("h4",{children:[o.phase==="downloading"&&" Downloading Update...",o.phase==="installing"&&" Installing Update...",o.phase==="restart_required"&&" Update Staged!",o.phase==="error"&&" Update Failed"]}),o.phase!=="restart_required"&&E.jsx("button",{className:"cancel-update-btn",onClick:ze,title:"Cancel update",children:""}),o.phase==="restart_required"&&E.jsx("button",{className:"cancel-update-btn",onClick:h,title:"Hide notification - update will apply on next restart",children:""})]}),E.jsxs("div",{className:"progress-bar-container",children:[E.jsx("div",{className:"progress-bar",children:E.jsx("div",{className:"progress-bar-fill",style:{width:`${o.percent}%`}})}),E.jsxs("span",{className:"progress-text",children:[o.percent,"%"]})]}),E.jsx("p",{className:"progress-message",children:o.message})]}),k&&E.jsxs("div",{className:"update-error",children:[E.jsxs("p",{children:[" Update failed: ",k]}),E.jsx("p",{children:"You can download manually from the repository."})]}),!o?.phase&&E.jsxs("div",{className:"update-actions",children:[E.jsx("button",{className:"update-btn primary",onClick:le=>{console.log("[UpdateNotification] Download and Install button onClick fired"),He()},disabled:S,title:"Download and install update automatically",children:S?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"loading-spinner",children:""}),"Starting..."]}):E.jsx(E.Fragment,{children:"Download and Install"})}),E.jsx("button",{className:"update-btn secondary",onClick:ne,disabled:S,title:"Show this notification again next time the app starts",children:" Update Later"}),E.jsx("button",{className:"update-btn tertiary",onClick:$,disabled:S,title:"Don't show this notification for this version anymore",children:" Dismiss"})]})]})}):null},fA=({updateState:a,onDismiss:n,onRetryUpdate:s,onManualUpdate:l})=>{const[o,f]=V.useState(!0),h=()=>{f(!1),setTimeout(()=>n(),300)},m=()=>{h(),setTimeout(()=>s(),300)},p=()=>{l()};return o?a.success?E.jsx("div",{className:"post-update-notification success",children:E.jsxs("div",{className:"post-update-notification-content",children:[E.jsx("button",{className:"close-btn",onClick:h,title:"Close notification",children:""}),E.jsx("div",{className:"post-update-header",children:E.jsx("h3",{children:" Update Successful!"})}),E.jsxs("div",{className:"post-update-info",children:[E.jsx("p",{children:"New version installed successfully."}),E.jsx("div",{className:"version-info",children:E.jsxs("strong",{children:["Current version: ",a.version]})})]}),E.jsx("div",{className:"post-update-actions",children:E.jsx("button",{className:"post-update-btn primary",onClick:h,children:"Dismiss"})})]})}):E.jsx("div",{className:"post-update-notification error",children:E.jsxs("div",{className:"post-update-notification-content",children:[E.jsx("button",{className:"close-btn",onClick:h,title:"Close notification",children:""}),E.jsx("div",{className:"post-update-header",children:E.jsx("h3",{children:" Update Issue"})}),E.jsxs("div",{className:"post-update-info",children:[E.jsx("p",{children:"New version couldn't be installed automatically. You can try again or update manually."}),E.jsx("p",{className:"error-details",children:"If the problem persists, contact the system administrator."})]}),E.jsxs("div",{className:"post-update-actions",children:[E.jsx("button",{className:"post-update-btn primary",onClick:m,title:"Retry the automatic update process",children:"Try Again"}),E.jsx("button",{className:"post-update-btn secondary",onClick:p,title:"Open GitHub repository to download manually",children:"Update Manually"}),E.jsx("button",{className:"post-update-btn tertiary",onClick:h,title:"Dismiss this notification",children:"Dismiss"})]})]})}):null},mv="https://api.github.com/repos/moisalucian/office-or-home-office",hA=`${mv}/releases/latest`,dA=2*60*60*1e3,pv=async()=>{if(window.electronAPI?.getAppVersion)try{const a=await window.electronAPI.getAppVersion();return console.log("Got version from Electron:",a),a||"1.0.0"}catch(a){return console.error("Error getting app version:",a),"1.0.0"}return localStorage.getItem("currentAppVersion")||"1.0.0"},mA=a=>{localStorage.setItem("currentAppVersion",a)},pA=()=>{const a=localStorage.getItem("lastVersionCheck");return a?new Date(a):null},gv=()=>{localStorage.setItem("lastVersionCheck",new Date().toISOString())},gA=()=>{const a=pA();return a?Date.now()-a.getTime()>=dA:!0},_v=async()=>{try{const a=await pv();console.log("Current version:",a);const n=await fetch(hA);if(!n.ok)return await _A();const s=await n.json(),l=s.tag_name.replace(/^v/,"");console.log("Latest version:",l),gv();const o=yA(l,a);if(console.log("Has update:",o),!o)return{hasUpdate:!1,currentVersion:a,latestVersion:l};const h=EA()===l,p=bA()===l;return{hasUpdate:o,currentVersion:a,latestVersion:l,releaseNotes:s.body||"No release notes available",releaseDate:new Date(s.published_at).toLocaleDateString(),downloadUrl:s.assets.find(g=>g.name.includes("win")||g.name.includes(".exe")||g.name.includes(".zip"))?.browser_download_url,wasDismissed:h,wasPostponed:p}}catch(a){return console.error("Version check failed:",a),{hasUpdate:!1,error:a.message}}},_A=async()=>{try{const a=await fetch(`${mv}/commits/main`);if(!a.ok)throw new Error("Failed to fetch commit info");const n=await a.json(),s=n.sha.substring(0,7),l=await pv(),f=(localStorage.getItem("currentCommitSha")||"")!==s;return f&&localStorage.setItem("latestCommitSha",s),{hasUpdate:f,currentVersion:l,latestVersion:`${l}-${s}`,commitMessage:n.commit.message,commitDate:new Date(n.commit.committer.date).toLocaleDateString(),isCommitBased:!0}}catch(a){return console.error("Commit-based version check failed:",a),{hasUpdate:!1,error:a.message}}},yA=(a,n)=>{console.log(`Comparing versions: ${a} vs ${n}`);const s=f=>f.replace(/[^\d.]/g,"").split(".").slice(0,3).map(m=>parseInt(m,10)||0),l=s(a),o=s(n);console.log("Latest parts:",l),console.log("Current parts:",o);for(let f=0;f<Math.max(l.length,o.length);f++){const h=l[f]||0,m=o[f]||0;if(h>m)return console.log(`Latest is newer: ${h} > ${m}`),!0;if(h<m)return console.log(`Current is newer: ${m} > ${h}`),!1}return console.log("Versions are equal"),!1},vA=a=>{localStorage.setItem("dismissedUpdateVersion",a),localStorage.removeItem("postponedUpdateVersion")},SA=a=>{localStorage.setItem("postponedUpdateVersion",a),localStorage.removeItem("dismissedUpdateVersion")},EA=()=>localStorage.getItem("dismissedUpdateVersion"),bA=()=>localStorage.getItem("postponedUpdateVersion"),TA=a=>a.hasUpdate?a.wasPostponed?!0:!a.wasDismissed:!1,wA=async()=>await _v(),CA=async(a,n)=>{if(console.log("[Update] downloadAndInstallUpdate called with URL:",a,"version:",n),!a)throw console.error("[Update] No download URL provided"),new Error("No download URL available");if(window.electronAPI?.downloadAndInstallUpdate&&window.electronAPI?.extractAndInstallUpdate){let s;try{console.log("[Update] Starting download via electronAPI.downloadAndInstallUpdate"),s=await Promise.race([window.electronAPI.downloadAndInstallUpdate(a),new Promise((l,o)=>setTimeout(()=>o(new Error("Download timeout - please try again or download manually")),12e4))]),console.log("[Update] Download result:",s)}catch(l){throw console.error("[Update] Download failed:",l),window.setUpdateProgress&&window.setUpdateProgress({phase:"error",percent:100,message:String(l)}),l}if(s&&s.filePath&&window.electronAPI?.extractAndInstallUpdate){console.log("[Update] Download complete, filePath:",s.filePath),window.setUpdateProgress&&window.setUpdateProgress({phase:"installing",percent:0,message:"Installing update..."});try{console.log("[Update] About to call electronAPI.extractAndInstallUpdate with:",s.filePath,"version:",n);const l=await Promise.race([window.electronAPI.extractAndInstallUpdate(s.filePath,n),new Promise((o,f)=>setTimeout(()=>{console.error("[Update] Install phase did not complete within 3 minutes"),f(new Error("Install phase did not complete within 3 minutes. Please restart the app or update manually.")),window.setUpdateProgress&&window.setUpdateProgress({phase:"error",percent:100,message:"Install phase did not complete. Please restart the app or update manually."})},3*60*1e3))]);return console.log("[Update] Install result:",l),gv(),l}catch(l){throw console.error("[Update] Install failed:",l),window.setUpdateProgress&&window.setUpdateProgress({phase:"error",percent:100,message:String(l)}),l}}else{const l="[Update] Download finished but no file to install or extractAndInstallUpdate missing";throw console.error(l),window.setUpdateProgress&&window.setUpdateProgress({phase:"error",percent:100,message:l}),new Error(l)}}else throw console.error("[Update] electronAPI.downloadAndInstallUpdate or extractAndInstallUpdate not available"),window.open(a,"_blank"),new Error("Auto-update not available, opened download page")};let Ef=!1,Xs=null;const yv=()=>Xs||(Xs=new Promise((a,n)=>{const s=aA(E_,async l=>{if(s(),l)Ef=!0,console.log("User already authenticated:",l.uid),a(l);else try{console.log("Signing in anonymously...");const o=await sA(E_);Ef=!0,console.log("Anonymous sign-in successful:",o.user.uid),a(o.user)}catch(o){console.error("Anonymous sign-in failed:",o),Ef=!1,n(o)}})}),Xs),Co=()=>Xs||yv(),AA=()=>new Date().toISOString().split("T")[0],NA=(a=5)=>{const n=[],s=new Date;let l=new Date(s);for(;n.length<a;)l.getDay()>=1&&l.getDay()<=5&&n.push(l.toISOString().split("T")[0]),l.setDate(l.getDate()-1);return n.reverse()},RA=(a,n,s)=>{const l=new Date(s).toLocaleDateString("en-US",{weekday:"long"});switch(n){case"yes":return`${a} confirmed working from the office ${l}.`;case"no":return`${a} confirmed working from the home office ${l}.`;case"undecided":return`${a} marked that's not sure yet if will come to work ${l}.`;default:return`${a} updated status for ${l}.`}},b_=async(a,n,s)=>{try{await Co();const l=AA(),o=Ln(kn,`activityLogs/${l}`),h=(await zo(o)).val()||{entries:[]},m={time:new Date().toTimeString().slice(0,5),user:a,status:n,targetDate:s,timestamp:new Date().toISOString()};h.entries.push(m),h.lastUpdated=new Date().toISOString(),await pl(o,h),await DA()}catch(l){console.error("Error logging activity:",l)}},DA=async()=>{try{const a=NA(5),n=Ln(kn,"activityLogs"),s=await zo(n);if(s.val()){const l=s.val();for(const o in l)if(!a.includes(o)){const f=Ln(kn,`activityLogs/${o}`);await ev(f),console.log(`Cleaned up old activity log: ${o}`)}}}catch(a){console.error("Error cleaning up old logs:",a)}},OA=async()=>{try{await Co();const a=Ln(kn,"activityLogs"),n=await zo(a);if(!n.val())return[];const s=n.val(),l=[];return Object.keys(s).sort().reverse().forEach(f=>{const h=s[f],m=new Date(f).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});l.push({date:f,dayName:m,entries:h.entries.map(p=>({...p,message:RA(p.user,p.status,p.targetDate),colorClass:xA(p.status)})).reverse()})}),l}catch(a){return console.error("Error fetching activity logs:",a),[]}},xA=a=>{switch(a){case"yes":return"status-yes";case"no":return"status-no";case"undecided":return"status-undecided";default:return"status-default"}};function MA(){return E.jsxs("div",{className:"window-controls",children:[E.jsx("button",{onClick:()=>window.electronAPI.minimize(),children:""}),E.jsx("button",{onClick:()=>window.electronAPI.maximize(),children:""}),E.jsx("button",{onClick:()=>window.electronAPI.close(),className:"close",children:""})]})}function IA({user:a,status:n}){let s="status-false";return n==="yes"||n===!0?s="status-true":n==="undecided"&&(s="status-undecided"),E.jsx("div",{className:`status-card ${s}`,children:E.jsx("strong",{children:a})})}function UA({statuses:a,tomorrowDate:n,nextWorkingDayName:s}){const l=Object.entries(a).filter(([o,f])=>f.date===n);return E.jsxs("div",{className:"status-section",children:[E.jsx("h2",{className:"status-title-draggable",children:E.jsxs("span",{className:"status-title-text",children:["Status for ",s," (",n,")"]})}),E.jsx("div",{className:"status-grid",children:l.map(([o,f])=>E.jsx(IA,{user:o,status:f.status},o))})]})}const LA={LONG:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ys={DARK:"dark",SYSTEM:"system"},kA=3e4,zA=(a,n)=>{const s=JSON.parse(localStorage.getItem("notificationSettings"))||{};s[a]=n,localStorage.setItem("notificationSettings",JSON.stringify(s))},T_=a=>(JSON.parse(localStorage.getItem("notificationSettings"))||{})[a]||[],HA=(a,n)=>{const s=JSON.parse(localStorage.getItem("notificationSettings"))||{};s[a]&&(s[n]=s[a],delete s[a],localStorage.setItem("notificationSettings",JSON.stringify(s)))},hi=(a,n)=>{localStorage.setItem(a,typeof n=="boolean"?n.toString():n)},Xi=(a,n=null)=>{const s=localStorage.getItem(a);return s===null?n:s==="true"?!0:s==="false"?!1:s},jA=()=>{const[a,n]=V.useState(Ys.SYSTEM),[s,l]=V.useState(Ys.SYSTEM);return V.useEffect(()=>{const f=Xi("theme",Ys.SYSTEM);if(l(f),window.electronAPI){const h=async()=>{if(f===Ys.SYSTEM)try{const p=await window.electronAPI.getSystemTheme();n(p),document.documentElement.setAttribute("data-theme",p)}catch{console.log("Could not get system theme, defaulting to dark"),n(Ys.DARK),document.documentElement.setAttribute("data-theme",Ys.DARK)}else n(f),document.documentElement.setAttribute("data-theme",f);window.electronAPI.setTheme(f)},m=p=>{n(p),document.documentElement.setAttribute("data-theme",p)};window.electronAPI.onThemeChanged(m),h()}},[]),{theme:a,themeSetting:s,handleThemeChange:f=>{const h=f.target?f.target.value:f;l(h),hi("theme",h),window.electronAPI&&window.electronAPI.setTheme(h)}}},BA=()=>{const[a,n]=V.useState(!1),[s,l]=V.useState(!0),[o,f]=V.useState(!1),[h,m]=V.useState("window");return V.useEffect(()=>{if((async()=>{if(window.electronAPI?.getSetting){const w=await window.electronAPI.getSetting("startup",!0),k=await window.electronAPI.getSetting("launchInTray",!1),H=await window.electronAPI.getSetting("defaultLaunchOption","window");l(w),f(k),m(H),hi("launchAtStartup",w),hi("launchInTray",k),hi("defaultLaunchOption",H)}else l(Xi("launchAtStartup",!0)),f(Xi("launchInTray",!1)),m(Xi("defaultLaunchOption","window"))})(),window.electronAPI?.onWindowStateChanged&&window.electronAPI.onWindowStateChanged(w=>{n(w.maximized)}),window.electronAPI?.onGetSettingsForTrayLaunch){const w=()=>{const k={defaultLaunchOption:Xi("defaultLaunchOption","window")};window.electronAPI.sendTrayLaunchSettings(k)};window.electronAPI.onGetSettingsForTrayLaunch(w)}},[]),{isMaximized:a,launchAtStartup:s,launchInTray:o,defaultLaunchOption:h,handleStartupToggle:S=>{const w=S.target?S.target.checked:S;l(w),hi("launchAtStartup",w),window.electronAPI?.setStartup&&window.electronAPI.setStartup(w)},handleLaunchInTrayToggle:S=>{const w=S.target?S.target.checked:S;f(w),hi("launchInTray",w),window.electronAPI&&window.electronAPI.setLaunchInTray(w)},handleDefaultLaunchOptionChange:S=>{const w=S.target?S.target.value:S;m(w),hi("defaultLaunchOption",w),window.electronAPI&&window.electronAPI.setDefaultLaunchOption(w)}}},PA=()=>{const[a,n]=V.useState("none");return V.useEffect(()=>{const o=Xi("notificationSound","none");n(o),window.electronAPI?.onSoundError&&window.electronAPI.onSoundError(f=>{alert(`Sound Error: ${f}

Please add the sound files to the electron/sounds/ folder.`)})},[]),{notificationSound:a,handleNotificationSoundChange:o=>{const f=o.target?o.target.value:o;n(f),hi("notificationSound",f),window.electronAPI&&window.electronAPI.setNotificationSound(f)},previewNotificationSound:()=>{a!=="none"&&window.electronAPI&&window.electronAPI.previewNotificationSound(a)}}},w_=()=>new Date().toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0}),vv=()=>{const n=new Date().getDay();let s=1;return n===5?s=3:n===6?s=2:n===0&&(s=1),new Date(Date.now()+s*864e5)},VA=a=>LA.LONG[a.getDay()],qA=()=>vv().toISOString().split("T")[0],GA=()=>{const a=vv();return VA(a)},YA=(a,n)=>{const l=Object.entries(a).filter(([k,H])=>H.date===n).length,o=520,f=40,m=Math.ceil(l/4),v=Math.min(m,3)*f+80,S=3*120+150,w=o+v+S;return Math.min(Math.max(w,700),800)};function QA(){const[a,n]=V.useState(""),[s,l]=V.useState(null),[o,f]=V.useState({}),[h,m]=V.useState(!1),[p,g]=V.useState(""),[v,S]=V.useState(""),[w,k]=V.useState([]),[H,$]=V.useState(!1),[ne,ze]=V.useState(""),[He,le]=V.useState(null),[tt,te]=V.useState(!1),[Ye,Qe]=V.useState(null),[ft,nt]=V.useState(!1),[Se,Mt]=V.useState(!1);V.useEffect(()=>{window.electronAPI?.onUpdateDownloadProgress&&window.electronAPI.onUpdateDownloadProgress(U=>{je(q=>({...q,phase:"downloading",percent:U.percent,message:`Downloaded ${U.downloaded}MB of ${U.total}MB`}))}),window.electronAPI?.onUpdateInstallProgress&&window.electronAPI.onUpdateInstallProgress(U=>{je(q=>({...q,phase:U.phase||"installing",percent:U.percent,message:U.message}))})},[]);const[Le,yn]=V.useState(()=>{const U=localStorage.getItem("sidebarWidth");return U?parseInt(U):300}),[ln,Ze]=V.useState([]),[O,B]=V.useState(null),[X,Ee]=V.useState(0),[b,L]=V.useState(!1),[P,j]=V.useState({isChecking:!1,lastChecked:null,result:null}),[Q,de]=V.useState("1.0.0"),[ee,je]=V.useState({phase:null,percent:0,message:""}),{themeSetting:Oe,handleThemeChange:rn}=jA(),{notificationSound:es,handleNotificationSoundChange:ts,previewNotificationSound:oa}=PA(),{isMaximized:Xe,launchAtStartup:ua,launchInTray:jo,defaultLaunchOption:Bo,handleStartupToggle:Bt,handleLaunchInTrayToggle:Po,handleDefaultLaunchOptionChange:jl}=BA(),on=qA(),Ei=GA(),Zt=V.useCallback(async()=>{const U=Date.now();if(O&&U-X<kA){Ze(O);return}const q=await OA();Ze(q),B(q),Ee(U)},[O,X]);V.useEffect(()=>{(async()=>{try{if(window.electronAPI?.getAppVersion){const q=await window.electronAPI.getAppVersion();de(q||"1.0.0")}}catch(q){console.error("Error getting app version:",q),de("1.0.0")}})()},[]),V.useEffect(()=>{Se&&Zt()},[Se,Zt]),V.useEffect(()=>{(async()=>{await Zt()})()},[Zt]);const Bl=window.location.hash==="#sidebar",Pl=()=>E.jsxs(E.Fragment,{children:[E.jsx("h3",{children:"Activity Log"}),E.jsx("div",{className:"activity-log-container",children:ln.length===0?E.jsxs("p",{style:{color:"#888",textAlign:"center",marginTop:"2rem"},children:["No activity recorded yet.",E.jsx("br",{}),"Status changes will appear here."]}):ln.map((U,q)=>E.jsxs("div",{className:"activity-day",children:[E.jsx("h4",{className:"activity-day-header",children:U.dayName}),U.entries.map((se,W)=>E.jsxs("div",{className:"activity-entry",children:[E.jsx("span",{className:"activity-time",children:se.time}),E.jsx("span",{className:`activity-message ${se.colorClass}`,children:se.message})]},W))]},U.date))})]}),Vl=V.useRef(a);V.useEffect(()=>{Vl.current=a},[a]);const Vn=V.useCallback(()=>YA(o,on),[o,on]);V.useEffect(()=>{if(window.electronAPI?.resizeWindow&&!Xe){const U=Vn();console.log("Resizing window to:",940,U),window.electronAPI.resizeWindow(940,U)}},[o,Xe,Vn]),V.useEffect(()=>{const U=Xi("username");if(U){n(U),l(U),m(!0);const q=T_(U);k(q)}},[]),V.useEffect(()=>{(async()=>{try{await yv(),console.log("Authentication initialized successfully")}catch(q){console.error("Authentication failed:",q)}})()},[]),V.useEffect(()=>{const U=Ln(kn,"statuses"),q=_C(U,se=>{const W=se.val()||{};f(W)});return()=>q()},[]),V.useEffect(()=>{if(a){const U=T_(a);k(U)}},[a]),V.useEffect(()=>{if(a)if(zA(a,w),w.length>0){const U=w.map(q=>{const se=q.days.join(", ");return` ${q.time} on days: ${se}`}).join(`
`);ze(`${a}, you have notifications set for:
${U}`)}else ze("")},[w,a]),V.useEffect(()=>{let U,q;const se=()=>{const me=new Date,it=["D","L","Ma","Mi","J","V","S"][me.getDay()],Ci=me.toTimeString().slice(0,5);w.forEach(Tt=>{Tt.time===Ci&&Tt.days.includes(it)&&window?.electronAPI?.sendNotificationPopup&&window.electronAPI.sendNotificationPopup()})};return(()=>{const me=new Date,it=(60-me.getSeconds())*1e3-me.getMilliseconds();U=setTimeout(()=>{se(),q=setInterval(se,6e4)},it)})(),()=>{U&&clearTimeout(U),q&&clearInterval(q)}},[w]),V.useEffect(()=>{if(!window.electronAPI?.onPopupStatus)return;const U=async q=>{const se=Vl.current;if(!se||!se.trim())return;let W=q;typeof q=="boolean"&&(W=q?"yes":"no");const me=Ln(kn,`statuses/${se}`);try{await pl(me,{date:on,status:W,updatedAt:w_()}),await b_(se,W,on),B(null),Se&&await Zt(),window.electronAPI?.refreshSidebarActivityLogs&&window.electronAPI.refreshSidebarActivityLogs()}catch(it){console.error("Error saving from popup:",it)}};return window.electronAPI.onPopupStatus(U),()=>{window.electronAPI.removePopupStatus?.(U)}},[]),V.useEffect(()=>{if(!window.electronAPI?.onWindowStateChanged)return;const U=q=>{setIsMaximized(q.maximized),q.maximized&&Se&&!Xe&&window.electronAPI?.toggleSidebarWindow&&window.electronAPI.toggleSidebarWindow(!1)};window.electronAPI.onWindowStateChanged(U)},[Se,Xe]),V.useEffect(()=>{if(!window.electronAPI?.onSidebarWindowClosed)return;const U=()=>{Mt(!1)};window.electronAPI.onSidebarWindowClosed(U)},[]),V.useEffect(()=>{const U=async()=>{if(gA()){const W=await _v();W.hasUpdate&&TA(W)&&(le(W),te(!0))}};(async()=>{if(window.electronAPI?.checkUpdateState)try{const W=await window.electronAPI.checkUpdateState();if(W){if(console.log("Post-update state detected:",W),je({phase:null,percent:0,message:""}),te(!1),window.electronAPI?.getAppVersion)try{const me=await window.electronAPI.getAppVersion();mA(me)}catch(me){console.error("Error refreshing version after update:",me)}Qe({success:!0,version:W.version,timestamp:W.timestamp}),nt(!0)}}catch(W){console.error("Error checking post-update state:",W)}})(),U();const se=setInterval(U,2*60*60*1e3);return()=>clearInterval(se)},[]);const ht=async U=>{if(!a){alert("Please enter your name before confirming status.");return}try{await Co();const q=Ln(kn,`statuses/${a}`);await pl(q,{date:on,status:U,updatedAt:w_()});const se=Ei.toLowerCase()==="monday"?"Monday":"Tomorrow";let W="",me="";switch(U){case"yes":W=`${a}, you confirmed that you're working from the office ${se}.`,me="green";break;case"no":W=`${a}, you confirmed that you're working from the home office ${se}.`,me="red";break;case"undecided":W=`${a}, you marked that you're not sure yet where you'll work ${se}.`,me="orange";break;default:W="Status saved.",me="gray"}g(W),S(me),await b_(a,U,on),B(null),Se&&await Zt(),window.electronAPI?.refreshSidebarActivityLogs&&window.electronAPI.refreshSidebarActivityLogs()}catch(q){console.error("Error saving:",q),g("An error occurred while saving status."),S("gray")}},un=async()=>{if(!a){alert("Please enter a name.");return}if(s&&s!==a)try{await Co();const U=Ln(kn,`statuses/${s}`),q=await zo(U);if(q.exists()){const se=q.val(),W=Ln(kn,`statuses/${a}`);await pl(W,se),await ev(U),g(`${a} took over status from ${s}.`),S("blue")}HA(s,a)}catch(U){console.error("Error transferring status:",U),g("An error occurred while transferring the old status."),S("gray")}localStorage.setItem("username",a),m(!0),l(a)},St=()=>{localStorage.removeItem("username"),m(!1),l(a),n("")};V.useEffect(()=>{window.electronAPI?.onSoundError&&window.electronAPI.onSoundError(U=>{alert(`Sound Error: ${U}

Please add the sound files to the electron/sounds/ folder.`)})},[]);const Vo=()=>{k([...w,{time:"",days:[]}])},qo=U=>{const q=[...w];q.splice(U,1),k(q)},Go=U=>{vA(U),te(!1),le(null),je({phase:null,percent:0,message:""}),j(q=>({...q,result:null}))},ns=U=>{SA(U),te(!1),le(null),je({phase:null,percent:0,message:""}),j(q=>({...q,result:null}))},is=()=>{window.electronAPI?.cancelUpdate&&window.electronAPI.cancelUpdate(),je({phase:null,percent:0,message:""}),j(U=>({...U,result:null}))},vn=async U=>{console.log("[App] handleUpdateNow called with:",U);try{if(U.downloadUrl)console.log("[App] Download URL found:",U.downloadUrl),je({phase:"downloading",percent:0,message:"Starting download..."}),await CA(U.downloadUrl,U.latestVersion);else throw console.log("[App] No download URL, opening repository page."),window.open("https://github.com/moisalucian/office-or-home-office/releases/latest","_blank"),new Error("Auto-update not available, opened download page")}catch(q){throw console.error("[App] Update failed:",q),je({phase:null,percent:0,message:""}),q}},bi=async()=>{j(U=>({...U,isChecking:!0}));try{const U=await wA();j({isChecking:!1,lastChecked:new Date,result:U}),U.hasUpdate&&(le(U),te(!0))}catch(U){console.error("Manual update check failed:",U),j({isChecking:!1,lastChecked:new Date,result:{hasUpdate:!1,error:U.message}})}},Ti=()=>{nt(!1),Qe(null)},Yo=()=>{nt(!1),Qe(null),bi()},ql=()=>{window.open("https://github.com/moisalucian/office-or-home-office/releases/latest","_blank")};V.useEffect(()=>{if(window.electronAPI){const U=()=>{const q={defaultLaunchOption:localStorage.getItem("defaultLaunchOption")||"window"};window.electronAPI.sendTrayLaunchSettings(q)};window.electronAPI.onGetSettingsForTrayLaunch(U)}},[]);const[Gl,ss]=V.useState(!1),wi=async()=>{if(!Gl){ss(!0);try{if(Xe)Mt(!Se);else{const U=!Se;Mt(U),window.electronAPI?.toggleSidebarWindow&&await window.electronAPI.toggleSidebarWindow(U)}}catch(U){console.error("Error toggling sidebar:",U)}finally{setTimeout(()=>ss(!1),200)}}};if(V.useEffect(()=>{const U=()=>{document.body.style.userSelect="",document.body.style.cursor=""};return Se||U(),U},[Se]),Bl){const[U,q]=V.useState(!0);return V.useEffect(()=>{const se=async()=>{const me=localStorage.getItem("theme")||"dark";if(me==="system")try{const it=await window.electronAPI.getSystemTheme();document.documentElement.setAttribute("data-theme",it)}catch{console.log("Could not get system theme for sidebar, defaulting to dark"),document.documentElement.setAttribute("data-theme","dark")}else document.documentElement.setAttribute("data-theme",me)},W=me=>{document.documentElement.setAttribute("data-theme",me)};window.electronAPI?.onThemeChanged&&window.electronAPI.onThemeChanged(W),se()},[]),V.useEffect(()=>{(async()=>{q(!1),await Zt()})();const W=async()=>{await Zt()};window.electronAPI?.onRefreshActivityLogs&&window.electronAPI.onRefreshActivityLogs(W)},[Zt]),V.useEffect(()=>{(async()=>{const W=localStorage.getItem("theme")||"dark";if(W==="system")try{const me=await window.electronAPI.getSystemTheme();document.documentElement.setAttribute("data-theme",me)}catch{document.documentElement.setAttribute("data-theme","dark")}else document.documentElement.setAttribute("data-theme",W)})(),window.electronAPI?.onThemeChanged&&window.electronAPI.onThemeChanged(W=>{document.documentElement.setAttribute("data-theme",W)})},[]),E.jsx("div",{className:"sidebar-window",children:E.jsx("div",{className:"sidebar-content",children:E.jsx(Pl,{})})})}return E.jsxs("div",{className:`container ${Xe?"maximized":""}`,children:[E.jsx(MA,{}),E.jsx("button",{className:`sidebar-toggle ${Xe?"maximized":"normal"} ${Se&&Xe?"open":""}`,onClick:wi,title:"Toggle Activity Log",children:Xe?Se?"":"":""}),E.jsx("button",{className:"settings-icon",onClick:()=>L(!b),title:"Settings",children:""}),Xe&&E.jsx("div",{className:"sidebar-maximized",style:{width:Se?`${Le}px`:"0px"},children:Se&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"sidebar-content",children:E.jsx(Pl,{})}),E.jsx("div",{className:"sidebar-resize-handle",onMouseDown:U=>{const q=U.clientX,se=Le,W=it=>{const Ci=se+(it.clientX-q),Tt=Math.max(200,Math.min(600,Ci));yn(Tt),localStorage.setItem("sidebarWidth",Tt)},me=()=>{document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",me)};document.addEventListener("mousemove",W),document.addEventListener("mouseup",me)}})]})}),tt&&He&&E.jsx(cA,{updateInfo:He,onDismiss:Go,onPostpone:ns,onUpdateNow:vn,updateProgress:ee,onCancelUpdate:is,onRestartNow:async()=>{if(window.electronAPI?.restartApp&&window.electronAPI?.markUpdateCompleted)try{const U=await window.electronAPI.getAppVersion();await window.electronAPI.markUpdateCompleted(U),window.electronAPI.restartApp()}catch(U){console.error("Error during restart process:",U)}},onRestartLater:()=>{te(!1)}}),ft&&Ye&&E.jsx(fA,{updateState:Ye,onDismiss:Ti,onRetryUpdate:Yo,onManualUpdate:ql}),b&&E.jsx("div",{className:"settings-overlay",onClick:()=>L(!1),children:E.jsxs("div",{className:"settings-popup",onClick:U=>U.stopPropagation(),children:[E.jsxs("div",{className:"settings-header",children:[E.jsx("h3",{children:" Settings"}),E.jsx("button",{className:"settings-close",onClick:()=>L(!1),children:""})]}),E.jsxs("div",{className:"settings-content",children:[E.jsx("div",{className:"setting-item",children:E.jsxs("div",{className:"setting-label",title:"Start the app when Windows starts",children:[E.jsx("span",{className:"setting-title",children:"Launch at startup"}),E.jsxs("label",{className:"toggle-switch",children:[E.jsx("input",{type:"checkbox",checked:ua,onChange:Bt}),E.jsx("span",{className:"toggle-slider"})]})]})}),E.jsx("div",{className:"setting-item",children:E.jsxs("div",{className:"setting-label",title:"Start minimized to system tray",children:[E.jsx("span",{className:"setting-title",children:"Launch in tray directly"}),E.jsxs("label",{className:"toggle-switch",children:[E.jsx("input",{type:"checkbox",checked:jo,onChange:Po}),E.jsx("span",{className:"toggle-slider"})]})]})}),E.jsx("div",{className:"setting-item",children:E.jsxs("div",{className:"setting-label",title:"How the app opens on startup",children:[E.jsx("span",{className:"setting-title",children:"Default launch option"}),E.jsxs("select",{className:"setting-select",value:Bo,onChange:jl,title:"How the app opens on startup",children:[E.jsx("option",{value:"window",children:"Window"}),E.jsx("option",{value:"maximized",children:"Full screen"})]})]})}),E.jsx("div",{className:"setting-item",children:E.jsxs("div",{className:"setting-label",title:"App appearance and colors",children:[E.jsx("span",{className:"setting-title",children:"Theme"}),E.jsxs("select",{className:"setting-select",value:Oe,onChange:rn,title:"App appearance and colors",children:[E.jsx("option",{value:"dark",children:"Dark"}),E.jsx("option",{value:"light",children:"Light"}),E.jsx("option",{value:"system",children:"System"})]})]})}),E.jsx("div",{className:"setting-item",children:E.jsxs("div",{className:"setting-label",title:"Sound played when notification popup appears",children:[E.jsx("span",{className:"setting-title",children:"Notification sound"}),E.jsxs("div",{className:"sound-setting-controls",children:[E.jsxs("select",{className:"setting-select",value:es,onChange:ts,title:"Sound played when notification popup appears",children:[E.jsx("option",{value:"none",children:"None"}),E.jsx("option",{value:"alien-sound",children:"Alien Sound"}),E.jsx("option",{value:"bong-chime",children:"Bong Chime"}),E.jsx("option",{value:"cartoon-dash",children:"Cartoon Dash"}),E.jsx("option",{value:"drip-echo",children:"Drip Echo"}),E.jsx("option",{value:"glass-ding",children:"Glass Ding"}),E.jsx("option",{value:"light-min",children:"Light Minimal"}),E.jsx("option",{value:"notification-chime",children:"Notification Chime"}),E.jsx("option",{value:"notification-sound-soft",children:"Soft Notification"}),E.jsx("option",{value:"oh-yeah",children:"Oh Yeah"}),E.jsx("option",{value:"sci-fi-bubble",children:"Sci-Fi Bubble"}),E.jsx("option",{value:"thai-bird",children:"Thai Bird"}),E.jsx("option",{value:"three-note-doorbell",children:"Three Note Doorbell"}),E.jsx("option",{value:"woohoo",children:"Woohoo"})]}),es!=="none"&&E.jsx("button",{className:"play-sound-button",onClick:()=>oa(),title:"Preview selected sound",children:""})]})]})}),E.jsx("div",{className:"setting-item",children:E.jsxs("div",{className:"setting-label",title:"Check for app updates",children:[E.jsx("span",{className:"setting-title",children:"App Updates"}),E.jsxs("div",{className:"update-setting-controls",children:[E.jsx("button",{className:"update-check-button",onClick:bi,disabled:P.isChecking,title:"Check for new app version",children:P.isChecking?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"loading-spinner",children:""}),"Checking..."]}):E.jsx(E.Fragment,{children:" Check for Updates"})}),P.result&&E.jsx("div",{className:"update-check-result",children:P.result.hasUpdate?E.jsx("span",{className:"update-available",children:" Update available!"}):P.result.error?E.jsx("span",{className:"update-error",children:" Check failed"}):E.jsx("span",{className:"update-latest",children:" You have the latest version"})})]})]})}),E.jsxs("div",{className:"settings-version-content",children:["Current Version: v",Q]})]})]})}),E.jsx("div",{className:`header-area ${Xe&&Se?"sidebar-active":""}`,style:{"--header-margin-left":Xe&&Se?`${Le}px`:"0px","--header-width":Xe&&Se?`calc(100% - ${Le}px)`:"100%"},children:E.jsx("h1",{className:"title-draggable",children:E.jsx("span",{className:"title-text",children:"Office or Home Office"})})}),E.jsxs("div",{className:`content-area ${Xe&&Se?"sidebar-active":""}`,style:{"--content-margin-left":Xe&&Se?`${Le}px`:"0px","--content-width":Xe&&Se?`calc(100% - ${Le}px)`:"100%"},children:[h?E.jsx("div",{className:"name-section-container",style:{marginBottom:"1rem"},children:E.jsxs("div",{className:"name-display-row",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Name:"})," ",a]}),E.jsx("button",{className:"secondary",onClick:St,children:"Edit Name"})]})}):E.jsx("div",{className:"name-input-container",style:{marginBottom:"1rem"},children:E.jsxs("div",{className:"name-input-section",children:[E.jsx("input",{type:"text",placeholder:"Your name",value:a,onChange:U=>n(U.target.value)}),E.jsx("button",{className:"primary",onClick:un,children:"Save name"})]})}),E.jsxs("div",{className:"action-buttons",style:{marginBottom:"2rem",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[E.jsxs("div",{className:"button-row-container",style:{display:"flex",gap:"1rem",alignItems:"center"},children:[E.jsx("button",{className:"primary",style:{backgroundColor:"green",minWidth:"140px",height:"40px",padding:"0.6rem 1rem",whiteSpace:"nowrap"},onClick:()=>ht("yes"),children:"Office"}),E.jsx("button",{className:"primary",style:{backgroundColor:"red",minWidth:"140px",height:"40px",padding:"0.6rem 1rem",whiteSpace:"nowrap"},onClick:()=>ht("no"),children:"Home Office"})]}),E.jsx("div",{className:"button-row-container",style:{display:"flex",justifyContent:"center"},children:E.jsx("button",{className:"primary",style:{backgroundColor:"orange",minWidth:"140px",height:"40px",padding:"0.6rem 1rem"},onClick:()=>ht("undecided"),children:"Not Sure Yet"})})]}),ne&&E.jsx("div",{className:"notification-summary",style:{whiteSpace:"pre-line",color:"#2e7d32",textAlign:"center"},children:ne}),E.jsxs("div",{style:{marginBottom:"2rem"},children:[E.jsxs("div",{className:"accordion-header",onClick:()=>$(!H),children:["Push-up Notifications ",H?"":""]}),H&&E.jsxs("div",{className:"notifications-container",children:[w.map((U,q)=>E.jsx("div",{className:"notification-card",children:E.jsxs("div",{className:"notification-row",children:[E.jsx("input",{type:"time",value:U.time,onChange:se=>{const W=[...w];W[q].time=se.target.value,k(W)}}),E.jsx("span",{style:{fontSize:"0.85rem",minWidth:"30px"},children:"Zile:"}),E.jsx("div",{className:"checkbox-group",children:["L","Ma","Mi","J","V"].map((se,W)=>E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",checked:U.days.includes(se),onChange:me=>{const it=[...w];me.target.checked?it[q].days.push(se):it[q].days=it[q].days.filter(Ci=>Ci!==se),k(it)}}),se]},W))}),E.jsx("button",{className:"danger",onClick:()=>qo(q),title:"Delete notification",style:{fontSize:"1rem",minWidth:"30px"},children:""})]})},q)),E.jsx("div",{style:{textAlign:"center",marginTop:"1rem"},children:E.jsx("button",{className:"primary",onClick:Vo,children:"+ Add notification"})})]})]}),p&&E.jsx("div",{className:"status-message",style:{color:v,marginTop:"10px",textAlign:"center"},children:p}),E.jsx(UA,{statuses:o,tomorrowDate:on,nextWorkingDayName:Ei}),E.jsxs("div",{className:"app-version",children:["v",Q]})]})]})}j0.createRoot(document.getElementById("root")).render(E.jsx(V.StrictMode,{children:E.jsx(QA,{})}));
