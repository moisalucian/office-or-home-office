(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Mf={exports:{}},wr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function W0(){if(Wg)return wr;Wg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:u}}return wr.Fragment=t,wr.jsx=i,wr.jsxs=i,wr}var Zg;function Z0(){return Zg||(Zg=1,Mf.exports=W0()),Mf.exports}var b=Z0(),xf={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function $0(){if($g)return se;$g=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.iterator;function y(T){return T===null||typeof T!="object"?null:(T=E&&T[E]||T["@@iterator"],typeof T=="function"?T:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,W={};function ne(T,U,B){this.props=T,this.context=U,this.refs=W,this.updater=B||k}ne.prototype.isReactComponent={},ne.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},ne.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function ke(){}ke.prototype=ne.prototype;function Ue(T,U,B){this.props=T,this.context=U,this.refs=W,this.updater=B||k}var ye=Ue.prototype=new ke;ye.constructor=Ue,z(ye,ne.prototype),ye.isPureReactComponent=!0;var lt=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},dt=Object.prototype.hasOwnProperty;function ot(T,U,B,P,Q,de){return B=de.ref,{$$typeof:s,type:T,key:U,ref:B!==void 0?B:null,props:de}}function yt(T,U){return ot(T.type,U,void 0,void 0,void 0,T.props)}function Tt(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function Ne(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(B){return U[B]})}var Mt=/\/+/g;function ze(T,U){return typeof T=="object"&&T!==null&&T.key!=null?Ne(""+T.key):U.toString(36)}function En(){}function on(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(En,En):(T.status="pending",T.then(function(U){T.status==="pending"&&(T.status="fulfilled",T.value=U)},function(U){T.status==="pending"&&(T.status="rejected",T.reason=U)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Xe(T,U,B,P,Q){var de=typeof T;(de==="undefined"||de==="boolean")&&(T=null);var ee=!1;if(T===null)ee=!0;else switch(de){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(T.$$typeof){case s:case t:ee=!0;break;case S:return ee=T._init,Xe(ee(T._payload),U,B,P,Q)}}if(ee)return Q=Q(T),ee=P===""?"."+ze(T,0):P,lt(Q)?(B="",ee!=null&&(B=ee.replace(Mt,"$&/")+"/"),Xe(Q,U,B,"",function(cn){return cn})):Q!=null&&(Tt(Q)&&(Q=yt(Q,B+(Q.key==null||T&&T.key===Q.key?"":(""+Q.key).replace(Mt,"$&/")+"/")+ee)),U.push(Q)),1;ee=0;var Ge=P===""?".":P+":";if(lt(T))for(var Oe=0;Oe<T.length;Oe++)P=T[Oe],de=Ge+ze(P,Oe),ee+=Xe(P,U,B,de,Q);else if(Oe=y(T),typeof Oe=="function")for(T=Oe.call(T),Oe=0;!(P=T.next()).done;)P=P.value,de=Ge+ze(P,Oe++),ee+=Xe(P,U,B,de,Q);else if(de==="object"){if(typeof T.then=="function")return Xe(on(T),U,B,P,Q);throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ee}function O(T,U,B){if(T==null)return T;var P=[],Q=0;return Xe(T,P,"","",function(de){return U.call(B,de,Q++)}),P}function j(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(B){(T._status===0||T._status===-1)&&(T._status=1,T._result=B)},function(B){(T._status===0||T._status===-1)&&(T._status=2,T._result=B)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var F=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function ve(){}return se.Children={map:O,forEach:function(T,U,B){O(T,function(){U.apply(this,arguments)},B)},count:function(T){var U=0;return O(T,function(){U++}),U},toArray:function(T){return O(T,function(U){return U})||[]},only:function(T){if(!Tt(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},se.Component=ne,se.Fragment=i,se.Profiler=o,se.PureComponent=Ue,se.StrictMode=r,se.Suspense=g,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,se.__COMPILER_RUNTIME={__proto__:null,c:function(T){return ae.H.useMemoCache(T)}},se.cache=function(T){return function(){return T.apply(null,arguments)}},se.cloneElement=function(T,U,B){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var P=z({},T.props),Q=T.key,de=void 0;if(U!=null)for(ee in U.ref!==void 0&&(de=void 0),U.key!==void 0&&(Q=""+U.key),U)!dt.call(U,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&U.ref===void 0||(P[ee]=U[ee]);var ee=arguments.length-2;if(ee===1)P.children=B;else if(1<ee){for(var Ge=Array(ee),Oe=0;Oe<ee;Oe++)Ge[Oe]=arguments[Oe+2];P.children=Ge}return ot(T.type,Q,void 0,void 0,de,P)},se.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},se.createElement=function(T,U,B){var P,Q={},de=null;if(U!=null)for(P in U.key!==void 0&&(de=""+U.key),U)dt.call(U,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(Q[P]=U[P]);var ee=arguments.length-2;if(ee===1)Q.children=B;else if(1<ee){for(var Ge=Array(ee),Oe=0;Oe<ee;Oe++)Ge[Oe]=arguments[Oe+2];Q.children=Ge}if(T&&T.defaultProps)for(P in ee=T.defaultProps,ee)Q[P]===void 0&&(Q[P]=ee[P]);return ot(T,de,void 0,void 0,null,Q)},se.createRef=function(){return{current:null}},se.forwardRef=function(T){return{$$typeof:m,render:T}},se.isValidElement=Tt,se.lazy=function(T){return{$$typeof:S,_payload:{_status:-1,_result:T},_init:j}},se.memo=function(T,U){return{$$typeof:p,type:T,compare:U===void 0?null:U}},se.startTransition=function(T){var U=ae.T,B={};ae.T=B;try{var P=T(),Q=ae.S;Q!==null&&Q(B,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(ve,F)}catch(de){F(de)}finally{ae.T=U}},se.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},se.use=function(T){return ae.H.use(T)},se.useActionState=function(T,U,B){return ae.H.useActionState(T,U,B)},se.useCallback=function(T,U){return ae.H.useCallback(T,U)},se.useContext=function(T){return ae.H.useContext(T)},se.useDebugValue=function(){},se.useDeferredValue=function(T,U){return ae.H.useDeferredValue(T,U)},se.useEffect=function(T,U,B){var P=ae.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(T,U)},se.useId=function(){return ae.H.useId()},se.useImperativeHandle=function(T,U,B){return ae.H.useImperativeHandle(T,U,B)},se.useInsertionEffect=function(T,U){return ae.H.useInsertionEffect(T,U)},se.useLayoutEffect=function(T,U){return ae.H.useLayoutEffect(T,U)},se.useMemo=function(T,U){return ae.H.useMemo(T,U)},se.useOptimistic=function(T,U){return ae.H.useOptimistic(T,U)},se.useReducer=function(T,U,B){return ae.H.useReducer(T,U,B)},se.useRef=function(T){return ae.H.useRef(T)},se.useState=function(T){return ae.H.useState(T)},se.useSyncExternalStore=function(T,U,B){return ae.H.useSyncExternalStore(T,U,B)},se.useTransition=function(){return ae.H.useTransition()},se.version="19.1.1",se}var Jg;function Sh(){return Jg||(Jg=1,xf.exports=$0()),xf.exports}var q=Sh(),kf={exports:{}},Cr={},Uf={exports:{}},Lf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function J0(){return e_||(e_=1,function(s){function t(O,j){var F=O.length;O.push(j);e:for(;0<F;){var ve=F-1>>>1,T=O[ve];if(0<o(T,j))O[ve]=j,O[F]=T,F=ve;else break e}}function i(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var j=O[0],F=O.pop();if(F!==j){O[0]=F;e:for(var ve=0,T=O.length,U=T>>>1;ve<U;){var B=2*(ve+1)-1,P=O[B],Q=B+1,de=O[Q];if(0>o(P,F))Q<T&&0>o(de,P)?(O[ve]=de,O[Q]=F,ve=Q):(O[ve]=P,O[B]=F,ve=B);else if(Q<T&&0>o(de,F))O[ve]=de,O[Q]=F,ve=Q;else break e}}return j}function o(O,j){var F=O.sortIndex-j.sortIndex;return F!==0?F:O.id-j.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var g=[],p=[],S=1,E=null,y=3,k=!1,z=!1,W=!1,ne=!1,ke=typeof setTimeout=="function"?setTimeout:null,Ue=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;function lt(O){for(var j=i(p);j!==null;){if(j.callback===null)r(p);else if(j.startTime<=O)r(p),j.sortIndex=j.expirationTime,t(g,j);else break;j=i(p)}}function ae(O){if(W=!1,lt(O),!z)if(i(g)!==null)z=!0,dt||(dt=!0,ze());else{var j=i(p);j!==null&&Xe(ae,j.startTime-O)}}var dt=!1,ot=-1,yt=5,Tt=-1;function Ne(){return ne?!0:!(s.unstable_now()-Tt<yt)}function Mt(){if(ne=!1,dt){var O=s.unstable_now();Tt=O;var j=!0;try{e:{z=!1,W&&(W=!1,Ue(ot),ot=-1),k=!0;var F=y;try{t:{for(lt(O),E=i(g);E!==null&&!(E.expirationTime>O&&Ne());){var ve=E.callback;if(typeof ve=="function"){E.callback=null,y=E.priorityLevel;var T=ve(E.expirationTime<=O);if(O=s.unstable_now(),typeof T=="function"){E.callback=T,lt(O),j=!0;break t}E===i(g)&&r(g),lt(O)}else r(g);E=i(g)}if(E!==null)j=!0;else{var U=i(p);U!==null&&Xe(ae,U.startTime-O),j=!1}}break e}finally{E=null,y=F,k=!1}j=void 0}}finally{j?ze():dt=!1}}}var ze;if(typeof ye=="function")ze=function(){ye(Mt)};else if(typeof MessageChannel<"u"){var En=new MessageChannel,on=En.port2;En.port1.onmessage=Mt,ze=function(){on.postMessage(null)}}else ze=function(){ke(Mt,0)};function Xe(O,j){ot=ke(function(){O(s.unstable_now())},j)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):yt=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_next=function(O){switch(y){case 1:case 2:case 3:var j=3;break;default:j=y}var F=y;y=j;try{return O()}finally{y=F}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=y;y=O;try{return j()}finally{y=F}},s.unstable_scheduleCallback=function(O,j,F){var ve=s.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ve+F:ve):F=ve,O){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=F+T,O={id:S++,callback:j,priorityLevel:O,startTime:F,expirationTime:T,sortIndex:-1},F>ve?(O.sortIndex=F,t(p,O),i(g)===null&&O===i(p)&&(W?(Ue(ot),ot=-1):W=!0,Xe(ae,F-ve))):(O.sortIndex=T,t(g,O),z||k||(z=!0,dt||(dt=!0,ze()))),O},s.unstable_shouldYield=Ne,s.unstable_wrapCallback=function(O){var j=y;return function(){var F=y;y=j;try{return O.apply(this,arguments)}finally{y=F}}}}(Lf)),Lf}var t_;function eb(){return t_||(t_=1,Uf.exports=J0()),Uf.exports}var zf={exports:{}},gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function tb(){if(n_)return gt;n_=1;var s=Sh();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,S){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:p,implementation:S}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gt.createPortal=function(g,p){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,S)},gt.flushSync=function(g){var p=h.T,S=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=p,r.p=S,r.d.f()}},gt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},gt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},gt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var S=p.as,E=m(S,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;S==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:y,fetchPriority:k}):S==="script"&&r.d.X(g,{crossOrigin:E,integrity:y,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var S=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},gt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var S=p.as,E=m(S,p.crossOrigin);r.d.L(g,S,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gt.preloadModule=function(g,p){if(typeof g=="string")if(p){var S=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},gt.requestFormReset=function(g){r.d.r(g)},gt.unstable_batchedUpdates=function(g,p){return g(p)},gt.useFormState=function(g,p,S){return h.H.useFormState(g,p,S)},gt.useFormStatus=function(){return h.H.useHostTransitionStatus()},gt.version="19.1.1",gt}var i_;function nb(){if(i_)return zf.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),zf.exports=tb(),zf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function ib(){if(s_)return Cr;s_=1;var s=eb(),t=Sh(),i=nb();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return m(c),e;if(f===l)return m(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var d=!1,_=c.child;_;){if(_===a){d=!0,a=c,l=f;break}if(_===l){d=!0,l=c,a=f;break}_=_.sibling}if(!d){for(_=f.child;_;){if(_===a){d=!0,a=f,l=c;break}if(_===l){d=!0,l=f,a=c;break}_=_.sibling}if(!d)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ke=Symbol.for("react.provider"),Ue=Symbol.for("react.consumer"),ye=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),ot=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),Tt=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),Mt=Symbol.iterator;function ze(e){return e===null||typeof e!="object"?null:(e=Mt&&e[Mt]||e["@@iterator"],typeof e=="function"?e:null)}var En=Symbol.for("react.client.reference");function on(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===En?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case ne:return"Profiler";case W:return"StrictMode";case ae:return"Suspense";case dt:return"SuspenseList";case Tt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case ye:return(e.displayName||"Context")+".Provider";case Ue:return(e._context.displayName||"Context")+".Consumer";case lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ot:return n=e.displayName||null,n!==null?n:on(e.type)||"Memo";case yt:n=e._payload,e=e._init;try{return on(e(n))}catch{}}return null}var Xe=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ve=[],T=-1;function U(e){return{current:e}}function B(e){0>T||(e.current=ve[T],ve[T]=null,T--)}function P(e,n){T++,ve[T]=e.current,e.current=n}var Q=U(null),de=U(null),ee=U(null),Ge=U(null);function Oe(e,n){switch(P(ee,n),P(de,e),P(Q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?wg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=wg(n),e=Cg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(Q),P(Q,e)}function cn(){B(Q),B(de),B(ee)}function ps(e){e.memoizedState!==null&&P(Ge,e);var n=Q.current,a=Cg(n,e.type);n!==a&&(P(de,e),P(Q,a))}function gs(e){de.current===e&&(B(Q),B(de)),Ge.current===e&&(B(Ge),vr._currentValue=F)}var Ra=Object.prototype.hasOwnProperty,Ye=s.unstable_scheduleCallback,Da=s.unstable_cancelCallback,gc=s.unstable_shouldYield,_c=s.unstable_requestPaint,Bt=s.unstable_now,yc=s.unstable_getCurrentPriorityLevel,al=s.unstable_ImmediatePriority,un=s.unstable_UserBlockingPriority,Hi=s.unstable_NormalPriority,Zt=s.unstable_LowPriority,rl=s.unstable_IdlePriority,ll=s.log,ol=s.unstable_setDisableYieldValue,Zn=null,ct=null;function fn(e){if(typeof ll=="function"&&ol(e),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(Zn,e)}catch{}}var vt=Math.clz32?Math.clz32:Ec,vc=Math.log,Sc=Math.LN2;function Ec(e){return e>>>=0,e===0?32:31-(vc(e)/Sc|0)|0}var _s=256,ys=4194304;function hn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vs(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?c=hn(l):(d&=_,d!==0?c=hn(d):a||(a=_&~e,a!==0&&(c=hn(a))))):(_=l&~f,_!==0?c=hn(_):d!==0?c=hn(d):a||(a=l&~e,a!==0&&(c=hn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Pi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function bc(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var e=_s;return _s<<=1,(_s&4194048)===0&&(_s=256),e}function L(){var e=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),e}function G(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ie(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function te(e,n,a,l,c,f){var d=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,v=e.expirationTimes,N=e.hiddenUpdates;for(a=d&~a;0<a;){var I=31-vt(a),x=1<<I;_[I]=0,v[I]=-1;var R=N[I];if(R!==null)for(N[I]=null,I=0;I<R.length;I++){var D=R[I];D!==null&&(D.lane&=-536870913)}a&=~x}l!==0&&Se(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(d&~n))}function Se(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-vt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Je(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-vt(a),c=1<<l;c&n|e[l]&n&&(e[l]|=n),a&=~c}}function bn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fd(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:Gg(e.type))}function PS(e,n){var a=j.p;try{return j.p=e,n()}finally{j.p=a}}var $n=Math.random().toString(36).slice(2),mt="__reactFiber$"+$n,wt="__reactProps$"+$n,Ss="__reactContainer$"+$n,Tc="__reactEvents$"+$n,jS="__reactListeners$"+$n,BS="__reactHandles$"+$n,hd="__reactResources$"+$n,Oa="__reactMarker$"+$n;function wc(e){delete e[mt],delete e[wt],delete e[Tc],delete e[jS],delete e[BS]}function Es(e){var n=e[mt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ss]||a[mt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Dg(e);e!==null;){if(a=e[mt])return a;e=Dg(e)}return n}e=a,a=e.parentNode}return null}function bs(e){if(e=e[mt]||e[Ss]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ia(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ts(e){var n=e[hd];return n||(n=e[hd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(e){e[Oa]=!0}var dd=new Set,md={};function ji(e,n){ws(e,n),ws(e+"Capture",n)}function ws(e,n){for(md[e]=n,e=0;e<n.length;e++)dd.add(n[e])}var VS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pd={},gd={};function qS(e){return Ra.call(gd,e)?!0:Ra.call(pd,e)?!1:VS.test(e)?gd[e]=!0:(pd[e]=!0,!1)}function ul(e,n,a){if(qS(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function fl(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function wn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var Cc,_d;function Cs(e){if(Cc===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Cc=n&&n[1]||"",_d=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cc+e+_d}var Ac=!1;function Nc(e,n){if(!e||Ac)return"";Ac=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(D){var R=D}Reflect.construct(e,[],x)}else{try{x.call()}catch(D){R=D}e.call(x.prototype)}}else{try{throw Error()}catch(D){R=D}(x=e())&&typeof x.catch=="function"&&x.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),d=f[0],_=f[1];if(d&&_){var v=d.split(`
`),N=_.split(`
`);for(c=l=0;l<v.length&&!v[l].includes("DetermineComponentFrameRoot");)l++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(l===v.length||c===N.length)for(l=v.length-1,c=N.length-1;1<=l&&0<=c&&v[l]!==N[c];)c--;for(;1<=l&&0<=c;l--,c--)if(v[l]!==N[c]){if(l!==1||c!==1)do if(l--,c--,0>c||v[l]!==N[c]){var I=`
`+v[l].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=l&&0<=c);break}}}finally{Ac=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Cs(a):""}function GS(e){switch(e.tag){case 26:case 27:case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 15:return Nc(e.type,!1);case 11:return Nc(e.type.render,!1);case 1:return Nc(e.type,!0);case 31:return Cs("Activity");default:return""}}function yd(e){try{var n="";do n+=GS(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function YS(e){var n=vd(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(d){l=""+d,f.call(this,d)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(d){l=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function hl(e){e._valueTracker||(e._valueTracker=YS(e))}function Sd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=vd(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var QS=/[\n"\\]/g;function qt(e){return e.replace(QS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Rc(e,n,a,l,c,f,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),n!=null?d==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Vt(n)):e.value!==""+Vt(n)&&(e.value=""+Vt(n)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),n!=null?Dc(e,d,Vt(n)):a!=null?Dc(e,d,Vt(a)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Vt(_):e.removeAttribute("name")}function Ed(e,n,a,l,c,f,d,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Vt(a):"",n=n!=null?""+Vt(n):a,_||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function Dc(e,n,a){n==="number"&&dl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function As(e,n,a,l){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Vt(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function bd(e,n,a){if(n!=null&&(n=""+Vt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Vt(a):""}function Td(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Xe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Vt(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Ns(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var FS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wd(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||FS.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Cd(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&wd(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&wd(e,f,n[f])}function Oc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),KS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(e){return KS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ic=null;function Mc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,Ds=null;function Ad(e){var n=bs(e);if(n&&(e=n.stateNode)){var a=e[wt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Rc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var c=l[wt]||null;if(!c)throw Error(r(90));Rc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Sd(l)}break e;case"textarea":bd(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&As(e,!!a.multiple,n,!1)}}}var xc=!1;function Nd(e,n,a){if(xc)return e(n,a);xc=!0;try{var l=e(n);return l}finally{if(xc=!1,(Rs!==null||Ds!==null)&&(Jl(),Rs&&(n=Rs,e=Ds,Ds=Rs=null,Ad(n),e)))for(n=0;n<e.length;n++)Ad(e[n])}}function Ma(e,n){var a=e.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kc=!1;if(Cn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){kc=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{kc=!1}var Jn=null,Uc=null,pl=null;function Rd(){if(pl)return pl;var e,n=Uc,a=n.length,l,c="value"in Jn?Jn.value:Jn.textContent,f=c.length;for(e=0;e<a&&n[e]===c[e];e++);var d=a-e;for(l=1;l<=d&&n[a-l]===c[f-l];l++);return pl=c.slice(e,1<l?1-l:void 0)}function gl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _l(){return!0}function Dd(){return!1}function Ct(e){function n(a,l,c,f,d){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?_l:Dd,this.isPropagationStopped=Dd,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=Ct(Bi),ka=S({},Bi,{view:0,detail:0}),WS=Ct(ka),Lc,zc,Ua,vl=S({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ua&&(Ua&&e.type==="mousemove"?(Lc=e.screenX-Ua.screenX,zc=e.screenY-Ua.screenY):zc=Lc=0,Ua=e),Lc)},movementY:function(e){return"movementY"in e?e.movementY:zc}}),Od=Ct(vl),ZS=S({},vl,{dataTransfer:0}),$S=Ct(ZS),JS=S({},ka,{relatedTarget:0}),Hc=Ct(JS),eE=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),tE=Ct(eE),nE=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iE=Ct(nE),sE=S({},Bi,{data:0}),Id=Ct(sE),aE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oE(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=lE[e])?!!n[e]:!1}function Pc(){return oE}var cE=S({},ka,{key:function(e){if(e.key){var n=aE[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pc,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uE=Ct(cE),fE=S({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Md=Ct(fE),hE=S({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pc}),dE=Ct(hE),mE=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),pE=Ct(mE),gE=S({},vl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_E=Ct(gE),yE=S({},Bi,{newState:0,oldState:0}),vE=Ct(yE),SE=[9,13,27,32],jc=Cn&&"CompositionEvent"in window,La=null;Cn&&"documentMode"in document&&(La=document.documentMode);var EE=Cn&&"TextEvent"in window&&!La,xd=Cn&&(!jc||La&&8<La&&11>=La),kd=" ",Ud=!1;function Ld(e,n){switch(e){case"keyup":return SE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Os=!1;function bE(e,n){switch(e){case"compositionend":return zd(n);case"keypress":return n.which!==32?null:(Ud=!0,kd);case"textInput":return e=n.data,e===kd&&Ud?null:e;default:return null}}function TE(e,n){if(Os)return e==="compositionend"||!jc&&Ld(e,n)?(e=Rd(),pl=Uc=Jn=null,Os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xd&&n.locale!=="ko"?null:n.data;default:return null}}var wE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!wE[e.type]:n==="textarea"}function Pd(e,n,a,l){Rs?Ds?Ds.push(l):Ds=[l]:Rs=l,n=ao(n,"onChange"),0<n.length&&(a=new yl("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var za=null,Ha=null;function CE(e){vg(e,0)}function Sl(e){var n=Ia(e);if(Sd(n))return e}function jd(e,n){if(e==="change")return n}var Bd=!1;if(Cn){var Bc;if(Cn){var Vc="oninput"in document;if(!Vc){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),Vc=typeof Vd.oninput=="function"}Bc=Vc}else Bc=!1;Bd=Bc&&(!document.documentMode||9<document.documentMode)}function qd(){za&&(za.detachEvent("onpropertychange",Gd),Ha=za=null)}function Gd(e){if(e.propertyName==="value"&&Sl(Ha)){var n=[];Pd(n,Ha,e,Mc(e)),Nd(CE,n)}}function AE(e,n,a){e==="focusin"?(qd(),za=n,Ha=a,za.attachEvent("onpropertychange",Gd)):e==="focusout"&&qd()}function NE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sl(Ha)}function RE(e,n){if(e==="click")return Sl(n)}function DE(e,n){if(e==="input"||e==="change")return Sl(n)}function OE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var xt=typeof Object.is=="function"?Object.is:OE;function Pa(e,n){if(xt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ra.call(n,c)||!xt(e[c],n[c]))return!1}return!0}function Yd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qd(e,n){var a=Yd(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yd(a)}}function Fd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Fd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Xd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=dl(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=dl(e.document)}return n}function qc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var IE=Cn&&"documentMode"in document&&11>=document.documentMode,Is=null,Gc=null,ja=null,Yc=!1;function Kd(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yc||Is==null||Is!==dl(l)||(l=Is,"selectionStart"in l&&qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ja&&Pa(ja,l)||(ja=l,l=ao(Gc,"onSelect"),0<l.length&&(n=new yl("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Is)))}function Vi(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ms={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},Qc={},Wd={};Cn&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function qi(e){if(Qc[e])return Qc[e];if(!Ms[e])return e;var n=Ms[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Wd)return Qc[e]=n[a];return e}var Zd=qi("animationend"),$d=qi("animationiteration"),Jd=qi("animationstart"),ME=qi("transitionrun"),xE=qi("transitionstart"),kE=qi("transitioncancel"),em=qi("transitionend"),tm=new Map,Fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fc.push("scrollEnd");function $t(e,n){tm.set(e,n),ji(n,[e])}var nm=new WeakMap;function Gt(e,n){if(typeof e=="object"&&e!==null){var a=nm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:yd(n)},nm.set(e,n),n)}return{value:e,source:n,stack:yd(n)}}var Yt=[],xs=0,Xc=0;function El(){for(var e=xs,n=Xc=xs=0;n<e;){var a=Yt[n];Yt[n++]=null;var l=Yt[n];Yt[n++]=null;var c=Yt[n];Yt[n++]=null;var f=Yt[n];if(Yt[n++]=null,l!==null&&c!==null){var d=l.pending;d===null?c.next=c:(c.next=d.next,d.next=c),l.pending=c}f!==0&&im(a,c,f)}}function bl(e,n,a,l){Yt[xs++]=e,Yt[xs++]=n,Yt[xs++]=a,Yt[xs++]=l,Xc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Kc(e,n,a,l){return bl(e,n,a,l),Tl(e)}function ks(e,n){return bl(e,null,null,n),Tl(e)}function im(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-vt(a),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Tl(e){if(50<fr)throw fr=0,tf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Us={};function UE(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,n,a,l){return new UE(e,n,a,l)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,n){var a=e.alternate;return a===null?(a=kt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function sm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wl(e,n,a,l,c,f){var d=0;if(l=e,typeof e=="function")Wc(e)&&(d=1);else if(typeof e=="string")d=z0(e,a,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Tt:return e=kt(31,a,n,c),e.elementType=Tt,e.lanes=f,e;case z:return Gi(a.children,c,f,n);case W:d=8,c|=24;break;case ne:return e=kt(12,a,n,c|2),e.elementType=ne,e.lanes=f,e;case ae:return e=kt(13,a,n,c),e.elementType=ae,e.lanes=f,e;case dt:return e=kt(19,a,n,c),e.elementType=dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ke:case ye:d=10;break e;case Ue:d=9;break e;case lt:d=11;break e;case ot:d=14;break e;case yt:d=16,l=null;break e}d=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=kt(d,a,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Gi(e,n,a,l){return e=kt(7,e,l,n),e.lanes=a,e}function Zc(e,n,a){return e=kt(6,e,null,n),e.lanes=a,e}function $c(e,n,a){return n=kt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ls=[],zs=0,Cl=null,Al=0,Qt=[],Ft=0,Yi=null,Nn=1,Rn="";function Qi(e,n){Ls[zs++]=Al,Ls[zs++]=Cl,Cl=e,Al=n}function am(e,n,a){Qt[Ft++]=Nn,Qt[Ft++]=Rn,Qt[Ft++]=Yi,Yi=e;var l=Nn;e=Rn;var c=32-vt(l)-1;l&=~(1<<c),a+=1;var f=32-vt(n)+c;if(30<f){var d=c-c%5;f=(l&(1<<d)-1).toString(32),l>>=d,c-=d,Nn=1<<32-vt(n)+c|a<<c|l,Rn=f+e}else Nn=1<<f|a<<c|l,Rn=e}function Jc(e){e.return!==null&&(Qi(e,1),am(e,1,0))}function eu(e){for(;e===Cl;)Cl=Ls[--zs],Ls[zs]=null,Al=Ls[--zs],Ls[zs]=null;for(;e===Yi;)Yi=Qt[--Ft],Qt[Ft]=null,Rn=Qt[--Ft],Qt[Ft]=null,Nn=Qt[--Ft],Qt[Ft]=null}var St=null,Pe=null,_e=!1,Fi=null,dn=!1,tu=Error(r(519));function Xi(e){var n=Error(r(418,""));throw qa(Gt(n,e)),tu}function rm(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[mt]=e,n[wt]=l,a){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(a=0;a<dr.length;a++)fe(dr[a],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":fe("invalid",n),Ed(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),hl(n);break;case"select":fe("invalid",n);break;case"textarea":fe("invalid",n),Td(n,l.value,l.defaultValue,l.children),hl(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Tg(n.textContent,a)?(l.popover!=null&&(fe("beforetoggle",n),fe("toggle",n)),l.onScroll!=null&&fe("scroll",n),l.onScrollEnd!=null&&fe("scrollend",n),l.onClick!=null&&(n.onclick=ro),n=!0):n=!1,n||Xi(e)}function lm(e){for(St=e.return;St;)switch(St.tag){case 5:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:St=St.return}}function Ba(e){if(e!==St)return!1;if(!_e)return lm(e),_e=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||yf(e.type,e.memoizedProps)),a=!a),a&&Pe&&Xi(e),lm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Pe=en(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Pe=null}}else n===27?(n=Pe,pi(e.type)?(e=bf,bf=null,Pe=e):Pe=n):Pe=St?en(e.stateNode.nextSibling):null;return!0}function Va(){Pe=St=null,_e=!1}function om(){var e=Fi;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),Fi=null),e}function qa(e){Fi===null?Fi=[e]:Fi.push(e)}var nu=U(null),Ki=null,Dn=null;function ei(e,n,a){P(nu,n._currentValue),n._currentValue=a}function On(e){e._currentValue=nu.current,B(nu)}function iu(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function su(e,n,a,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var d=c.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=c;for(var v=0;v<n.length;v++)if(_.context===n[v]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),iu(f.return,a,e),l||(d=null);break e}f=_.next}}else if(c.tag===18){if(d=c.return,d===null)throw Error(r(341));d.lanes|=a,f=d.alternate,f!==null&&(f.lanes|=a),iu(d,a,e),d=null}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}}function Ga(e,n,a,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var d=c.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var _=c.type;xt(c.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(c===Ge.current){if(d=c.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(vr):e=[vr])}c=c.return}e!==null&&su(n,e,a,l),n.flags|=262144}function Nl(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wi(e){Ki=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return cm(Ki,e)}function Rl(e,n){return Ki===null&&Wi(e),cm(e,n)}function cm(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Dn===null){if(e===null)throw Error(r(308));Dn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Dn=Dn.next=n;return a}var LE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},zE=s.unstable_scheduleCallback,HE=s.unstable_NormalPriority,Ke={$$typeof:ye,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function au(){return{controller:new LE,data:new Map,refCount:0}}function Ya(e){e.refCount--,e.refCount===0&&zE(HE,function(){e.controller.abort()})}var Qa=null,ru=0,Hs=0,Ps=null;function PE(e,n){if(Qa===null){var a=Qa=[];ru=0,Hs=cf(),Ps={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ru++,n.then(um,um),n}function um(){if(--ru===0&&Qa!==null){Ps!==null&&(Ps.status="fulfilled");var e=Qa;Qa=null,Hs=0,Ps=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function jE(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var fm=O.S;O.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&PE(e,n),fm!==null&&fm(e,n)};var Zi=U(null);function lu(){var e=Zi.current;return e!==null?e:Ie.pooledCache}function Dl(e,n){n===null?P(Zi,Zi.current):P(Zi,n.pool)}function hm(){var e=lu();return e===null?null:{parent:Ke._currentValue,pool:e}}var Fa=Error(r(460)),dm=Error(r(474)),Ol=Error(r(542)),ou={then:function(){}};function mm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Il(){}function pm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Il,Il),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_m(e),e;default:if(typeof n.status=="string")n.then(Il,Il);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_m(e),e}throw Xa=n,Fa}}var Xa=null;function gm(){if(Xa===null)throw Error(r(459));var e=Xa;return Xa=null,e}function _m(e){if(e===Fa||e===Ol)throw Error(r(483))}var ti=!1;function cu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ni(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Tl(e),im(e,null,a),n}return bl(e,l,n,a),Tl(e)}function Ka(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Je(e,a)}}function fu(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=d:f=f.next=d,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var hu=!1;function Wa(){if(hu){var e=Ps;if(e!==null)throw e}}function Za(e,n,a,l){hu=!1;var c=e.updateQueue;ti=!1;var f=c.firstBaseUpdate,d=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var v=_,N=v.next;v.next=null,d===null?f=N:d.next=N,d=v;var I=e.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==d&&(_===null?I.firstBaseUpdate=N:_.next=N,I.lastBaseUpdate=v))}if(f!==null){var x=c.baseState;d=0,I=N=v=null,_=f;do{var R=_.lane&-536870913,D=R!==_.lane;if(D?(me&R)===R:(l&R)===R){R!==0&&R===Hs&&(hu=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var $=e,X=_;R=n;var Ce=a;switch(X.tag){case 1:if($=X.payload,typeof $=="function"){x=$.call(Ce,x,R);break e}x=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=X.payload,R=typeof $=="function"?$.call(Ce,x,R):$,R==null)break e;x=S({},x,R);break e;case 2:ti=!0}}R=_.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=c.callbacks,D===null?c.callbacks=[R]:D.push(R))}else D={lane:R,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(N=I=D,v=x):I=I.next=D,d|=R;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;D=_,_=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);I===null&&(v=x),c.baseState=v,c.firstBaseUpdate=N,c.lastBaseUpdate=I,f===null&&(c.shared.lanes=0),fi|=d,e.lanes=d,e.memoizedState=x}}function ym(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function vm(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ym(a[e],n)}var js=U(null),Ml=U(0);function Sm(e,n){e=zn,P(Ml,e),P(js,n),zn=e|n.baseLanes}function du(){P(Ml,zn),P(js,js.current)}function mu(){zn=Ml.current,B(js),B(Ml)}var si=0,re=null,Te=null,Qe=null,xl=!1,Bs=!1,$i=!1,kl=0,$a=0,Vs=null,BE=0;function Ve(){throw Error(r(321))}function pu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!xt(e[a],n[a]))return!1;return!0}function gu(e,n,a,l,c,f){return si=f,re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?ip:sp,$i=!1,f=a(l,c),$i=!1,Bs&&(f=bm(n,a,l,c)),Em(e),f}function Em(e){O.H=jl;var n=Te!==null&&Te.next!==null;if(si=0,Qe=Te=re=null,xl=!1,$a=0,Vs=null,n)throw Error(r(300));e===null||tt||(e=e.dependencies,e!==null&&Nl(e)&&(tt=!0))}function bm(e,n,a,l){re=e;var c=0;do{if(Bs&&(Vs=null),$a=0,Bs=!1,25<=c)throw Error(r(301));if(c+=1,Qe=Te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}O.H=XE,f=n(a,l)}while(Bs);return f}function VE(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?Ja(n):n,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(re.flags|=1024),n}function _u(){var e=kl!==0;return kl=0,e}function yu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function vu(e){if(xl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xl=!1}si=0,Qe=Te=re=null,Bs=!1,$a=kl=0,Vs=null}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?re.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Fe(){if(Te===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var n=Qe===null?re.memoizedState:Qe.next;if(n!==null)Qe=n,Te=e;else{if(e===null)throw re.alternate===null?Error(r(467)):Error(r(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Qe===null?re.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ja(e){var n=$a;return $a+=1,Vs===null&&(Vs=[]),e=pm(Vs,e,n),n=re,(Qe===null?n.memoizedState:Qe.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?ip:sp),e}function Ul(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ja(e);if(e.$$typeof===ye)return pt(e)}throw Error(r(438,String(e)))}function Eu(e){var n=null,a=re.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Su(),re.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=Ne;return n.index++,a}function In(e,n){return typeof n=="function"?n(e):n}function Ll(e){var n=Fe();return bu(n,Te,e)}function bu(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var d=c.next;c.next=f.next,f.next=d}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var _=d=null,v=null,N=n,I=!1;do{var x=N.lane&-536870913;if(x!==N.lane?(me&x)===x:(si&x)===x){var R=N.revertLane;if(R===0)v!==null&&(v=v.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),x===Hs&&(I=!0);else if((si&R)===R){N=N.next,R===Hs&&(I=!0);continue}else x={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},v===null?(_=v=x,d=f):v=v.next=x,re.lanes|=R,fi|=R;x=N.action,$i&&a(f,x),f=N.hasEagerState?N.eagerState:a(f,x)}else R={lane:x,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},v===null?(_=v=R,d=f):v=v.next=R,re.lanes|=x,fi|=x;N=N.next}while(N!==null&&N!==n);if(v===null?d=f:v.next=_,!xt(f,e.memoizedState)&&(tt=!0,I&&(a=Ps,a!==null)))throw a;e.memoizedState=f,e.baseState=d,e.baseQueue=v,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Tu(e){var n=Fe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var d=c=c.next;do f=e(f,d.action),d=d.next;while(d!==c);xt(f,n.memoizedState)||(tt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Tm(e,n,a){var l=re,c=Fe(),f=_e;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var d=!xt((Te||c).memoizedState,a);d&&(c.memoizedState=a,tt=!0),c=c.queue;var _=Am.bind(null,l,c,e);if(er(2048,8,_,[e]),c.getSnapshot!==n||d||Qe!==null&&Qe.memoizedState.tag&1){if(l.flags|=2048,qs(9,zl(),Cm.bind(null,l,c,a,n),null),Ie===null)throw Error(r(349));f||(si&124)!==0||wm(l,n,a)}return a}function wm(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=re.updateQueue,n===null?(n=Su(),re.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Cm(e,n,a,l){n.value=a,n.getSnapshot=l,Nm(n)&&Rm(e)}function Am(e,n,a){return a(function(){Nm(n)&&Rm(e)})}function Nm(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!xt(e,a)}catch{return!0}}function Rm(e){var n=ks(e,2);n!==null&&Pt(n,e,2)}function wu(e){var n=At();if(typeof e=="function"){var a=e;if(e=a(),$i){fn(!0);try{a()}finally{fn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:e},n}function Dm(e,n,a,l){return e.baseState=a,bu(e,Te,typeof l=="function"?l:In)}function qE(e,n,a,l,c){if(Pl(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){f.listeners.push(d)}};O.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Om(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Om(e,n){var a=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=O.T,d={};O.T=d;try{var _=a(c,l),v=O.S;v!==null&&v(d,_),Im(e,n,_)}catch(N){Cu(e,n,N)}finally{O.T=f}}else try{f=a(c,l),Im(e,n,f)}catch(N){Cu(e,n,N)}}function Im(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mm(e,n,l)},function(l){return Cu(e,n,l)}):Mm(e,n,a)}function Mm(e,n,a){n.status="fulfilled",n.value=a,xm(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Om(e,a)))}function Cu(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,xm(n),n=n.next;while(n!==l)}e.action=null}function xm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function km(e,n){return n}function Um(e,n){if(_e){var a=Ie.formState;if(a!==null){e:{var l=re;if(_e){if(Pe){t:{for(var c=Pe,f=dn;c.nodeType!==8;){if(!f){c=null;break t}if(c=en(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Pe=en(c.nextSibling),l=c.data==="F!";break e}}Xi(l)}l=!1}l&&(n=a[0])}}return a=At(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:n},a.queue=l,a=ep.bind(null,re,l),l.dispatch=a,l=wu(!1),f=Ou.bind(null,re,!1,l.queue),l=At(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,a=qE.bind(null,re,c,f,a),c.dispatch=a,l.memoizedState=e,[n,a,!1]}function Lm(e){var n=Fe();return zm(n,Te,e)}function zm(e,n,a){if(n=bu(e,n,km)[0],e=Ll(In)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ja(n)}catch(d){throw d===Fa?Ol:d}else l=n;n=Fe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(re.flags|=2048,qs(9,zl(),GE.bind(null,c,a),null)),[l,f,e]}function GE(e,n){e.action=n}function Hm(e){var n=Fe(),a=Te;if(a!==null)return zm(n,a,e);Fe(),n=n.memoizedState,a=Fe();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function qs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=re.updateQueue,n===null&&(n=Su(),re.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function zl(){return{destroy:void 0,resource:void 0}}function Pm(){return Fe().memoizedState}function Hl(e,n,a,l){var c=At();l=l===void 0?null:l,re.flags|=e,c.memoizedState=qs(1|n,zl(),a,l)}function er(e,n,a,l){var c=Fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Te!==null&&l!==null&&pu(l,Te.memoizedState.deps)?c.memoizedState=qs(n,f,a,l):(re.flags|=e,c.memoizedState=qs(1|n,f,a,l))}function jm(e,n){Hl(8390656,8,e,n)}function Bm(e,n){er(2048,8,e,n)}function Vm(e,n){return er(4,2,e,n)}function qm(e,n){return er(4,4,e,n)}function Gm(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ym(e,n,a){a=a!=null?a.concat([e]):null,er(4,4,Gm.bind(null,n,e),a)}function Au(){}function Qm(e,n){var a=Fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&pu(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Fm(e,n){var a=Fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&pu(n,l[1]))return l[0];if(l=e(),$i){fn(!0);try{e()}finally{fn(!1)}}return a.memoizedState=[l,n],l}function Nu(e,n,a){return a===void 0||(si&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Wp(),re.lanes|=e,fi|=e,a)}function Xm(e,n,a,l){return xt(a,n)?a:js.current!==null?(e=Nu(e,a,l),xt(e,n)||(tt=!0),e):(si&42)===0?(tt=!0,e.memoizedState=a):(e=Wp(),re.lanes|=e,fi|=e,n)}function Km(e,n,a,l,c){var f=j.p;j.p=f!==0&&8>f?f:8;var d=O.T,_={};O.T=_,Ou(e,!1,n,a);try{var v=c(),N=O.S;if(N!==null&&N(_,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var I=jE(v,l);tr(e,n,I,Ht(e))}else tr(e,n,l,Ht(e))}catch(x){tr(e,n,{then:function(){},status:"rejected",reason:x},Ht())}finally{j.p=f,O.T=d}}function YE(){}function Ru(e,n,a,l){if(e.tag!==5)throw Error(r(476));var c=Wm(e).queue;Km(e,c,n,F,a===null?YE:function(){return Zm(e),a(l)})}function Wm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:F},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Zm(e){var n=Wm(e).next.queue;tr(e,n,{},Ht())}function Du(){return pt(vr)}function $m(){return Fe().memoizedState}function Jm(){return Fe().memoizedState}function QE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ht();e=ni(a);var l=ii(n,e,a);l!==null&&(Pt(l,n,a),Ka(l,n,a)),n={cache:au()},e.payload=n;return}n=n.return}}function FE(e,n,a){var l=Ht();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Pl(e)?tp(n,a):(a=Kc(e,n,a,l),a!==null&&(Pt(a,e,l),np(a,n,l)))}function ep(e,n,a){var l=Ht();tr(e,n,a,l)}function tr(e,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pl(e))tp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var d=n.lastRenderedState,_=f(d,a);if(c.hasEagerState=!0,c.eagerState=_,xt(_,d))return bl(e,n,c,0),Ie===null&&El(),!1}catch{}finally{}if(a=Kc(e,n,c,l),a!==null)return Pt(a,e,l),np(a,n,l),!0}return!1}function Ou(e,n,a,l){if(l={lane:2,revertLane:cf(),action:l,hasEagerState:!1,eagerState:null,next:null},Pl(e)){if(n)throw Error(r(479))}else n=Kc(e,a,l,2),n!==null&&Pt(n,e,2)}function Pl(e){var n=e.alternate;return e===re||n!==null&&n===re}function tp(e,n){Bs=xl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function np(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Je(e,a)}}var jl={readContext:pt,use:Ul,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve},ip={readContext:pt,use:Ul,useCallback:function(e,n){return At().memoizedState=[e,n===void 0?null:n],e},useContext:pt,useEffect:jm,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Hl(4194308,4,Gm.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Hl(4194308,4,e,n)},useInsertionEffect:function(e,n){Hl(4,2,e,n)},useMemo:function(e,n){var a=At();n=n===void 0?null:n;var l=e();if($i){fn(!0);try{e()}finally{fn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=At();if(a!==void 0){var c=a(n);if($i){fn(!0);try{a(n)}finally{fn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=FE.bind(null,re,e),[l.memoizedState,e]},useRef:function(e){var n=At();return e={current:e},n.memoizedState=e},useState:function(e){e=wu(e);var n=e.queue,a=ep.bind(null,re,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Au,useDeferredValue:function(e,n){var a=At();return Nu(a,e,n)},useTransition:function(){var e=wu(!1);return e=Km.bind(null,re,e.queue,!0,!1),At().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=re,c=At();if(_e){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Ie===null)throw Error(r(349));(me&124)!==0||wm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,jm(Am.bind(null,l,f,e),[e]),l.flags|=2048,qs(9,zl(),Cm.bind(null,l,f,a,n),null),a},useId:function(){var e=At(),n=Ie.identifierPrefix;if(_e){var a=Rn,l=Nn;a=(l&~(1<<32-vt(l)-1)).toString(32)+a,n=""+n+"R"+a,a=kl++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=BE++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Du,useFormState:Um,useActionState:Um,useOptimistic:function(e){var n=At();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ou.bind(null,re,!0,a),a.dispatch=n,[e,n]},useMemoCache:Eu,useCacheRefresh:function(){return At().memoizedState=QE.bind(null,re)}},sp={readContext:pt,use:Ul,useCallback:Qm,useContext:pt,useEffect:Bm,useImperativeHandle:Ym,useInsertionEffect:Vm,useLayoutEffect:qm,useMemo:Fm,useReducer:Ll,useRef:Pm,useState:function(){return Ll(In)},useDebugValue:Au,useDeferredValue:function(e,n){var a=Fe();return Xm(a,Te.memoizedState,e,n)},useTransition:function(){var e=Ll(In)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Ja(e),n]},useSyncExternalStore:Tm,useId:$m,useHostTransitionStatus:Du,useFormState:Lm,useActionState:Lm,useOptimistic:function(e,n){var a=Fe();return Dm(a,Te,e,n)},useMemoCache:Eu,useCacheRefresh:Jm},XE={readContext:pt,use:Ul,useCallback:Qm,useContext:pt,useEffect:Bm,useImperativeHandle:Ym,useInsertionEffect:Vm,useLayoutEffect:qm,useMemo:Fm,useReducer:Tu,useRef:Pm,useState:function(){return Tu(In)},useDebugValue:Au,useDeferredValue:function(e,n){var a=Fe();return Te===null?Nu(a,e,n):Xm(a,Te.memoizedState,e,n)},useTransition:function(){var e=Tu(In)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Ja(e),n]},useSyncExternalStore:Tm,useId:$m,useHostTransitionStatus:Du,useFormState:Hm,useActionState:Hm,useOptimistic:function(e,n){var a=Fe();return Te!==null?Dm(a,Te,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Eu,useCacheRefresh:Jm},Gs=null,nr=0;function Bl(e){var n=nr;return nr+=1,Gs===null&&(Gs=[]),pm(Gs,e,n)}function ir(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vl(e,n){throw n.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ap(e){var n=e._init;return n(e._payload)}function rp(e){function n(C,w){if(e){var A=C.deletions;A===null?(C.deletions=[w],C.flags|=16):A.push(w)}}function a(C,w){if(!e)return null;for(;w!==null;)n(C,w),w=w.sibling;return null}function l(C){for(var w=new Map;C!==null;)C.key!==null?w.set(C.key,C):w.set(C.index,C),C=C.sibling;return w}function c(C,w){return C=An(C,w),C.index=0,C.sibling=null,C}function f(C,w,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<w?(C.flags|=67108866,w):A):(C.flags|=67108866,w)):(C.flags|=1048576,w)}function d(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,w,A,M){return w===null||w.tag!==6?(w=Zc(A,C.mode,M),w.return=C,w):(w=c(w,A),w.return=C,w)}function v(C,w,A,M){var V=A.type;return V===z?I(C,w,A.props.children,M,A.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===yt&&ap(V)===w.type)?(w=c(w,A.props),ir(w,A),w.return=C,w):(w=wl(A.type,A.key,A.props,null,C.mode,M),ir(w,A),w.return=C,w)}function N(C,w,A,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=$c(A,C.mode,M),w.return=C,w):(w=c(w,A.children||[]),w.return=C,w)}function I(C,w,A,M,V){return w===null||w.tag!==7?(w=Gi(A,C.mode,M,V),w.return=C,w):(w=c(w,A),w.return=C,w)}function x(C,w,A){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Zc(""+w,C.mode,A),w.return=C,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case y:return A=wl(w.type,w.key,w.props,null,C.mode,A),ir(A,w),A.return=C,A;case k:return w=$c(w,C.mode,A),w.return=C,w;case yt:var M=w._init;return w=M(w._payload),x(C,w,A)}if(Xe(w)||ze(w))return w=Gi(w,C.mode,A,null),w.return=C,w;if(typeof w.then=="function")return x(C,Bl(w),A);if(w.$$typeof===ye)return x(C,Rl(C,w),A);Vl(C,w)}return null}function R(C,w,A,M){var V=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return V!==null?null:_(C,w,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case y:return A.key===V?v(C,w,A,M):null;case k:return A.key===V?N(C,w,A,M):null;case yt:return V=A._init,A=V(A._payload),R(C,w,A,M)}if(Xe(A)||ze(A))return V!==null?null:I(C,w,A,M,null);if(typeof A.then=="function")return R(C,w,Bl(A),M);if(A.$$typeof===ye)return R(C,w,Rl(C,A),M);Vl(C,A)}return null}function D(C,w,A,M,V){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return C=C.get(A)||null,_(w,C,""+M,V);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case y:return C=C.get(M.key===null?A:M.key)||null,v(w,C,M,V);case k:return C=C.get(M.key===null?A:M.key)||null,N(w,C,M,V);case yt:var le=M._init;return M=le(M._payload),D(C,w,A,M,V)}if(Xe(M)||ze(M))return C=C.get(A)||null,I(w,C,M,V,null);if(typeof M.then=="function")return D(C,w,A,Bl(M),V);if(M.$$typeof===ye)return D(C,w,A,Rl(w,M),V);Vl(w,M)}return null}function $(C,w,A,M){for(var V=null,le=null,Y=w,K=w=0,it=null;Y!==null&&K<A.length;K++){Y.index>K?(it=Y,Y=null):it=Y.sibling;var pe=R(C,Y,A[K],M);if(pe===null){Y===null&&(Y=it);break}e&&Y&&pe.alternate===null&&n(C,Y),w=f(pe,w,K),le===null?V=pe:le.sibling=pe,le=pe,Y=it}if(K===A.length)return a(C,Y),_e&&Qi(C,K),V;if(Y===null){for(;K<A.length;K++)Y=x(C,A[K],M),Y!==null&&(w=f(Y,w,K),le===null?V=Y:le.sibling=Y,le=Y);return _e&&Qi(C,K),V}for(Y=l(Y);K<A.length;K++)it=D(Y,C,K,A[K],M),it!==null&&(e&&it.alternate!==null&&Y.delete(it.key===null?K:it.key),w=f(it,w,K),le===null?V=it:le.sibling=it,le=it);return e&&Y.forEach(function(Si){return n(C,Si)}),_e&&Qi(C,K),V}function X(C,w,A,M){if(A==null)throw Error(r(151));for(var V=null,le=null,Y=w,K=w=0,it=null,pe=A.next();Y!==null&&!pe.done;K++,pe=A.next()){Y.index>K?(it=Y,Y=null):it=Y.sibling;var Si=R(C,Y,pe.value,M);if(Si===null){Y===null&&(Y=it);break}e&&Y&&Si.alternate===null&&n(C,Y),w=f(Si,w,K),le===null?V=Si:le.sibling=Si,le=Si,Y=it}if(pe.done)return a(C,Y),_e&&Qi(C,K),V;if(Y===null){for(;!pe.done;K++,pe=A.next())pe=x(C,pe.value,M),pe!==null&&(w=f(pe,w,K),le===null?V=pe:le.sibling=pe,le=pe);return _e&&Qi(C,K),V}for(Y=l(Y);!pe.done;K++,pe=A.next())pe=D(Y,C,K,pe.value,M),pe!==null&&(e&&pe.alternate!==null&&Y.delete(pe.key===null?K:pe.key),w=f(pe,w,K),le===null?V=pe:le.sibling=pe,le=pe);return e&&Y.forEach(function(K0){return n(C,K0)}),_e&&Qi(C,K),V}function Ce(C,w,A,M){if(typeof A=="object"&&A!==null&&A.type===z&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case y:e:{for(var V=A.key;w!==null;){if(w.key===V){if(V=A.type,V===z){if(w.tag===7){a(C,w.sibling),M=c(w,A.props.children),M.return=C,C=M;break e}}else if(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===yt&&ap(V)===w.type){a(C,w.sibling),M=c(w,A.props),ir(M,A),M.return=C,C=M;break e}a(C,w);break}else n(C,w);w=w.sibling}A.type===z?(M=Gi(A.props.children,C.mode,M,A.key),M.return=C,C=M):(M=wl(A.type,A.key,A.props,null,C.mode,M),ir(M,A),M.return=C,C=M)}return d(C);case k:e:{for(V=A.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){a(C,w.sibling),M=c(w,A.children||[]),M.return=C,C=M;break e}else{a(C,w);break}else n(C,w);w=w.sibling}M=$c(A,C.mode,M),M.return=C,C=M}return d(C);case yt:return V=A._init,A=V(A._payload),Ce(C,w,A,M)}if(Xe(A))return $(C,w,A,M);if(ze(A)){if(V=ze(A),typeof V!="function")throw Error(r(150));return A=V.call(A),X(C,w,A,M)}if(typeof A.then=="function")return Ce(C,w,Bl(A),M);if(A.$$typeof===ye)return Ce(C,w,Rl(C,A),M);Vl(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,w!==null&&w.tag===6?(a(C,w.sibling),M=c(w,A),M.return=C,C=M):(a(C,w),M=Zc(A,C.mode,M),M.return=C,C=M),d(C)):a(C,w)}return function(C,w,A,M){try{nr=0;var V=Ce(C,w,A,M);return Gs=null,V}catch(Y){if(Y===Fa||Y===Ol)throw Y;var le=kt(29,Y,null,C.mode);return le.lanes=M,le.return=C,le}finally{}}}var Ys=rp(!0),lp=rp(!1),Xt=U(null),mn=null;function ai(e){var n=e.alternate;P(We,We.current&1),P(Xt,e),mn===null&&(n===null||js.current!==null||n.memoizedState!==null)&&(mn=e)}function op(e){if(e.tag===22){if(P(We,We.current),P(Xt,e),mn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(mn=e)}}else ri()}function ri(){P(We,We.current),P(Xt,Xt.current)}function Mn(e){B(Xt),mn===e&&(mn=null),B(We)}var We=U(0);function ql(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ef(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Iu(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mu={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Ht(),c=ni(l);c.payload=n,a!=null&&(c.callback=a),n=ii(e,c,l),n!==null&&(Pt(n,e,l),Ka(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Ht(),c=ni(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ii(e,c,l),n!==null&&(Pt(n,e,l),Ka(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Ht(),l=ni(a);l.tag=2,n!=null&&(l.callback=n),n=ii(e,l,a),n!==null&&(Pt(n,e,a),Ka(n,e,a))}};function cp(e,n,a,l,c,f,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,d):n.prototype&&n.prototype.isPureReactComponent?!Pa(a,l)||!Pa(c,f):!0}function up(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Mu.enqueueReplaceState(n,n.state,null)}function Ji(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}var Gl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function fp(e){Gl(e)}function hp(e){console.error(e)}function dp(e){Gl(e)}function Yl(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function mp(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function xu(e,n,a){return a=ni(a),a.tag=3,a.payload={element:null},a.callback=function(){Yl(e,n)},a}function pp(e){return e=ni(e),e.tag=3,e}function gp(e,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){mp(n,a,l)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){mp(n,a,l),typeof c!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function KE(e,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ga(n,a,c,!0),a=Xt.current,a!==null){switch(a.tag){case 13:return mn===null?sf():a.alternate===null&&je===0&&(je=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===ou?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),rf(e,l,c)),!1;case 22:return a.flags|=65536,l===ou?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),rf(e,l,c)),!1}throw Error(r(435,a.tag))}return rf(e,l,c),sf(),!1}if(_e)return n=Xt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==tu&&(e=Error(r(422),{cause:l}),qa(Gt(e,a)))):(l!==tu&&(n=Error(r(423),{cause:l}),qa(Gt(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Gt(l,a),c=xu(e.stateNode,l,c),fu(e,c),je!==4&&(je=2)),!1;var f=Error(r(520),{cause:l});if(f=Gt(f,a),ur===null?ur=[f]:ur.push(f),je!==4&&(je=2),n===null)return!0;l=Gt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=xu(a.stateNode,l,e),fu(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hi===null||!hi.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=pp(c),gp(c,e,a,l),fu(a,c),!1}a=a.return}while(a!==null);return!1}var _p=Error(r(461)),tt=!1;function ut(e,n,a,l){n.child=e===null?lp(n,null,a,l):Ys(n,e.child,a,l)}function yp(e,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var d={};for(var _ in l)_!=="ref"&&(d[_]=l[_])}else d=l;return Wi(n),l=gu(e,n,a,d,f,c),_=_u(),e!==null&&!tt?(yu(e,n,c),xn(e,n,c)):(_e&&_&&Jc(n),n.flags|=1,ut(e,n,l,c),n.child)}function vp(e,n,a,l,c){if(e===null){var f=a.type;return typeof f=="function"&&!Wc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Sp(e,n,f,l,c)):(e=wl(a.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bu(e,c)){var d=f.memoizedProps;if(a=a.compare,a=a!==null?a:Pa,a(d,l)&&e.ref===n.ref)return xn(e,n,c)}return n.flags|=1,e=An(f,l),e.ref=n.ref,e.return=n,n.child=e}function Sp(e,n,a,l,c){if(e!==null){var f=e.memoizedProps;if(Pa(f,l)&&e.ref===n.ref)if(tt=!1,n.pendingProps=l=f,Bu(e,c))(e.flags&131072)!==0&&(tt=!0);else return n.lanes=e.lanes,xn(e,n,c)}return ku(e,n,a,l,c)}function Ep(e,n,a){var l=n.pendingProps,c=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return bp(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dl(n,f!==null?f.cachePool:null),f!==null?Sm(n,f):du(),op(n);else return n.lanes=n.childLanes=536870912,bp(e,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Dl(n,f.cachePool),Sm(n,f),ri(),n.memoizedState=null):(e!==null&&Dl(n,null),du(),ri());return ut(e,n,c,a),n.child}function bp(e,n,a,l){var c=lu();return c=c===null?null:{parent:Ke._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},e!==null&&Dl(n,null),du(),op(n),e!==null&&Ga(e,n,l,!0),null}function Ql(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function ku(e,n,a,l,c){return Wi(n),a=gu(e,n,a,l,void 0,c),l=_u(),e!==null&&!tt?(yu(e,n,c),xn(e,n,c)):(_e&&l&&Jc(n),n.flags|=1,ut(e,n,a,c),n.child)}function Tp(e,n,a,l,c,f){return Wi(n),n.updateQueue=null,a=bm(n,l,a,c),Em(e),l=_u(),e!==null&&!tt?(yu(e,n,f),xn(e,n,f)):(_e&&l&&Jc(n),n.flags|=1,ut(e,n,a,f),n.child)}function wp(e,n,a,l,c){if(Wi(n),n.stateNode===null){var f=Us,d=a.contextType;typeof d=="object"&&d!==null&&(f=pt(d)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mu,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},cu(n),d=a.contextType,f.context=typeof d=="object"&&d!==null?pt(d):Us,f.state=n.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(Iu(n,a,d,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(d=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),d!==f.state&&Mu.enqueueReplaceState(f,f.state,null),Za(n,l,f,c),Wa(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var _=n.memoizedProps,v=Ji(a,_);f.props=v;var N=f.context,I=a.contextType;d=Us,typeof I=="object"&&I!==null&&(d=pt(I));var x=a.getDerivedStateFromProps;I=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,I||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||N!==d)&&up(n,f,l,d),ti=!1;var R=n.memoizedState;f.state=R,Za(n,l,f,c),Wa(),N=n.memoizedState,_||R!==N||ti?(typeof x=="function"&&(Iu(n,a,x,l),N=n.memoizedState),(v=ti||cp(n,a,v,l,R,N,d))?(I||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),f.props=l,f.state=N,f.context=d,l=v):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uu(e,n),d=n.memoizedProps,I=Ji(a,d),f.props=I,x=n.pendingProps,R=f.context,N=a.contextType,v=Us,typeof N=="object"&&N!==null&&(v=pt(N)),_=a.getDerivedStateFromProps,(N=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(d!==x||R!==v)&&up(n,f,l,v),ti=!1,R=n.memoizedState,f.state=R,Za(n,l,f,c),Wa();var D=n.memoizedState;d!==x||R!==D||ti||e!==null&&e.dependencies!==null&&Nl(e.dependencies)?(typeof _=="function"&&(Iu(n,a,_,l),D=n.memoizedState),(I=ti||cp(n,a,I,l,R,D,v)||e!==null&&e.dependencies!==null&&Nl(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,D,v),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,D,v)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=D),f.props=l,f.state=D,f.context=v,l=I):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ql(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ys(n,e.child,null,c),n.child=Ys(n,null,a,c)):ut(e,n,a,c),n.memoizedState=f.state,e=n.child):e=xn(e,n,c),e}function Cp(e,n,a,l){return Va(),n.flags|=256,ut(e,n,a,l),n.child}var Uu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lu(e){return{baseLanes:e,cachePool:hm()}}function zu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Kt),e}function Ap(e,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,d;if((d=f)||(d=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),d&&(c=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(_e){if(c?ai(n):ri(),_e){var _=Pe,v;if(v=_){e:{for(v=_,_=dn;v.nodeType!==8;){if(!_){_=null;break e}if(v=en(v.nextSibling),v===null){_=null;break e}}_=v}_!==null?(n.memoizedState={dehydrated:_,treeContext:Yi!==null?{id:Nn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},v=kt(18,null,null,0),v.stateNode=_,v.return=n,n.child=v,St=n,Pe=null,v=!0):v=!1}v||Xi(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Ef(_)?n.lanes=32:n.lanes=536870912,null;Mn(n)}return _=l.children,l=l.fallback,c?(ri(),c=n.mode,_=Fl({mode:"hidden",children:_},c),l=Gi(l,c,a,null),_.return=n,l.return=n,_.sibling=l,n.child=_,c=n.child,c.memoizedState=Lu(a),c.childLanes=zu(e,d,a),n.memoizedState=Uu,l):(ai(n),Hu(n,_))}if(v=e.memoizedState,v!==null&&(_=v.dehydrated,_!==null)){if(f)n.flags&256?(ai(n),n.flags&=-257,n=Pu(e,n,a)):n.memoizedState!==null?(ri(),n.child=e.child,n.flags|=128,n=null):(ri(),c=l.fallback,_=n.mode,l=Fl({mode:"visible",children:l.children},_),c=Gi(c,_,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ys(n,e.child,null,a),l=n.child,l.memoizedState=Lu(a),l.childLanes=zu(e,d,a),n.memoizedState=Uu,n=c);else if(ai(n),Ef(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var N=d.dgst;d=N,l=Error(r(419)),l.stack="",l.digest=d,qa({value:l,source:null,stack:null}),n=Pu(e,n,a)}else if(tt||Ga(e,n,a,!1),d=(a&e.childLanes)!==0,tt||d){if(d=Ie,d!==null&&(l=a&-a,l=(l&42)!==0?1:bn(l),l=(l&(d.suspendedLanes|a))!==0?0:l,l!==0&&l!==v.retryLane))throw v.retryLane=l,ks(e,l),Pt(d,e,l),_p;_.data==="$?"||sf(),n=Pu(e,n,a)}else _.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=v.treeContext,Pe=en(_.nextSibling),St=n,_e=!0,Fi=null,dn=!1,e!==null&&(Qt[Ft++]=Nn,Qt[Ft++]=Rn,Qt[Ft++]=Yi,Nn=e.id,Rn=e.overflow,Yi=n),n=Hu(n,l.children),n.flags|=4096);return n}return c?(ri(),c=l.fallback,_=n.mode,v=e.child,N=v.sibling,l=An(v,{mode:"hidden",children:l.children}),l.subtreeFlags=v.subtreeFlags&65011712,N!==null?c=An(N,c):(c=Gi(c,_,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,_=e.child.memoizedState,_===null?_=Lu(a):(v=_.cachePool,v!==null?(N=Ke._currentValue,v=v.parent!==N?{parent:N,pool:N}:v):v=hm(),_={baseLanes:_.baseLanes|a,cachePool:v}),c.memoizedState=_,c.childLanes=zu(e,d,a),n.memoizedState=Uu,l):(ai(n),a=e.child,e=a.sibling,a=An(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=a,n.memoizedState=null,a)}function Hu(e,n){return n=Fl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fl(e,n){return e=kt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Pu(e,n,a){return Ys(n,e.child,null,a),e=Hu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Np(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),iu(e.return,n,a)}function ju(e,n,a,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Rp(e,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ut(e,n,l.children,a),l=We.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Np(e,a,n);else if(e.tag===19)Np(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(P(We,l),c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&ql(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),ju(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&ql(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}ju(n,!0,a,null,f);break;case"together":ju(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),fi|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ga(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=An(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=An(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Bu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nl(e)))}function WE(e,n,a){switch(n.tag){case 3:Oe(n,n.stateNode.containerInfo),ei(n,Ke,e.memoizedState.cache),Va();break;case 27:case 5:ps(n);break;case 4:Oe(n,n.stateNode.containerInfo);break;case 10:ei(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ai(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ap(e,n,a):(ai(n),e=xn(e,n,a),e!==null?e.sibling:null);ai(n);break;case 19:var c=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ga(e,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Rp(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),P(We,We.current),l)break;return null;case 22:case 23:return n.lanes=0,Ep(e,n,a);case 24:ei(n,Ke,e.memoizedState.cache)}return xn(e,n,a)}function Dp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)tt=!0;else{if(!Bu(e,a)&&(n.flags&128)===0)return tt=!1,WE(e,n,a);tt=(e.flags&131072)!==0}else tt=!1,_e&&(n.flags&1048576)!==0&&am(n,Al,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Wc(l)?(e=Ji(l,e),n.tag=1,n=wp(null,n,l,e,a)):(n.tag=0,n=ku(null,n,l,e,a));else{if(l!=null){if(c=l.$$typeof,c===lt){n.tag=11,n=yp(null,n,l,e,a);break e}else if(c===ot){n.tag=14,n=vp(null,n,l,e,a);break e}}throw n=on(l)||l,Error(r(306,n,""))}}return n;case 0:return ku(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Ji(l,n.pendingProps),wp(e,n,l,c,a);case 3:e:{if(Oe(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,uu(e,n),Za(n,l,null,a);var d=n.memoizedState;if(l=d.cache,ei(n,Ke,l),l!==f.cache&&su(n,[Ke],a,!0),Wa(),l=d.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cp(e,n,l,a);break e}else if(l!==c){c=Gt(Error(r(424)),n),qa(c),n=Cp(e,n,l,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=en(e.firstChild),St=n,_e=!0,Fi=null,dn=!0,a=lp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Va(),l===c){n=xn(e,n,a);break e}ut(e,n,l,a)}n=n.child}return n;case 26:return Ql(e,n),e===null?(a=xg(n.type,null,n.pendingProps,null))?n.memoizedState=a:_e||(a=n.type,e=n.pendingProps,l=lo(ee.current).createElement(a),l[mt]=n,l[wt]=e,ht(l,a,e),et(l),n.stateNode=l):n.memoizedState=xg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ps(n),e===null&&_e&&(l=n.stateNode=Og(n.type,n.pendingProps,ee.current),St=n,dn=!0,c=Pe,pi(n.type)?(bf=c,Pe=en(l.firstChild)):Pe=c),ut(e,n,n.pendingProps.children,a),Ql(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&_e&&((c=l=Pe)&&(l=w0(l,n.type,n.pendingProps,dn),l!==null?(n.stateNode=l,St=n,Pe=en(l.firstChild),dn=!1,c=!0):c=!1),c||Xi(n)),ps(n),c=n.type,f=n.pendingProps,d=e!==null?e.memoizedProps:null,l=f.children,yf(c,f)?l=null:d!==null&&yf(c,d)&&(n.flags|=32),n.memoizedState!==null&&(c=gu(e,n,VE,null,null,a),vr._currentValue=c),Ql(e,n),ut(e,n,l,a),n.child;case 6:return e===null&&_e&&((e=a=Pe)&&(a=C0(a,n.pendingProps,dn),a!==null?(n.stateNode=a,St=n,Pe=null,e=!0):e=!1),e||Xi(n)),null;case 13:return Ap(e,n,a);case 4:return Oe(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ys(n,null,l,a):ut(e,n,l,a),n.child;case 11:return yp(e,n,n.type,n.pendingProps,a);case 7:return ut(e,n,n.pendingProps,a),n.child;case 8:return ut(e,n,n.pendingProps.children,a),n.child;case 12:return ut(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ei(n,n.type,l.value),ut(e,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Wi(n),c=pt(c),l=l(c),n.flags|=1,ut(e,n,l,a),n.child;case 14:return vp(e,n,n.type,n.pendingProps,a);case 15:return Sp(e,n,n.type,n.pendingProps,a);case 19:return Rp(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=Fl(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=An(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Ep(e,n,a);case 24:return Wi(n),l=pt(Ke),e===null?(c=lu(),c===null&&(c=Ie,f=au(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},cu(n),ei(n,Ke,c)):((e.lanes&a)!==0&&(uu(e,n),Za(n,null,null,a),Wa()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ei(n,Ke,l)):(l=f.cache,ei(n,Ke,l),l!==c.cache&&su(n,[Ke],a,!0))),ut(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function kn(e){e.flags|=4}function Op(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Hg(n)){if(n=Xt.current,n!==null&&((me&4194048)===me?mn!==null:(me&62914560)!==me&&(me&536870912)===0||n!==mn))throw Xa=ou,dm;e.flags|=8192}}function Xl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?L():536870912,e.lanes|=n,Ks|=n)}function sr(e,n){if(!_e)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function He(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function ZE(e,n,a){var l=n.pendingProps;switch(eu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(n),null;case 1:return He(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),On(Ke),cn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ba(n)?kn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,om())),He(n),null;case 26:return a=n.memoizedState,e===null?(kn(n),a!==null?(He(n),Op(n,a)):(He(n),n.flags&=-16777217)):a?a!==e.memoizedState?(kn(n),He(n),Op(n,a)):(He(n),n.flags&=-16777217):(e.memoizedProps!==l&&kn(n),He(n),n.flags&=-16777217),null;case 27:gs(n),a=ee.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&kn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return He(n),null}e=Q.current,Ba(n)?rm(n):(e=Og(c,l,a),n.stateNode=e,kn(n))}return He(n),null;case 5:if(gs(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&kn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return He(n),null}if(e=Q.current,Ba(n))rm(n);else{switch(c=lo(ee.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}e[mt]=n,e[wt]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(ht(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&kn(n)}}return He(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&kn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=ee.current,Ba(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,c=St,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[mt]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Tg(e.nodeValue,a)),e||Xi(n)}else e=lo(e).createTextNode(l),e[mt]=n,n.stateNode=e}return He(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ba(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[mt]=n}else Va(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;He(n),c=!1}else c=om(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Mn(n),n):(Mn(n),null)}if(Mn(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Xl(n,n.updateQueue),He(n),null;case 4:return cn(),e===null&&df(n.stateNode.containerInfo),He(n),null;case 10:return On(n.type),He(n),null;case 19:if(B(We),c=n.memoizedState,c===null)return He(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)sr(c,!1);else{if(je!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ql(e),f!==null){for(n.flags|=128,sr(c,!1),e=f.updateQueue,n.updateQueue=e,Xl(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)sm(a,e),a=a.sibling;return P(We,We.current&1|2),n.child}e=e.sibling}c.tail!==null&&Bt()>Zl&&(n.flags|=128,l=!0,sr(c,!1),n.lanes=4194304)}else{if(!l)if(e=ql(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Xl(n,e),sr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!_e)return He(n),null}else 2*Bt()-c.renderingStartTime>Zl&&a!==536870912&&(n.flags|=128,l=!0,sr(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Bt(),n.sibling=null,e=We.current,P(We,l?e&1|2:e&1),n):(He(n),null);case 22:case 23:return Mn(n),mu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(He(n),n.subtreeFlags&6&&(n.flags|=8192)):He(n),a=n.updateQueue,a!==null&&Xl(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&B(Zi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),On(Ke),He(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function $E(e,n){switch(eu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return On(Ke),cn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return gs(n),null;case 13:if(Mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Va()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(We),null;case 4:return cn(),null;case 10:return On(n.type),null;case 22:case 23:return Mn(n),mu(),e!==null&&B(Zi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return On(Ke),null;case 25:return null;default:return null}}function Ip(e,n){switch(eu(n),n.tag){case 3:On(Ke),cn();break;case 26:case 27:case 5:gs(n);break;case 4:cn();break;case 13:Mn(n);break;case 19:B(We);break;case 10:On(n.type);break;case 22:case 23:Mn(n),mu(),e!==null&&B(Zi);break;case 24:On(Ke)}}function ar(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var f=a.create,d=a.inst;l=f(),d.destroy=l}a=a.next}while(a!==c)}}catch(_){Re(n,n.return,_)}}function li(e,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var d=l.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,c=n;var v=a,N=_;try{N()}catch(I){Re(c,v,I)}}}l=l.next}while(l!==f)}}catch(I){Re(n,n.return,I)}}function Mp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{vm(n,a)}catch(l){Re(e,e.return,l)}}}function xp(e,n,a){a.props=Ji(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Re(e,n,l)}}function rr(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(c){Re(e,n,c)}}function pn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Re(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Re(e,n,c)}else a.current=null}function kp(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Re(e,e.return,c)}}function Vu(e,n,a){try{var l=e.stateNode;v0(l,e.type,a,n),l[wt]=n}catch(c){Re(e,e.return,c)}}function Up(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pi(e.type)||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ro));else if(l!==4&&(l===27&&pi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Gu(e,n,a),e=e.sibling;e!==null;)Gu(e,n,a),e=e.sibling}function Kl(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&pi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Kl(e,n,a),e=e.sibling;e!==null;)Kl(e,n,a),e=e.sibling}function Lp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ht(n,l,a),n[mt]=e,n[wt]=a}catch(f){Re(e,e.return,f)}}var Un=!1,qe=!1,Yu=!1,zp=typeof WeakSet=="function"?WeakSet:Set,nt=null;function JE(e,n){if(e=e.containerInfo,gf=mo,e=Xd(e),qc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var d=0,_=-1,v=-1,N=0,I=0,x=e,R=null;t:for(;;){for(var D;x!==a||c!==0&&x.nodeType!==3||(_=d+c),x!==f||l!==0&&x.nodeType!==3||(v=d+l),x.nodeType===3&&(d+=x.nodeValue.length),(D=x.firstChild)!==null;)R=x,x=D;for(;;){if(x===e)break t;if(R===a&&++N===c&&(_=d),R===f&&++I===l&&(v=d),(D=x.nextSibling)!==null)break;x=R,R=x.parentNode}x=D}a=_===-1||v===-1?null:{start:_,end:v}}else a=null}a=a||{start:0,end:0}}else a=null;for(_f={focusedElem:e,selectionRange:a},mo=!1,nt=n;nt!==null;)if(n=nt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,nt=e;else for(;nt!==null;){switch(n=nt,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var $=Ji(a.type,c,a.elementType===a.type);e=l.getSnapshotBeforeUpdate($,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(X){Re(a,a.return,X)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Sf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,nt=e;break}nt=n.return}}function Hp(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:oi(e,a),l&4&&ar(5,a);break;case 1:if(oi(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(d){Re(a,a.return,d)}else{var c=Ji(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Re(a,a.return,d)}}l&64&&Mp(a),l&512&&rr(a,a.return);break;case 3:if(oi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{vm(e,n)}catch(d){Re(a,a.return,d)}}break;case 27:n===null&&l&4&&Lp(a);case 26:case 5:oi(e,a),n===null&&l&4&&kp(a),l&512&&rr(a,a.return);break;case 12:oi(e,a);break;case 13:oi(e,a),l&4&&Bp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=o0.bind(null,a),A0(e,a))));break;case 22:if(l=a.memoizedState!==null||Un,!l){n=n!==null&&n.memoizedState!==null||qe,c=Un;var f=qe;Un=l,(qe=n)&&!f?ci(e,a,(a.subtreeFlags&8772)!==0):oi(e,a),Un=c,qe=f}break;case 30:break;default:oi(e,a)}}function Pp(e){var n=e.alternate;n!==null&&(e.alternate=null,Pp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&wc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,Nt=!1;function Ln(e,n,a){for(a=a.child;a!==null;)jp(e,n,a),a=a.sibling}function jp(e,n,a){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:qe||pn(a,n),Ln(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||pn(a,n);var l=Le,c=Nt;pi(a.type)&&(Le=a.stateNode,Nt=!1),Ln(e,n,a),pr(a.stateNode),Le=l,Nt=c;break;case 5:qe||pn(a,n);case 6:if(l=Le,c=Nt,Le=null,Ln(e,n,a),Le=l,Nt=c,Le!==null)if(Nt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(a.stateNode)}catch(f){Re(a,n,f)}else try{Le.removeChild(a.stateNode)}catch(f){Re(a,n,f)}break;case 18:Le!==null&&(Nt?(e=Le,Rg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Tr(e)):Rg(Le,a.stateNode));break;case 4:l=Le,c=Nt,Le=a.stateNode.containerInfo,Nt=!0,Ln(e,n,a),Le=l,Nt=c;break;case 0:case 11:case 14:case 15:qe||li(2,a,n),qe||li(4,a,n),Ln(e,n,a);break;case 1:qe||(pn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&xp(a,n,l)),Ln(e,n,a);break;case 21:Ln(e,n,a);break;case 22:qe=(l=qe)||a.memoizedState!==null,Ln(e,n,a),qe=l;break;default:Ln(e,n,a)}}function Bp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Tr(e)}catch(a){Re(n,n.return,a)}}function e0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new zp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new zp),n;default:throw Error(r(435,e.tag))}}function Qu(e,n){var a=e0(e);n.forEach(function(l){var c=c0.bind(null,e,l);a.has(l)||(a.add(l),l.then(c,c))})}function Ut(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=e,d=n,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(pi(_.type)){Le=_.stateNode,Nt=!1;break e}break;case 5:Le=_.stateNode,Nt=!1;break e;case 3:case 4:Le=_.stateNode.containerInfo,Nt=!0;break e}_=_.return}if(Le===null)throw Error(r(160));jp(f,d,c),Le=null,Nt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Vp(n,e),n=n.sibling}var Jt=null;function Vp(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(n,e),Lt(e),l&4&&(li(3,e,e.return),ar(3,e),li(5,e,e.return));break;case 1:Ut(n,e),Lt(e),l&512&&(qe||a===null||pn(a,a.return)),l&64&&Un&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Jt;if(Ut(n,e),Lt(e),l&512&&(qe||a===null||pn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Oa]||f[mt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ht(f,l,a),f[mt]=e,et(f),l=f;break e;case"link":var d=Lg("link","href",c).get(l+(a.href||""));if(d){for(var _=0;_<d.length;_++)if(f=d[_],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(_,1);break t}}f=c.createElement(l),ht(f,l,a),c.head.appendChild(f);break;case"meta":if(d=Lg("meta","content",c).get(l+(a.content||""))){for(_=0;_<d.length;_++)if(f=d[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(_,1);break t}}f=c.createElement(l),ht(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[mt]=e,et(f),l=f}e.stateNode=l}else zg(c,e.type,e.stateNode);else e.stateNode=Ug(c,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?zg(c,e.type,e.stateNode):Ug(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Vu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ut(n,e),Lt(e),l&512&&(qe||a===null||pn(a,a.return)),a!==null&&l&4&&Vu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ut(n,e),Lt(e),l&512&&(qe||a===null||pn(a,a.return)),e.flags&32){c=e.stateNode;try{Ns(c,"")}catch(D){Re(e,e.return,D)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Vu(e,c,a!==null?a.memoizedProps:c)),l&1024&&(Yu=!0);break;case 6:if(Ut(n,e),Lt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(D){Re(e,e.return,D)}}break;case 3:if(uo=null,c=Jt,Jt=oo(n.containerInfo),Ut(n,e),Jt=c,Lt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tr(n.containerInfo)}catch(D){Re(e,e.return,D)}Yu&&(Yu=!1,qp(e));break;case 4:l=Jt,Jt=oo(e.stateNode.containerInfo),Ut(n,e),Lt(e),Jt=l;break;case 12:Ut(n,e),Lt(e);break;case 13:Ut(n,e),Lt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($u=Bt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qu(e,l)));break;case 22:c=e.memoizedState!==null;var v=a!==null&&a.memoizedState!==null,N=Un,I=qe;if(Un=N||c,qe=I||v,Ut(n,e),qe=I,Un=N,Lt(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||v||Un||qe||es(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){v=a=n;try{if(f=v.stateNode,c)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=v.stateNode;var x=v.memoizedProps.style,R=x!=null&&x.hasOwnProperty("display")?x.display:null;_.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(D){Re(v,v.return,D)}}}else if(n.tag===6){if(a===null){v=n;try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(D){Re(v,v.return,D)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qu(e,a))));break;case 19:Ut(n,e),Lt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qu(e,l)));break;case 30:break;case 21:break;default:Ut(n,e),Lt(e)}}function Lt(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(Up(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=qu(e);Kl(e,f,c);break;case 5:var d=a.stateNode;a.flags&32&&(Ns(d,""),a.flags&=-33);var _=qu(e);Kl(e,_,d);break;case 3:case 4:var v=a.stateNode.containerInfo,N=qu(e);Gu(e,N,v);break;default:throw Error(r(161))}}catch(I){Re(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;qp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function oi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hp(e,n.alternate,n),n=n.sibling}function es(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:li(4,n,n.return),es(n);break;case 1:pn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&xp(n,n.return,a),es(n);break;case 27:pr(n.stateNode);case 26:case 5:pn(n,n.return),es(n);break;case 22:n.memoizedState===null&&es(n);break;case 30:es(n);break;default:es(n)}e=e.sibling}}function ci(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,d=f.flags;switch(f.tag){case 0:case 11:case 15:ci(c,f,a),ar(4,f);break;case 1:if(ci(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Re(l,l.return,N)}if(l=f,c=l.updateQueue,c!==null){var _=l.stateNode;try{var v=c.shared.hiddenCallbacks;if(v!==null)for(c.shared.hiddenCallbacks=null,c=0;c<v.length;c++)ym(v[c],_)}catch(N){Re(l,l.return,N)}}a&&d&64&&Mp(f),rr(f,f.return);break;case 27:Lp(f);case 26:case 5:ci(c,f,a),a&&l===null&&d&4&&kp(f),rr(f,f.return);break;case 12:ci(c,f,a);break;case 13:ci(c,f,a),a&&d&4&&Bp(c,f);break;case 22:f.memoizedState===null&&ci(c,f,a),rr(f,f.return);break;case 30:break;default:ci(c,f,a)}n=n.sibling}}function Fu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ya(a))}function Xu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ya(e))}function gn(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gp(e,n,a,l),n=n.sibling}function Gp(e,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:gn(e,n,a,l),c&2048&&ar(9,n);break;case 1:gn(e,n,a,l);break;case 3:gn(e,n,a,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ya(e)));break;case 12:if(c&2048){gn(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,d=f.id,_=f.onPostCommit;typeof _=="function"&&_(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Re(n,n.return,v)}}else gn(e,n,a,l);break;case 13:gn(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,d=n.alternate,n.memoizedState!==null?f._visibility&2?gn(e,n,a,l):lr(e,n):f._visibility&2?gn(e,n,a,l):(f._visibility|=2,Qs(e,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Fu(d,n);break;case 24:gn(e,n,a,l),c&2048&&Xu(n.alternate,n);break;default:gn(e,n,a,l)}}function Qs(e,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,d=n,_=a,v=l,N=d.flags;switch(d.tag){case 0:case 11:case 15:Qs(f,d,_,v,c),ar(8,d);break;case 23:break;case 22:var I=d.stateNode;d.memoizedState!==null?I._visibility&2?Qs(f,d,_,v,c):lr(f,d):(I._visibility|=2,Qs(f,d,_,v,c)),c&&N&2048&&Fu(d.alternate,d);break;case 24:Qs(f,d,_,v,c),c&&N&2048&&Xu(d.alternate,d);break;default:Qs(f,d,_,v,c)}n=n.sibling}}function lr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,c=l.flags;switch(l.tag){case 22:lr(a,l),c&2048&&Fu(l.alternate,l);break;case 24:lr(a,l),c&2048&&Xu(l.alternate,l);break;default:lr(a,l)}n=n.sibling}}var or=8192;function Fs(e){if(e.subtreeFlags&or)for(e=e.child;e!==null;)Yp(e),e=e.sibling}function Yp(e){switch(e.tag){case 26:Fs(e),e.flags&or&&e.memoizedState!==null&&P0(Jt,e.memoizedState,e.memoizedProps);break;case 5:Fs(e);break;case 3:case 4:var n=Jt;Jt=oo(e.stateNode.containerInfo),Fs(e),Jt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=or,or=16777216,Fs(e),or=n):Fs(e));break;default:Fs(e)}}function Qp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function cr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];nt=l,Xp(l,e)}Qp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fp(e),e=e.sibling}function Fp(e){switch(e.tag){case 0:case 11:case 15:cr(e),e.flags&2048&&li(9,e,e.return);break;case 3:cr(e);break;case 12:cr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wl(e)):cr(e);break;default:cr(e)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];nt=l,Xp(l,e)}Qp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:li(8,n,n.return),Wl(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Wl(n));break;default:Wl(n)}e=e.sibling}}function Xp(e,n){for(;nt!==null;){var a=nt;switch(a.tag){case 0:case 11:case 15:li(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ya(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,nt=l;else e:for(a=e;nt!==null;){l=nt;var c=l.sibling,f=l.return;if(Pp(l),l===a){nt=null;break e}if(c!==null){c.return=f,nt=c;break e}nt=f}}}var t0={getCacheForType:function(e){var n=pt(Ke),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},n0=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ie=null,ue=null,me=0,be=0,zt=null,ui=!1,Xs=!1,Ku=!1,zn=0,je=0,fi=0,ts=0,Wu=0,Kt=0,Ks=0,ur=null,Rt=null,Zu=!1,$u=0,Zl=1/0,$l=null,hi=null,ft=0,di=null,Ws=null,Zs=0,Ju=0,ef=null,Kp=null,fr=0,tf=null;function Ht(){if((Ee&2)!==0&&me!==0)return me&-me;if(O.T!==null){var e=Hs;return e!==0?e:cf()}return fd()}function Wp(){Kt===0&&(Kt=(me&536870912)===0||_e?cl():536870912);var e=Xt.current;return e!==null&&(e.flags|=32),Kt}function Pt(e,n,a){(e===Ie&&(be===2||be===9)||e.cancelPendingCommit!==null)&&($s(e,0),mi(e,me,Kt,!1)),ie(e,a),((Ee&2)===0||e!==Ie)&&(e===Ie&&((Ee&2)===0&&(ts|=a),je===4&&mi(e,me,Kt,!1)),_n(e))}function Zp(e,n,a){if((Ee&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Pi(e,n),c=l?a0(e,n):af(e,n,!0),f=l;do{if(c===0){Xs&&!l&&mi(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!i0(a)){c=af(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var _=e;c=ur;var v=_.current.memoizedState.isDehydrated;if(v&&($s(_,d).flags|=256),d=af(_,d,!1),d!==2){if(Ku&&!v){_.errorRecoveryDisabledLanes|=f,ts|=f,c=4;break e}f=Rt,Rt=c,f!==null&&(Rt===null?Rt=f:Rt.push.apply(Rt,f))}c=d}if(f=!1,c!==2)continue}}if(c===1){$s(e,0),mi(e,n,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:mi(l,n,Kt,!ui);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=$u+300-Bt(),10<c)){if(mi(l,n,Kt,!ui),vs(l,0,!0)!==0)break e;l.timeoutHandle=Ag($p.bind(null,l,a,Rt,$l,Zu,n,Kt,ts,Ks,ui,f,2,-0,0),c);break e}$p(l,a,Rt,$l,Zu,n,Kt,ts,Ks,ui,f,0,-0,0)}}break}while(!0);_n(e)}function $p(e,n,a,l,c,f,d,_,v,N,I,x,R,D){if(e.timeoutHandle=-1,x=n.subtreeFlags,(x&8192||(x&16785408)===16785408)&&(yr={stylesheets:null,count:0,unsuspend:H0},Yp(n),x=j0(),x!==null)){e.cancelPendingCommit=x(ag.bind(null,e,n,f,a,l,c,d,_,v,I,1,R,D)),mi(e,f,d,!N);return}ag(e,n,f,a,l,c,d,_,v)}function i0(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!xt(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function mi(e,n,a,l){n&=~Wu,n&=~ts,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-vt(c),d=1<<f;l[f]=-1,c&=~d}a!==0&&Se(e,a,n)}function Jl(){return(Ee&6)===0?(hr(0),!1):!0}function nf(){if(ue!==null){if(be===0)var e=ue.return;else e=ue,Dn=Ki=null,vu(e),Gs=null,nr=0,e=ue;for(;e!==null;)Ip(e.alternate,e),e=e.return;ue=null}}function $s(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,E0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),nf(),Ie=e,ue=a=An(e.current,null),me=n,be=0,zt=null,ui=!1,Xs=Pi(e,n),Ku=!1,Ks=Kt=Wu=ts=fi=je=0,Rt=ur=null,Zu=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-vt(l),f=1<<c;n|=e[c],l&=~f}return zn=n,El(),a}function Jp(e,n){re=null,O.H=jl,n===Fa||n===Ol?(n=gm(),be=3):n===dm?(n=gm(),be=4):be=n===_p?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zt=n,ue===null&&(je=1,Yl(e,Gt(n,e.current)))}function eg(){var e=O.H;return O.H=jl,e===null?jl:e}function tg(){var e=O.A;return O.A=t0,e}function sf(){je=4,ui||(me&4194048)!==me&&Xt.current!==null||(Xs=!0),(fi&134217727)===0&&(ts&134217727)===0||Ie===null||mi(Ie,me,Kt,!1)}function af(e,n,a){var l=Ee;Ee|=2;var c=eg(),f=tg();(Ie!==e||me!==n)&&($l=null,$s(e,n)),n=!1;var d=je;e:do try{if(be!==0&&ue!==null){var _=ue,v=zt;switch(be){case 8:nf(),d=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(n=!0);var N=be;if(be=0,zt=null,Js(e,_,v,N),a&&Xs){d=0;break e}break;default:N=be,be=0,zt=null,Js(e,_,v,N)}}s0(),d=je;break}catch(I){Jp(e,I)}while(!0);return n&&e.shellSuspendCounter++,Dn=Ki=null,Ee=l,O.H=c,O.A=f,ue===null&&(Ie=null,me=0,El()),d}function s0(){for(;ue!==null;)ng(ue)}function a0(e,n){var a=Ee;Ee|=2;var l=eg(),c=tg();Ie!==e||me!==n?($l=null,Zl=Bt()+500,$s(e,n)):Xs=Pi(e,n);e:do try{if(be!==0&&ue!==null){n=ue;var f=zt;t:switch(be){case 1:be=0,zt=null,Js(e,n,f,1);break;case 2:case 9:if(mm(f)){be=0,zt=null,ig(n);break}n=function(){be!==2&&be!==9||Ie!==e||(be=7),_n(e)},f.then(n,n);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:mm(f)?(be=0,zt=null,ig(n)):(be=0,zt=null,Js(e,n,f,7));break;case 5:var d=null;switch(ue.tag){case 26:d=ue.memoizedState;case 5:case 27:var _=ue;if(!d||Hg(d)){be=0,zt=null;var v=_.sibling;if(v!==null)ue=v;else{var N=_.return;N!==null?(ue=N,eo(N)):ue=null}break t}}be=0,zt=null,Js(e,n,f,5);break;case 6:be=0,zt=null,Js(e,n,f,6);break;case 8:nf(),je=6;break e;default:throw Error(r(462))}}r0();break}catch(I){Jp(e,I)}while(!0);return Dn=Ki=null,O.H=l,O.A=c,Ee=a,ue!==null?0:(Ie=null,me=0,El(),je)}function r0(){for(;ue!==null&&!gc();)ng(ue)}function ng(e){var n=Dp(e.alternate,e,zn);e.memoizedProps=e.pendingProps,n===null?eo(e):ue=n}function ig(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Tp(a,n,n.pendingProps,n.type,void 0,me);break;case 11:n=Tp(a,n,n.pendingProps,n.type.render,n.ref,me);break;case 5:vu(n);default:Ip(a,n),n=ue=sm(n,zn),n=Dp(a,n,zn)}e.memoizedProps=e.pendingProps,n===null?eo(e):ue=n}function Js(e,n,a,l){Dn=Ki=null,vu(n),Gs=null,nr=0;var c=n.return;try{if(KE(e,c,n,a,me)){je=1,Yl(e,Gt(a,e.current)),ue=null;return}}catch(f){if(c!==null)throw ue=c,f;je=1,Yl(e,Gt(a,e.current)),ue=null;return}n.flags&32768?(_e||l===1?e=!0:Xs||(me&536870912)!==0?e=!1:(ui=e=!0,(l===2||l===9||l===3||l===6)&&(l=Xt.current,l!==null&&l.tag===13&&(l.flags|=16384))),sg(n,e)):eo(n)}function eo(e){var n=e;do{if((n.flags&32768)!==0){sg(n,ui);return}e=n.return;var a=ZE(n.alternate,n,zn);if(a!==null){ue=a;return}if(n=n.sibling,n!==null){ue=n;return}ue=n=e}while(n!==null);je===0&&(je=5)}function sg(e,n){do{var a=$E(e.alternate,e);if(a!==null){a.flags&=32767,ue=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ue=e;return}ue=e=a}while(e!==null);je=6,ue=null}function ag(e,n,a,l,c,f,d,_,v){e.cancelPendingCommit=null;do to();while(ft!==0);if((Ee&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Xc,te(e,a,f,d,_,v),e===Ie&&(ue=Ie=null,me=0),Ws=n,di=e,Zs=a,Ju=f,ef=c,Kp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,u0(Hi,function(){return ug(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,c=j.p,j.p=2,d=Ee,Ee|=4;try{JE(e,n,a)}finally{Ee=d,j.p=c,O.T=l}}ft=1,rg(),lg(),og()}}function rg(){if(ft===1){ft=0;var e=di,n=Ws,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var l=j.p;j.p=2;var c=Ee;Ee|=4;try{Vp(n,e);var f=_f,d=Xd(e.containerInfo),_=f.focusedElem,v=f.selectionRange;if(d!==_&&_&&_.ownerDocument&&Fd(_.ownerDocument.documentElement,_)){if(v!==null&&qc(_)){var N=v.start,I=v.end;if(I===void 0&&(I=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(I,_.value.length);else{var x=_.ownerDocument||document,R=x&&x.defaultView||window;if(R.getSelection){var D=R.getSelection(),$=_.textContent.length,X=Math.min(v.start,$),Ce=v.end===void 0?X:Math.min(v.end,$);!D.extend&&X>Ce&&(d=Ce,Ce=X,X=d);var C=Qd(_,X),w=Qd(_,Ce);if(C&&w&&(D.rangeCount!==1||D.anchorNode!==C.node||D.anchorOffset!==C.offset||D.focusNode!==w.node||D.focusOffset!==w.offset)){var A=x.createRange();A.setStart(C.node,C.offset),D.removeAllRanges(),X>Ce?(D.addRange(A),D.extend(w.node,w.offset)):(A.setEnd(w.node,w.offset),D.addRange(A))}}}}for(x=[],D=_;D=D.parentNode;)D.nodeType===1&&x.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<x.length;_++){var M=x[_];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}mo=!!gf,_f=gf=null}finally{Ee=c,j.p=l,O.T=a}}e.current=n,ft=2}}function lg(){if(ft===2){ft=0;var e=di,n=Ws,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var l=j.p;j.p=2;var c=Ee;Ee|=4;try{Hp(e,n.alternate,n)}finally{Ee=c,j.p=l,O.T=a}}ft=3}}function og(){if(ft===4||ft===3){ft=0,_c();var e=di,n=Ws,a=Zs,l=Kp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ft=5:(ft=0,Ws=di=null,cg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(hi=null),Tn(a),n=n.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=O.T,c=j.p,j.p=2,O.T=null;try{for(var f=e.onRecoverableError,d=0;d<l.length;d++){var _=l[d];f(_.value,{componentStack:_.stack})}}finally{O.T=n,j.p=c}}(Zs&3)!==0&&to(),_n(e),c=e.pendingLanes,(a&4194090)!==0&&(c&42)!==0?e===tf?fr++:(fr=0,tf=e):fr=0,hr(0)}}function cg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ya(n)))}function to(e){return rg(),lg(),og(),ug()}function ug(){if(ft!==5)return!1;var e=di,n=Ju;Ju=0;var a=Tn(Zs),l=O.T,c=j.p;try{j.p=32>a?32:a,O.T=null,a=ef,ef=null;var f=di,d=Zs;if(ft=0,Ws=di=null,Zs=0,(Ee&6)!==0)throw Error(r(331));var _=Ee;if(Ee|=4,Fp(f.current),Gp(f,f.current,d,a),Ee=_,hr(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Zn,f)}catch{}return!0}finally{j.p=c,O.T=l,cg(e,n)}}function fg(e,n,a){n=Gt(a,n),n=xu(e.stateNode,n,2),e=ii(e,n,2),e!==null&&(ie(e,2),_n(e))}function Re(e,n,a){if(e.tag===3)fg(e,e,a);else for(;n!==null;){if(n.tag===3){fg(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hi===null||!hi.has(l))){e=Gt(a,e),a=pp(2),l=ii(n,a,2),l!==null&&(gp(a,l,n,e),ie(l,2),_n(l));break}}n=n.return}}function rf(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new n0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Ku=!0,c.add(a),e=l0.bind(null,e,n,a),n.then(e,e))}function l0(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ie===e&&(me&a)===a&&(je===4||je===3&&(me&62914560)===me&&300>Bt()-$u?(Ee&2)===0&&$s(e,0):Wu|=a,Ks===me&&(Ks=0)),_n(e)}function hg(e,n){n===0&&(n=L()),e=ks(e,n),e!==null&&(ie(e,n),_n(e))}function o0(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),hg(e,a)}function c0(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),hg(e,a)}function u0(e,n){return Ye(e,n)}var no=null,ea=null,lf=!1,io=!1,of=!1,ns=0;function _n(e){e!==ea&&e.next===null&&(ea===null?no=ea=e:ea=ea.next=e),io=!0,lf||(lf=!0,h0())}function hr(e,n){if(!of&&io){of=!0;do for(var a=!1,l=no;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var d=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-vt(42|e)+1)-1,f&=c&~(d&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,gg(l,f))}else f=me,f=vs(l,l===Ie?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pi(l,f)||(a=!0,gg(l,f));l=l.next}while(a);of=!1}}function f0(){dg()}function dg(){io=lf=!1;var e=0;ns!==0&&(S0()&&(e=ns),ns=0);for(var n=Bt(),a=null,l=no;l!==null;){var c=l.next,f=mg(l,n);f===0?(l.next=null,a===null?no=c:a.next=c,c===null&&(ea=a)):(a=l,(e!==0||(f&3)!==0)&&(io=!0)),l=c}hr(e)}function mg(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var d=31-vt(f),_=1<<d,v=c[d];v===-1?((_&a)===0||(_&l)!==0)&&(c[d]=bc(_,n)):v<=n&&(e.expiredLanes|=_),f&=~_}if(n=Ie,a=me,a=vs(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(be===2||be===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Da(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Pi(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Da(l),Tn(a)){case 2:case 8:a=un;break;case 32:a=Hi;break;case 268435456:a=rl;break;default:a=Hi}return l=pg.bind(null,e),a=Ye(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Da(l),e.callbackPriority=2,e.callbackNode=null,2}function pg(e,n){if(ft!==0&&ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(to()&&e.callbackNode!==a)return null;var l=me;return l=vs(e,e===Ie?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Zp(e,l,n),mg(e,Bt()),e.callbackNode!=null&&e.callbackNode===a?pg.bind(null,e):null)}function gg(e,n){if(to())return null;Zp(e,n,!0)}function h0(){b0(function(){(Ee&6)!==0?Ye(al,f0):dg()})}function cf(){return ns===0&&(ns=cl()),ns}function _g(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ml(""+e)}function yg(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function d0(e,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=_g((c[wt]||null).action),d=l.submitter;d&&(n=(n=d[wt]||null)?_g(n.formAction):d.getAttribute("formAction"),n!==null&&(f=n,d=null));var _=new yl("action","action",null,l,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ns!==0){var v=d?yg(c,d):new FormData(c);Ru(a,{pending:!0,data:v,method:c.method,action:f},null,v)}}else typeof f=="function"&&(_.preventDefault(),v=d?yg(c,d):new FormData(c),Ru(a,{pending:!0,data:v,method:c.method,action:f},f,v))},currentTarget:c}]})}}for(var uf=0;uf<Fc.length;uf++){var ff=Fc[uf],m0=ff.toLowerCase(),p0=ff[0].toUpperCase()+ff.slice(1);$t(m0,"on"+p0)}$t(Zd,"onAnimationEnd"),$t($d,"onAnimationIteration"),$t(Jd,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(ME,"onTransitionRun"),$t(xE,"onTransitionStart"),$t(kE,"onTransitionCancel"),$t(em,"onTransitionEnd"),ws("onMouseEnter",["mouseout","mouseover"]),ws("onMouseLeave",["mouseout","mouseover"]),ws("onPointerEnter",["pointerout","pointerover"]),ws("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dr));function vg(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var d=l.length-1;0<=d;d--){var _=l[d],v=_.instance,N=_.currentTarget;if(_=_.listener,v!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=N;try{f(c)}catch(I){Gl(I)}c.currentTarget=null,f=v}else for(d=0;d<l.length;d++){if(_=l[d],v=_.instance,N=_.currentTarget,_=_.listener,v!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=N;try{f(c)}catch(I){Gl(I)}c.currentTarget=null,f=v}}}}function fe(e,n){var a=n[Tc];a===void 0&&(a=n[Tc]=new Set);var l=e+"__bubble";a.has(l)||(Sg(n,e,2,!1),a.add(l))}function hf(e,n,a){var l=0;n&&(l|=4),Sg(a,e,l,n)}var so="_reactListening"+Math.random().toString(36).slice(2);function df(e){if(!e[so]){e[so]=!0,dd.forEach(function(a){a!=="selectionchange"&&(g0.has(a)||hf(a,!1,e),hf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[so]||(n[so]=!0,hf("selectionchange",!1,n))}}function Sg(e,n,a,l){switch(Gg(n)){case 2:var c=q0;break;case 8:c=G0;break;default:c=Nf}a=c.bind(null,n,a,e),c=void 0,!kc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function mf(e,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var d=l.tag;if(d===3||d===4){var _=l.stateNode.containerInfo;if(_===c)break;if(d===4)for(d=l.return;d!==null;){var v=d.tag;if((v===3||v===4)&&d.stateNode.containerInfo===c)return;d=d.return}for(;_!==null;){if(d=Es(_),d===null)return;if(v=d.tag,v===5||v===6||v===26||v===27){l=f=d;continue e}_=_.parentNode}}l=l.return}Nd(function(){var N=f,I=Mc(a),x=[];e:{var R=tm.get(e);if(R!==void 0){var D=yl,$=e;switch(e){case"keypress":if(gl(a)===0)break e;case"keydown":case"keyup":D=uE;break;case"focusin":$="focus",D=Hc;break;case"focusout":$="blur",D=Hc;break;case"beforeblur":case"afterblur":D=Hc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=$S;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=dE;break;case Zd:case $d:case Jd:D=tE;break;case em:D=pE;break;case"scroll":case"scrollend":D=WS;break;case"wheel":D=_E;break;case"copy":case"cut":case"paste":D=iE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Md;break;case"toggle":case"beforetoggle":D=vE}var X=(n&4)!==0,Ce=!X&&(e==="scroll"||e==="scrollend"),C=X?R!==null?R+"Capture":null:R;X=[];for(var w=N,A;w!==null;){var M=w;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||C===null||(M=Ma(w,C),M!=null&&X.push(mr(w,M,A))),Ce)break;w=w.return}0<X.length&&(R=new D(R,$,null,a,I),x.push({event:R,listeners:X}))}}if((n&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&a!==Ic&&($=a.relatedTarget||a.fromElement)&&(Es($)||$[Ss]))break e;if((D||R)&&(R=I.window===I?I:(R=I.ownerDocument)?R.defaultView||R.parentWindow:window,D?($=a.relatedTarget||a.toElement,D=N,$=$?Es($):null,$!==null&&(Ce=u($),X=$.tag,$!==Ce||X!==5&&X!==27&&X!==6)&&($=null)):(D=null,$=N),D!==$)){if(X=Od,M="onMouseLeave",C="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(X=Md,M="onPointerLeave",C="onPointerEnter",w="pointer"),Ce=D==null?R:Ia(D),A=$==null?R:Ia($),R=new X(M,w+"leave",D,a,I),R.target=Ce,R.relatedTarget=A,M=null,Es(I)===N&&(X=new X(C,w+"enter",$,a,I),X.target=A,X.relatedTarget=Ce,M=X),Ce=M,D&&$)t:{for(X=D,C=$,w=0,A=X;A;A=ta(A))w++;for(A=0,M=C;M;M=ta(M))A++;for(;0<w-A;)X=ta(X),w--;for(;0<A-w;)C=ta(C),A--;for(;w--;){if(X===C||C!==null&&X===C.alternate)break t;X=ta(X),C=ta(C)}X=null}else X=null;D!==null&&Eg(x,R,D,X,!1),$!==null&&Ce!==null&&Eg(x,Ce,$,X,!0)}}e:{if(R=N?Ia(N):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var V=jd;else if(Hd(R))if(Bd)V=DE;else{V=NE;var le=AE}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?N&&Oc(N.elementType)&&(V=jd):V=RE;if(V&&(V=V(e,N))){Pd(x,V,a,I);break e}le&&le(e,R,N),e==="focusout"&&N&&R.type==="number"&&N.memoizedProps.value!=null&&Dc(R,"number",R.value)}switch(le=N?Ia(N):window,e){case"focusin":(Hd(le)||le.contentEditable==="true")&&(Is=le,Gc=N,ja=null);break;case"focusout":ja=Gc=Is=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,Kd(x,a,I);break;case"selectionchange":if(IE)break;case"keydown":case"keyup":Kd(x,a,I)}var Y;if(jc)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else Os?Ld(e,a)&&(K="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(K="onCompositionStart");K&&(xd&&a.locale!=="ko"&&(Os||K!=="onCompositionStart"?K==="onCompositionEnd"&&Os&&(Y=Rd()):(Jn=I,Uc="value"in Jn?Jn.value:Jn.textContent,Os=!0)),le=ao(N,K),0<le.length&&(K=new Id(K,e,null,a,I),x.push({event:K,listeners:le}),Y?K.data=Y:(Y=zd(a),Y!==null&&(K.data=Y)))),(Y=EE?bE(e,a):TE(e,a))&&(K=ao(N,"onBeforeInput"),0<K.length&&(le=new Id("onBeforeInput","beforeinput",null,a,I),x.push({event:le,listeners:K}),le.data=Y)),d0(x,e,N,a,I)}vg(x,n)})}function mr(e,n,a){return{instance:e,listener:n,currentTarget:a}}function ao(e,n){for(var a=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ma(e,a),c!=null&&l.unshift(mr(e,c,f)),c=Ma(e,n),c!=null&&l.push(mr(e,c,f))),e.tag===3)return l;e=e.return}return[]}function ta(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Eg(e,n,a,l,c){for(var f=n._reactName,d=[];a!==null&&a!==l;){var _=a,v=_.alternate,N=_.stateNode;if(_=_.tag,v!==null&&v===l)break;_!==5&&_!==26&&_!==27||N===null||(v=N,c?(N=Ma(a,f),N!=null&&d.unshift(mr(a,N,v))):c||(N=Ma(a,f),N!=null&&d.push(mr(a,N,v)))),a=a.return}d.length!==0&&e.push({event:n,listeners:d})}var _0=/\r\n?/g,y0=/\u0000|\uFFFD/g;function bg(e){return(typeof e=="string"?e:""+e).replace(_0,`
`).replace(y0,"")}function Tg(e,n){return n=bg(n),bg(e)===n}function ro(){}function we(e,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ns(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ns(e,""+l);break;case"className":fl(e,"class",l);break;case"tabIndex":fl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fl(e,a,l);break;case"style":Cd(e,l,f);break;case"data":if(n!=="object"){fl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ml(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&we(e,n,"name",c.name,c,null),we(e,n,"formEncType",c.formEncType,c,null),we(e,n,"formMethod",c.formMethod,c,null),we(e,n,"formTarget",c.formTarget,c,null)):(we(e,n,"encType",c.encType,c,null),we(e,n,"method",c.method,c,null),we(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ml(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ro);break;case"onScroll":l!=null&&fe("scroll",e);break;case"onScrollEnd":l!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ml(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":fe("beforetoggle",e),fe("toggle",e),ul(e,"popover",l);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ul(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=XS.get(a)||a,ul(e,a,l))}}function pf(e,n,a,l,c,f){switch(a){case"style":Cd(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Ns(e,l):(typeof l=="number"||typeof l=="bigint")&&Ns(e,""+l);break;case"onScroll":l!=null&&fe("scroll",e);break;case"onScrollEnd":l!=null&&fe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ro);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!md.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=e[wt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,c);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ul(e,a,l)}}}function ht(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var d=a[f];if(d!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:we(e,n,f,d,a,null)}}c&&we(e,n,"srcSet",a.srcSet,a,null),l&&we(e,n,"src",a.src,a,null);return;case"input":fe("invalid",e);var _=f=d=c=null,v=null,N=null;for(l in a)if(a.hasOwnProperty(l)){var I=a[l];if(I!=null)switch(l){case"name":c=I;break;case"type":d=I;break;case"checked":v=I;break;case"defaultChecked":N=I;break;case"value":f=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,n));break;default:we(e,n,l,I,a,null)}}Ed(e,f,_,v,N,d,c,!1),hl(e);return;case"select":fe("invalid",e),l=d=f=null;for(c in a)if(a.hasOwnProperty(c)&&(_=a[c],_!=null))switch(c){case"value":f=_;break;case"defaultValue":d=_;break;case"multiple":l=_;default:we(e,n,c,_,a,null)}n=f,a=d,e.multiple=!!l,n!=null?As(e,!!l,n,!1):a!=null&&As(e,!!l,a,!0);return;case"textarea":fe("invalid",e),f=c=l=null;for(d in a)if(a.hasOwnProperty(d)&&(_=a[d],_!=null))switch(d){case"value":l=_;break;case"defaultValue":c=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:we(e,n,d,_,a,null)}Td(e,l,c,f),hl(e);return;case"option":for(v in a)if(a.hasOwnProperty(v)&&(l=a[v],l!=null))switch(v){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:we(e,n,v,l,a,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(l=0;l<dr.length;l++)fe(dr[l],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:we(e,n,N,l,a,null)}return;default:if(Oc(n)){for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!==void 0&&pf(e,n,I,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&we(e,n,_,l,a,null))}function v0(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,d=null,_=null,v=null,N=null,I=null;for(D in a){var x=a[D];if(a.hasOwnProperty(D)&&x!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":v=x;default:l.hasOwnProperty(D)||we(e,n,D,null,l,x)}}for(var R in l){var D=l[R];if(x=a[R],l.hasOwnProperty(R)&&(D!=null||x!=null))switch(R){case"type":f=D;break;case"name":c=D;break;case"checked":N=D;break;case"defaultChecked":I=D;break;case"value":d=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,n));break;default:D!==x&&we(e,n,R,D,l,x)}}Rc(e,d,_,v,N,I,f,c);return;case"select":D=d=_=R=null;for(f in a)if(v=a[f],a.hasOwnProperty(f)&&v!=null)switch(f){case"value":break;case"multiple":D=v;default:l.hasOwnProperty(f)||we(e,n,f,null,l,v)}for(c in l)if(f=l[c],v=a[c],l.hasOwnProperty(c)&&(f!=null||v!=null))switch(c){case"value":R=f;break;case"defaultValue":_=f;break;case"multiple":d=f;default:f!==v&&we(e,n,c,f,l,v)}n=_,a=d,l=D,R!=null?As(e,!!a,R,!1):!!l!=!!a&&(n!=null?As(e,!!a,n,!0):As(e,!!a,a?[]:"",!1));return;case"textarea":D=R=null;for(_ in a)if(c=a[_],a.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:we(e,n,_,null,l,c)}for(d in l)if(c=l[d],f=a[d],l.hasOwnProperty(d)&&(c!=null||f!=null))switch(d){case"value":R=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&we(e,n,d,c,l,f)}bd(e,R,D);return;case"option":for(var $ in a)if(R=a[$],a.hasOwnProperty($)&&R!=null&&!l.hasOwnProperty($))switch($){case"selected":e.selected=!1;break;default:we(e,n,$,null,l,R)}for(v in l)if(R=l[v],D=a[v],l.hasOwnProperty(v)&&R!==D&&(R!=null||D!=null))switch(v){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:we(e,n,v,R,l,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var X in a)R=a[X],a.hasOwnProperty(X)&&R!=null&&!l.hasOwnProperty(X)&&we(e,n,X,null,l,R);for(N in l)if(R=l[N],D=a[N],l.hasOwnProperty(N)&&R!==D&&(R!=null||D!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,n));break;default:we(e,n,N,R,l,D)}return;default:if(Oc(n)){for(var Ce in a)R=a[Ce],a.hasOwnProperty(Ce)&&R!==void 0&&!l.hasOwnProperty(Ce)&&pf(e,n,Ce,void 0,l,R);for(I in l)R=l[I],D=a[I],!l.hasOwnProperty(I)||R===D||R===void 0&&D===void 0||pf(e,n,I,R,l,D);return}}for(var C in a)R=a[C],a.hasOwnProperty(C)&&R!=null&&!l.hasOwnProperty(C)&&we(e,n,C,null,l,R);for(x in l)R=l[x],D=a[x],!l.hasOwnProperty(x)||R===D||R==null&&D==null||we(e,n,x,R,l,D)}var gf=null,_f=null;function lo(e){return e.nodeType===9?e:e.ownerDocument}function wg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vf=null;function S0(){var e=window.event;return e&&e.type==="popstate"?e===vf?!1:(vf=e,!0):(vf=null,!1)}var Ag=typeof setTimeout=="function"?setTimeout:void 0,E0=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,b0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(e){return Ng.resolve(null).then(e).catch(T0)}:Ag;function T0(e){setTimeout(function(){throw e})}function pi(e){return e==="head"}function Rg(e,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var d=e.ownerDocument;if(a&1&&pr(d.documentElement),a&2&&pr(d.body),a&4)for(a=d.head,pr(a),d=a.firstChild;d;){var _=d.nextSibling,v=d.nodeName;d[Oa]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}if(c===0){e.removeChild(f),Tr(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Tr(n)}function Sf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sf(a),wc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function w0(e,n,a,l){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Oa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function C0(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=en(e.nextSibling),e===null))return null;return e}function Ef(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function A0(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function en(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var bf=null;function Dg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Og(e,n,a){switch(n=lo(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function pr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);wc(e)}var Wt=new Map,Ig=new Set;function oo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hn=j.d;j.d={f:N0,r:R0,D:D0,C:O0,L:I0,m:M0,X:k0,S:x0,M:U0};function N0(){var e=Hn.f(),n=Jl();return e||n}function R0(e){var n=bs(e);n!==null&&n.tag===5&&n.type==="form"?Zm(n):Hn.r(e)}var na=typeof document>"u"?null:document;function Mg(e,n,a){var l=na;if(l&&typeof n=="string"&&n){var c=qt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Ig.has(c)||(Ig.add(c),e={rel:e,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ht(n,"link",e),et(n),l.head.appendChild(n)))}}function D0(e){Hn.D(e),Mg("dns-prefetch",e,null)}function O0(e,n){Hn.C(e,n),Mg("preconnect",e,n)}function I0(e,n,a){Hn.L(e,n,a);var l=na;if(l&&e&&n){var c='link[rel="preload"][as="'+qt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+qt(a.imageSizes)+'"]')):c+='[href="'+qt(e)+'"]';var f=c;switch(n){case"style":f=ia(e);break;case"script":f=sa(e)}Wt.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Wt.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(gr(f))||n==="script"&&l.querySelector(_r(f))||(n=l.createElement("link"),ht(n,"link",e),et(n),l.head.appendChild(n)))}}function M0(e,n){Hn.m(e,n);var a=na;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+qt(l)+'"][href="'+qt(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=sa(e)}if(!Wt.has(f)&&(e=S({rel:"modulepreload",href:e},n),Wt.set(f,e),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_r(f)))return}l=a.createElement("link"),ht(l,"link",e),et(l),a.head.appendChild(l)}}}function x0(e,n,a){Hn.S(e,n,a);var l=na;if(l&&e){var c=Ts(l).hoistableStyles,f=ia(e);n=n||"default";var d=c.get(f);if(!d){var _={loading:0,preload:null};if(d=l.querySelector(gr(f)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Wt.get(f))&&Tf(e,a);var v=d=l.createElement("link");et(v),ht(v,"link",e),v._p=new Promise(function(N,I){v.onload=N,v.onerror=I}),v.addEventListener("load",function(){_.loading|=1}),v.addEventListener("error",function(){_.loading|=2}),_.loading|=4,co(d,n,l)}d={type:"stylesheet",instance:d,count:1,state:_},c.set(f,d)}}}function k0(e,n){Hn.X(e,n);var a=na;if(a&&e){var l=Ts(a).hoistableScripts,c=sa(e),f=l.get(c);f||(f=a.querySelector(_r(c)),f||(e=S({src:e,async:!0},n),(n=Wt.get(c))&&wf(e,n),f=a.createElement("script"),et(f),ht(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function U0(e,n){Hn.M(e,n);var a=na;if(a&&e){var l=Ts(a).hoistableScripts,c=sa(e),f=l.get(c);f||(f=a.querySelector(_r(c)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Wt.get(c))&&wf(e,n),f=a.createElement("script"),et(f),ht(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function xg(e,n,a,l){var c=(c=ee.current)?oo(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ia(a.href),a=Ts(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ia(a.href);var f=Ts(c).hoistableStyles,d=f.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,d),(f=c.querySelector(gr(e)))&&!f._p&&(d.instance=f,d.state.loading=5),Wt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wt.set(e,a),f||L0(c,e,a,d.state))),n&&l===null)throw Error(r(528,""));return d}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=sa(a),a=Ts(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ia(e){return'href="'+qt(e)+'"'}function gr(e){return'link[rel="stylesheet"]['+e+"]"}function kg(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function L0(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ht(n,"link",a),et(n),e.head.appendChild(n))}function sa(e){return'[src="'+qt(e)+'"]'}function _r(e){return"script[async]"+e}function Ug(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+qt(a.href)+'"]');if(l)return n.instance=l,et(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),et(l),ht(l,"style",c),co(l,a.precedence,e),n.instance=l;case"stylesheet":c=ia(a.href);var f=e.querySelector(gr(c));if(f)return n.state.loading|=4,n.instance=f,et(f),f;l=kg(a),(c=Wt.get(c))&&Tf(l,c),f=(e.ownerDocument||e).createElement("link"),et(f);var d=f;return d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),ht(f,"link",l),n.state.loading|=4,co(f,a.precedence,e),n.instance=f;case"script":return f=sa(a.src),(c=e.querySelector(_r(f)))?(n.instance=c,et(c),c):(l=a,(c=Wt.get(f))&&(l=S({},a),wf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),et(c),ht(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,co(l,a.precedence,e));return n.instance}function co(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,d=0;d<l.length;d++){var _=l[d];if(_.dataset.precedence===n)f=_;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Tf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function wf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uo=null;function Lg(e,n,a){if(uo===null){var l=new Map,c=uo=new Map;c.set(a,l)}else c=uo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[Oa]||f[mt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var d=f.getAttribute(n)||"";d=e+d;var _=l.get(d);_?_.push(f):l.set(d,[f])}}return l}function zg(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function z0(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var yr=null;function H0(){}function P0(e,n,a){if(yr===null)throw Error(r(475));var l=yr;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ia(a.href),f=e.querySelector(gr(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=fo.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,et(f);return}f=e.ownerDocument||e,a=kg(a),(c=Wt.get(c))&&Tf(a,c),f=f.createElement("link"),et(f);var d=f;d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),ht(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=fo.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function j0(){if(yr===null)throw Error(r(475));var e=yr;return e.stylesheets&&e.count===0&&Cf(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Cf(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function fo(){if(this.count--,this.count===0){if(this.stylesheets)Cf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ho=null;function Cf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ho=new Map,n.forEach(B0,e),ho=null,fo.call(e))}function B0(e,n){if(!(n.state.loading&4)){var a=ho.get(e);if(a)var l=a.get(null);else{a=new Map,ho.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var d=c[f];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),l=d)}l&&a.set(null,l)}c=n.instance,d=c.getAttribute("data-precedence"),f=a.get(d)||l,f===l&&a.set(null,c),a.set(d,c),this.count++,l=fo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var vr={$$typeof:ye,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function V0(e,n,a,l,c,f,d,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=G(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G(0),this.hiddenUpdates=G(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Pg(e,n,a,l,c,f,d,_,v,N,I,x){return e=new V0(e,n,a,d,_,v,N,x),n=1,f===!0&&(n|=24),f=kt(3,null,null,n),e.current=f,f.stateNode=e,n=au(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},cu(f),e}function jg(e){return e?(e=Us,e):Us}function Bg(e,n,a,l,c,f){c=jg(c),l.context===null?l.context=c:l.pendingContext=c,l=ni(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ii(e,l,n),a!==null&&(Pt(a,e,n),Ka(a,e,n))}function Vg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Af(e,n){Vg(e,n),(e=e.alternate)&&Vg(e,n)}function qg(e){if(e.tag===13){var n=ks(e,67108864);n!==null&&Pt(n,e,67108864),Af(e,67108864)}}var mo=!0;function q0(e,n,a,l){var c=O.T;O.T=null;var f=j.p;try{j.p=2,Nf(e,n,a,l)}finally{j.p=f,O.T=c}}function G0(e,n,a,l){var c=O.T;O.T=null;var f=j.p;try{j.p=8,Nf(e,n,a,l)}finally{j.p=f,O.T=c}}function Nf(e,n,a,l){if(mo){var c=Rf(l);if(c===null)mf(e,n,l,po,a),Yg(e,l);else if(Q0(c,e,n,a,l))l.stopPropagation();else if(Yg(e,l),n&4&&-1<Y0.indexOf(e)){for(;c!==null;){var f=bs(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=hn(f.pendingLanes);if(d!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var v=1<<31-vt(d);_.entanglements[1]|=v,d&=~v}_n(f),(Ee&6)===0&&(Zl=Bt()+500,hr(0))}}break;case 13:_=ks(f,2),_!==null&&Pt(_,f,2),Jl(),Af(f,2)}if(f=Rf(l),f===null&&mf(e,n,l,po,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else mf(e,n,l,null,a)}}function Rf(e){return e=Mc(e),Df(e)}var po=null;function Df(e){if(po=null,e=Es(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return po=e,null}function Gg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yc()){case al:return 2;case un:return 8;case Hi:case Zt:return 32;case rl:return 268435456;default:return 32}default:return 32}}var Of=!1,gi=null,_i=null,yi=null,Sr=new Map,Er=new Map,vi=[],Y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yg(e,n){switch(e){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Sr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(n.pointerId)}}function br(e,n,a,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=bs(n),n!==null&&qg(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Q0(e,n,a,l,c){switch(n){case"focusin":return gi=br(gi,e,n,a,l,c),!0;case"dragenter":return _i=br(_i,e,n,a,l,c),!0;case"mouseover":return yi=br(yi,e,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Sr.set(f,br(Sr.get(f)||null,e,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Er.set(f,br(Er.get(f)||null,e,n,a,l,c)),!0}return!1}function Qg(e){var n=Es(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,PS(e.priority,function(){if(a.tag===13){var l=Ht();l=bn(l);var c=ks(a,l);c!==null&&Pt(c,a,l),Af(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function go(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Rf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ic=l,a.target.dispatchEvent(l),Ic=null}else return n=bs(a),n!==null&&qg(n),e.blockedOn=a,!1;n.shift()}return!0}function Fg(e,n,a){go(e)&&a.delete(n)}function F0(){Of=!1,gi!==null&&go(gi)&&(gi=null),_i!==null&&go(_i)&&(_i=null),yi!==null&&go(yi)&&(yi=null),Sr.forEach(Fg),Er.forEach(Fg)}function _o(e,n){e.blockedOn===n&&(e.blockedOn=null,Of||(Of=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,F0)))}var yo=null;function Xg(e){yo!==e&&(yo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yo===e&&(yo=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Df(l||a)===null)continue;break}var f=bs(a);f!==null&&(e.splice(n,3),n-=3,Ru(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Tr(e){function n(v){return _o(v,e)}gi!==null&&_o(gi,e),_i!==null&&_o(_i,e),yi!==null&&_o(yi,e),Sr.forEach(n),Er.forEach(n);for(var a=0;a<vi.length;a++){var l=vi[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<vi.length&&(a=vi[0],a.blockedOn===null);)Qg(a),a.blockedOn===null&&vi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],d=c[wt]||null;if(typeof f=="function")d||Xg(a);else if(d){var _=null;if(f&&f.hasAttribute("formAction")){if(c=f,d=f[wt]||null)_=d.formAction;else if(Df(c)!==null)continue}else _=d.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),Xg(a)}}}function If(e){this._internalRoot=e}vo.prototype.render=If.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Ht();Bg(a,l,e,n,null,null)},vo.prototype.unmount=If.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Bg(e.current,2,null,e,null,null),Jl(),n[Ss]=null}};function vo(e){this._internalRoot=e}vo.prototype.unstable_scheduleHydration=function(e){if(e){var n=fd();e={blockedOn:null,target:e,priority:n};for(var a=0;a<vi.length&&n!==0&&n<vi[a].priority;a++);vi.splice(a,0,e),a===0&&Qg(e)}};var Kg=t.version;if(Kg!=="19.1.1")throw Error(r(527,Kg,"19.1.1"));j.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var X0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{Zn=So.inject(X0),ct=So}catch{}}return Cr.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",c=fp,f=hp,d=dp,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=Pg(e,1,!1,null,null,a,l,c,f,d,_,null),e[Ss]=n.current,df(e),new If(n)},Cr.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,c="",f=fp,d=hp,_=dp,v=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(v=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),n=Pg(e,1,!0,n,a??null,l,c,f,d,_,v,N),n.context=jg(null),a=n.current,l=Ht(),l=bn(l),c=ni(l),c.callback=null,ii(a,c,l),a=l,n.current.lanes=a,ie(n,a),_n(n),e[Ss]=n.current,df(e),new vo(n)},Cr.version="19.1.1",Cr}var a_;function sb(){if(a_)return kf.exports;a_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kf.exports=ib(),kf.exports}var ab=sb();const rb=()=>{};var r_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(s,t){if(!s)throw Sa(t)},Sa=function(s){return new Error("Firebase Database ("+yy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},lb=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],h=s[i++],m=s[i++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],h=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},Eh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,m=h?s[o+1]:0,g=o+2<s.length,p=g?s[o+2]:0,S=u>>2,E=(u&3)<<4|m>>4;let y=(m&15)<<2|p>>6,k=p&63;g||(k=64,h||(y=64)),r.push(i[S],i[E],i[y],i[k])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(vy(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):lb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],m=o<s.length?i[s.charAt(o)]:0;++o;const p=o<s.length?i[s.charAt(o)]:64;++o;const E=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||m==null||p==null||E==null)throw new ob;const y=u<<2|m>>4;if(r.push(y),p!==64){const k=m<<4&240|p>>2;if(r.push(k),E!==64){const z=p<<6&192|E;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ob extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sy=function(s){const t=vy(s);return Eh.encodeByteArray(t,!0)},Do=function(s){return Sy(s).replace(/\./g,"")},Oo=function(s){try{return Eh.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(s){return Ey(void 0,s)}function Ey(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!ub(i)||(s[i]=Ey(s[i],t[i]));return s}function ub(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=()=>fb().__FIREBASE_DEFAULTS__,db=()=>{if(typeof process>"u"||typeof r_>"u")return;const s=r_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},mb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Oo(s[1]);return t&&JSON.parse(t)},bh=()=>{try{return rb()||hb()||db()||mb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},by=s=>bh()?.emulatorHosts?.[s],pb=s=>{const t=by(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Ty=()=>bh()?.config,wy=s=>bh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cy(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Do(JSON.stringify(i)),Do(JSON.stringify(h)),""].join(".")}const Or={};function _b(){const s={prod:[],emulator:[]};for(const t of Object.keys(Or))Or[t]?s.emulator.push(t):s.prod.push(t);return s}function yb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let l_=!1;function Ay(s,t){if(typeof window>"u"||typeof document>"u"||!Ea(window.location.host)||Or[s]===t||Or[s]||l_)return;Or[s]=t;function i(y){return`__firebase__banner__${y}`}const r="__firebase__banner",u=_b().prod.length>0;function h(){const y=document.getElementById(r);y&&y.remove()}function m(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function g(y,k){y.setAttribute("width","24"),y.setAttribute("id",k),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function p(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{l_=!0,h()},y}function S(y,k){y.setAttribute("id",k),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function E(){const y=yb(r),k=i("text"),z=document.getElementById(k)||document.createElement("span"),W=i("learnmore"),ne=document.getElementById(W)||document.createElement("a"),ke=i("preprendIcon"),Ue=document.getElementById(ke)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const ye=y.element;m(ye),S(ne,W);const lt=p();g(Ue,ke),ye.append(Ue,z,ne,lt),document.body.appendChild(ye)}u?(z.innerText="Preview backend disconnected.",Ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Th(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function vb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Ny(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Eb(){const s=bt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function bb(){return yy.NODE_ADMIN===!0}function Tb(){try{return typeof indexedDB=="object"}catch{return!1}}function wb(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="FirebaseError";class zi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=Cb,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kr.prototype.create)}}class Kr{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?Ab(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new zi(o,m,r)}}function Ab(s,t){return s.replace(Nb,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Nb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(s){return JSON.parse(s)}function Ze(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=function(s){let t={},i={},r={},o="";try{const u=s.split(".");t=Hr(Oo(u[0])||""),i=Hr(Oo(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:o}},Rb=function(s){const t=Ry(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Db=function(s){const t=Ry(s).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function pa(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function Jf(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Io(s,t,i){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=t.call(i,s[o],o,s));return r}function os(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=s[o],h=t[o];if(o_(u)&&o_(h)){if(!os(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function o_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let E=0;E<16;E++)r[E]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let E=0;E<16;E++)r[E]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let E=16;E<80;E++){const y=r[E-3]^r[E-8]^r[E-14]^r[E-16];r[E]=(y<<1|y>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],p,S;for(let E=0;E<80;E++){E<40?E<20?(p=m^u&(h^m),S=1518500249):(p=u^h^m,S=1859775393):E<60?(p=u&h|m&(u|h),S=2400959708):(p=u^h^m,S=3395469782);const y=(o<<5|o>>>27)+p+g+S+r[E]&4294967295;g=m,m=h,h=(u<<30|u>>>2)&4294967295,u=o,o=y}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}else for(;o<i;)if(u[h]=t[o],++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[r]=this.chain_[o]>>u&255,++r;return t}}function Ib(s,t){const i=new Mb(s,t);return i.subscribe.bind(i)}class Mb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");xb(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=Hf),o.error===void 0&&(o.error=Hf),o.complete===void 0&&(o.complete=Hf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Hf(){}function wh(s,t){return`${s} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,H(r<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(r)-56320;o=65536+(u<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},ec=function(s){let t=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(s){return s&&s._delegate?s._delegate:s}class cs{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Jo;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zb(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=is){return this.instances.has(t)}getOptions(t=is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lb(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=is){return this.component?this.component.multipleInstances?t:is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lb(s){return s===is?void 0:s}function zb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Ub(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ae||(Ae={}));const Pb={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},jb=Ae.INFO,Bb={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},Vb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=Bb[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ch{constructor(t){this.name=t,this._logLevel=jb,this._logHandler=Vb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Pb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...t),this._logHandler(this,Ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...t),this._logHandler(this,Ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...t),this._logHandler(this,Ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...t),this._logHandler(this,Ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...t),this._logHandler(this,Ae.ERROR,...t)}}const qb=(s,t)=>t.some(i=>s instanceof i);let c_,u_;function Gb(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yb(){return u_||(u_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dy=new WeakMap,eh=new WeakMap,Oy=new WeakMap,Pf=new WeakMap,Ah=new WeakMap;function Qb(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{i(Ni(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&Dy.set(i,s)}).catch(()=>{}),Ah.set(t,s),t}function Fb(s){if(eh.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});eh.set(s,t)}let th={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return eh.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Oy.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ni(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Xb(s){th=s(th)}function Kb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(jf(this),t,...i);return Oy.set(r,t.sort?t.sort():[t]),Ni(r)}:Yb().includes(s)?function(...t){return s.apply(jf(this),t),Ni(Dy.get(this))}:function(...t){return Ni(s.apply(jf(this),t))}}function Wb(s){return typeof s=="function"?Kb(s):(s instanceof IDBTransaction&&Fb(s),qb(s,Gb())?new Proxy(s,th):s)}function Ni(s){if(s instanceof IDBRequest)return Qb(s);if(Pf.has(s))return Pf.get(s);const t=Wb(s);return t!==s&&(Pf.set(s,t),Ah.set(t,s)),t}const jf=s=>Ah.get(s);function Zb(s,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(s,t),m=Ni(h);return r&&h.addEventListener("upgradeneeded",g=>{r(Ni(h.result),g.oldVersion,g.newVersion,Ni(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const $b=["get","getKey","getAll","getAllKeys","count"],Jb=["put","add","delete","clear"],Bf=new Map;function f_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Bf.get(t))return Bf.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=Jb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||$b.includes(i)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&g.done]))[0]};return Bf.set(t,u),u}Xb(s=>({...s,get:(t,i,r)=>f_(t,i)||s.get(t,i,r),has:(t,i)=>!!f_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(tT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function tT(s){return s.getComponent()?.type==="VERSION"}const nh="@firebase/app",h_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new Ch("@firebase/app"),nT="@firebase/app-compat",iT="@firebase/analytics-compat",sT="@firebase/analytics",aT="@firebase/app-check-compat",rT="@firebase/app-check",lT="@firebase/auth",oT="@firebase/auth-compat",cT="@firebase/database",uT="@firebase/data-connect",fT="@firebase/database-compat",hT="@firebase/functions",dT="@firebase/functions-compat",mT="@firebase/installations",pT="@firebase/installations-compat",gT="@firebase/messaging",_T="@firebase/messaging-compat",yT="@firebase/performance",vT="@firebase/performance-compat",ST="@firebase/remote-config",ET="@firebase/remote-config-compat",bT="@firebase/storage",TT="@firebase/storage-compat",wT="@firebase/firestore",CT="@firebase/ai",AT="@firebase/firestore-compat",NT="firebase",RT="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="[DEFAULT]",DT={[nh]:"fire-core",[nT]:"fire-core-compat",[sT]:"fire-analytics",[iT]:"fire-analytics-compat",[rT]:"fire-app-check",[aT]:"fire-app-check-compat",[lT]:"fire-auth",[oT]:"fire-auth-compat",[cT]:"fire-rtdb",[uT]:"fire-data-connect",[fT]:"fire-rtdb-compat",[hT]:"fire-fn",[dT]:"fire-fn-compat",[mT]:"fire-iid",[pT]:"fire-iid-compat",[gT]:"fire-fcm",[_T]:"fire-fcm-compat",[yT]:"fire-perf",[vT]:"fire-perf-compat",[ST]:"fire-rc",[ET]:"fire-rc-compat",[bT]:"fire-gcs",[TT]:"fire-gcs-compat",[wT]:"fire-fst",[AT]:"fire-fst-compat",[CT]:"fire-vertex","fire-js":"fire-js",[NT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Map,OT=new Map,sh=new Map;function d_(s,t){try{s.container.addComponent(t)}catch(i){Yn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ga(s){const t=s.name;if(sh.has(t))return Yn.debug(`There were multiple attempts to register component ${t}.`),!1;sh.set(t,s);for(const i of Mo.values())d_(i,s);for(const i of OT.values())d_(i,s);return!0}function Nh(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function tn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new Kr("app","Firebase",IT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=RT;function Iy(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:ih,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Ri.create("bad-app-name",{appName:String(o)});if(i||(i=Ty()),!i)throw Ri.create("no-options");const u=Mo.get(o);if(u){if(os(i,u.options)&&os(r,u.config))return u;throw Ri.create("duplicate-app",{appName:o})}const h=new Hb(o);for(const g of sh.values())h.addComponent(g);const m=new MT(i,r,h);return Mo.set(o,m),m}function My(s=ih){const t=Mo.get(s);if(!t&&s===ih&&Ty())return Iy();if(!t)throw Ri.create("no-app",{appName:s});return t}function Di(s,t,i){let r=DT[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yn.warn(h.join(" "));return}ga(new cs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firebase-heartbeat-database",kT=1,Pr="firebase-heartbeat-store";let Vf=null;function xy(){return Vf||(Vf=Zb(xT,kT,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Pr)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ri.create("idb-open",{originalErrorMessage:s.message})})),Vf}async function UT(s){try{const i=(await xy()).transaction(Pr),r=await i.objectStore(Pr).get(ky(s));return await i.done,r}catch(t){if(t instanceof zi)Yn.warn(t.message);else{const i=Ri.create("idb-get",{originalErrorMessage:t?.message});Yn.warn(i.message)}}}async function m_(s,t){try{const r=(await xy()).transaction(Pr,"readwrite");await r.objectStore(Pr).put(t,ky(s)),await r.done}catch(i){if(i instanceof zi)Yn.warn(i.message);else{const r=Ri.create("idb-set",{originalErrorMessage:i?.message});Yn.warn(r.message)}}}function ky(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=1024,zT=30;class HT{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new jT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=p_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>zT){const o=BT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Yn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=p_(),{heartbeatsToSend:i,unsentEntries:r}=PT(this._heartbeatsCache.heartbeats),o=Do(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Yn.warn(t),""}}}function p_(){return new Date().toISOString().substring(0,10)}function PT(s,t=LT){const i=[];let r=s.slice();for(const o of s){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),g_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),g_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class jT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tb()?wb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await UT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return m_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return m_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function g_(s){return Do(JSON.stringify({version:2,heartbeats:s})).length}function BT(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(s){ga(new cs("platform-logger",t=>new eT(t),"PRIVATE")),ga(new cs("heartbeat",t=>new HT(t),"PRIVATE")),Di(nh,h_,s),Di(nh,h_,"esm2020"),Di("fire-js","")}VT("");var qT="firebase",GT="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(qT,GT,"app");var __={};const y_="@firebase/database",v_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uy="";function YT(s){Uy=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ze(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Hr(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Kn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new QT(t)}}catch{}return new FT},as=Ly("localStorage"),XT=Ly("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Ch("@firebase/database"),KT=function(){let s=1;return function(){return s++}}(),zy=function(s){const t=kb(s),i=new Ob;i.update(t);const r=i.digest();return Eh.encodeByteArray(r)},Wr=function(...s){let t="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Wr.apply(null,r):typeof r=="object"?t+=Ze(r):t+=r,t+=" "}return t};let Ir=null,S_=!0;const WT=function(s,t){H(!0,"Can't turn on custom loggers persistently."),ua.logLevel=Ae.VERBOSE,Ir=ua.log.bind(ua)},_t=function(...s){if(S_===!0&&(S_=!1,Ir===null&&XT.get("logging_enabled")===!0&&WT()),Ir){const t=Wr.apply(null,s);Ir(t)}},Zr=function(s){return function(...t){_t(s,...t)}},ah=function(...s){const t="FIREBASE INTERNAL ERROR: "+Wr(...s);ua.error(t)},Qn=function(...s){const t=`FIREBASE FATAL ERROR: ${Wr(...s)}`;throw ua.error(t),new Error(t)},Ot=function(...s){const t="FIREBASE WARNING: "+Wr(...s);ua.warn(t)},ZT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hy=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},$T=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},_a="[MIN_NAME]",us="[MAX_NAME]",wa=function(s,t){if(s===t)return 0;if(s===_a||t===us)return-1;if(t===_a||s===us)return 1;{const i=E_(s),r=E_(t);return i!==null?r!==null?i-r===0?s.length-t.length:i-r:-1:r!==null?1:s<t?-1:1}},JT=function(s,t){return s===t?0:s<t?-1:1},Ar=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+Ze(t))},Rh=function(s){if(typeof s!="object"||s===null)return Ze(s);const t=[];for(const r in s)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=Ze(t[r]),i+=":",i+=Rh(s[t[r]]);return i+="}",i},Py=function(s,t){const i=s.length;if(i<=t)return[s];const r=[];for(let o=0;o<i;o+=t)o+t>i?r.push(s.substring(o,i)):r.push(s.substring(o,o+t));return r};function It(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const jy=function(s){H(!Hy(s),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let o,u,h,m,g;s===0?(u=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),r),u=m+r,h=Math.round(s*Math.pow(2,i-m)-Math.pow(2,i))):(u=0,h=Math.round(s/Math.pow(2,1-r-i))));const p=[];for(g=i;g;g-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(g=t;g;g-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const S=p.join("");let E="";for(g=0;g<64;g+=8){let y=parseInt(S.substr(g,8),2).toString(16);y.length===1&&(y="0"+y),E=E+y}return E.toLowerCase()},ew=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nw(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const r=new Error(s+" at "+t._path.toString()+": "+i);return r.code=s.toUpperCase(),r}const iw=new RegExp("^-?(0*)\\d{1,10}$"),sw=-2147483648,aw=2147483647,E_=function(s){if(iw.test(s)){const t=Number(s);if(t>=sw&&t<=aw)return t}return null},Ca=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Ot("Exception was thrown by user callback.",i),t},Math.floor(0))}},rw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Mr=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,tn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ot(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ot(t)}}class wo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}wo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="5",By="v",Vy="s",qy="r",Gy="f",Yy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Qy="ls",Fy="p",rh="ac",Xy="websocket",Ky="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(t,i,r,o,u=!1,h="",m=!1,g=!1,p=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=as.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&as.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function cw(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Zy(s,t,i){H(typeof t=="string","typeof type must == string"),H(typeof i=="object","typeof params must == object");let r;if(t===Xy)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Ky)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);cw(s)&&(i.ns=s.namespace);const o=[];return It(i,(u,h)=>{o.push(u+"="+h)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.counters_={}}incrementCounter(t,i=1){Kn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return cb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf={},Gf={};function Oh(s){const t=s.toString();return qf[t]||(qf[t]=new uw),qf[t]}function fw(s,t){const i=s.toString();return Gf[i]||(Gf[i]=t()),Gf[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Ca(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="start",dw="close",mw="pLPCommand",pw="pRTLPCB",$y="id",Jy="pw",ev="ser",gw="cb",_w="seg",yw="ts",vw="d",Sw="dframe",tv=1870,nv=30,Ew=tv-nv,bw=25e3,Tw=3e4;class la{constructor(t,i,r,o,u,h,m){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zr(t),this.stats_=Oh(i),this.urlFn=g=>(this.appCheckToken&&(g[rh]=this.appCheckToken),Zy(i,Ky,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new hw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Tw)),$T(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ih((...u)=>{const[h,m,g,p,S]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===b_)this.id=m,this.password=g;else if(h===dw)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[b_]="t",r[ev]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[gw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[By]=Dh,this.transportSessionId&&(r[Vy]=this.transportSessionId),this.lastSessionId&&(r[Qy]=this.lastSessionId),this.applicationId&&(r[Fy]=this.applicationId),this.appCheckToken&&(r[rh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Yy.test(location.hostname)&&(r[qy]=Gy);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){la.forceAllow_=!0}static forceDisallow(){la.forceDisallow_=!0}static isAvailable(){return la.forceAllow_?!0:!la.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ew()&&!tw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Ze(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Sy(i),o=Py(r,Ew);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[Sw]="t",r[$y]=t,r[Jy]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Ze(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Ih{constructor(t,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=KT(),window[mw+this.uniqueCallbackIdentifier]=t,window[pw+this.uniqueCallbackIdentifier]=i,this.myIFrame=Ih.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){_t("frame writing exception"),m.stack&&_t(m.stack),_t(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||_t("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[$y]=this.myID,t[Jy]=this.myPW,t[ev]=this.currentSerial;let i=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+nv+r.length<=tv;){const h=this.pendingSegs.shift();r=r+"&"+_w+o+"="+h.seg+"&"+yw+o+"="+h.ts+"&"+vw+o+"="+h.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(bw)),u=()=>{clearTimeout(o),r()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{_t("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=16384,Cw=45e3;let xo=null;typeof MozWebSocket<"u"?xo=MozWebSocket:typeof WebSocket<"u"&&(xo=WebSocket);class nn{constructor(t,i,r,o,u,h,m){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zr(this.connId),this.stats_=Oh(i),this.connURL=nn.connectionURL_(i,h,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,u){const h={};return h[By]=Dh,typeof location<"u"&&location.hostname&&Yy.test(location.hostname)&&(h[qy]=Gy),i&&(h[Vy]=i),r&&(h[Qy]=r),o&&(h[rh]=o),u&&(h[Fy]=u),Zy(t,Xy,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,as.set("previous_websocket_failure",!0);try{let r;bb(),this.mySock=new xo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){nn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&xo!==null&&!nn.forceDisallow_}static previouslyFailed(){return as.isInMemoryStorage||as.get("previous_websocket_failure")===!0}markConnectionHealthy(){as.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Hr(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(H(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Ze(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Py(i,ww);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Cw))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nn.responsesRequiredToBeHealthy=2;nn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{static get ALL_TRANSPORTS(){return[la,nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=nn&&nn.isAvailable();let r=i&&!nn.previouslyFailed();if(t.webSocketOnly&&(i||Ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[nn];else{const o=this.transports_=[];for(const u of jr.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);jr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}jr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=6e4,Nw=5e3,Rw=10*1024,Dw=100*1024,Yf="t",T_="d",Ow="s",w_="r",Iw="e",C_="o",A_="a",N_="n",R_="p",Mw="h";class xw{constructor(t,i,r,o,u,h,m,g,p,S){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zr("c:"+this.id+":"),this.transportManager_=new jr(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Mr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Dw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Rw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Yf in t){const i=t[Yf];i===A_?this.upgradeIfSecondaryHealthy_():i===w_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===C_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=Ar("t",t),r=Ar("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:R_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:A_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:N_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=Ar("t",t),r=Ar("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=Ar(Yf,t);if(T_ in t){const r=t[T_];if(i===Mw){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===N_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Ow?this.onConnectionShutdown_(r):i===w_?this.onReset_(r):i===Iw?ah("Server Error: "+r):i===C_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ah("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Dh!==r&&Ot("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Mr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Aw))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Nw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:R_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(as.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{put(t,i,r,o){}merge(t,i,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(t){this.allowedEvents_=t,this.listeners_={},H(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const o=this.getInitialEvent(t);o&&i.apply(r,o)}off(t,i,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(t){H(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends sv{static getInstance(){return new ko}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Th()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return H(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=32,O_=768;class De{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ge(){return new De("")}function oe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function xi(s){return s.pieces_.length-s.pieceNum_}function Me(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new De(s.pieces_,t)}function av(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function kw(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function rv(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function lv(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new De(t,0)}function $e(s,t){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(t instanceof De)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new De(i,0)}function he(s){return s.pieceNum_>=s.pieces_.length}function Et(s,t){const i=oe(s),r=oe(t);if(i===null)return t;if(i===r)return Et(Me(s),Me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function Mh(s,t){if(xi(s)!==xi(t))return!1;for(let i=s.pieceNum_,r=t.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==t.pieces_[r])return!1;return!0}function sn(s,t){let i=s.pieceNum_,r=t.pieceNum_;if(xi(s)>xi(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class Uw{constructor(t,i){this.errorPrefix_=i,this.parts_=rv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ec(this.parts_[r]);ov(this)}}function Lw(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=ec(t),ov(s)}function zw(s){const t=s.parts_.pop();s.byteLength_-=ec(t),s.parts_.length>0&&(s.byteLength_-=1)}function ov(s){if(s.byteLength_>O_)throw new Error(s.errorPrefix_+"has a key path longer than "+O_+" bytes ("+s.byteLength_+").");if(s.parts_.length>D_)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+D_+") or object contains a cycle "+ss(s))}function ss(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends sv{static getInstance(){return new xh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return H(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=1e3,Hw=300*1e3,I_=30*1e3,Pw=1.3,jw=3e4,Bw="server_kill",M_=3;class Gn extends iv{constructor(t,i,r,o,u,h,m,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=Gn.nextPersistentConnectionId_++,this.log_=Zr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Nr,this.maxReconnectDelay_=Hw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&ko.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_(Ze(u)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new Jo,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,r,o){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(h).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},h="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(h,u,m=>{const g=m.d,p=m.s;Gn.warnOnListenWarnings_(g,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Kn(t,"w")){const r=pa(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Ot(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Db(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=I_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=Rb(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,h=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},h="n";o&&(u.q=r,u.t=o),this.sendRequest(h,u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,u){this.initConnection_();const h={p:i,d:r};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ze(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):ah("Unrecognized action received from server: "+Ze(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Nr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jw&&(this.reconnectDelay_=Nr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Pw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Gn.nextConnectionId_++,u=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,r())},p=function(E){H(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(E)};this.realtime_={close:g,sendRequest:p};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,y]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);h?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=y&&y.token,m=new xw(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,k=>{Ot(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(Bw)},u))}catch(E){this.log_("Failed to get token: "+E),h||(this.repoInfo_.nodeAdmin&&Ot(E),g())}}}interrupt(t){_t("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){_t("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Jf(this.interruptReasons_)&&(this.reconnectDelay_=Nr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(u=>Rh(u)).join("$"):r="default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new De(t).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){_t("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=M_&&(this.reconnectDelay_=I_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){_t("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=M_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Uy.replace(/\./g,"-")]=1,Th()?t["framework.cordova"]=1:Ny()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=ko.getInstance().currentlyOnline();return Jf(this.interruptReasons_)&&t}}Gn.nextPersistentConnectionId_=0;Gn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new ce(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new ce(_a,t),o=new ce(_a,i);return this.compare(r,o)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo;class cv extends tc{static get __EMPTY_NODE(){return Eo}static set __EMPTY_NODE(t){Eo=t}compare(t,i){return wa(t.name,i.name)}isDefinedOn(t){throw Sa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return ce.MIN}maxPost(){return new ce(us,Eo)}makePost(t,i){return H(typeof t=="string","KeyIndex indexValue must always be a string."),new ce(t,Eo)}toString(){return".key"}}const fa=new cv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?r(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class at{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??at.RED,this.left=o??Dt.EMPTY_NODE,this.right=u??Dt.EMPTY_NODE}copy(t,i,r,o,u){return new at(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return Dt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class Vw{copy(t,i,r,o,u){return this}insert(t,i,r){return new at(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dt{constructor(t,i=Dt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Dt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(t){return new Dt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,at.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new bo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new bo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new bo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new bo(this.root_,null,this.comparator_,!0,t)}}Dt.EMPTY_NODE=new Vw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(s,t){return wa(s.name,t.name)}function kh(s,t){return wa(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh;function Gw(s){lh=s}const uv=function(s){return typeof s=="number"?"number:"+jy(s):"string:"+s},fv=function(s){if(s.isLeafNode()){const t=s.val();H(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Kn(t,".sv"),"Priority must be a string or number.")}else H(s===lh||s.isEmpty(),"priority of unexpected type.");H(s===lh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x_;class st{static set __childrenNodeConstructor(t){x_=t}static get __childrenNodeConstructor(){return x_}constructor(t,i=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new st(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return he(t)?this:oe(t)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=oe(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(H(r!==".priority"||xi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+uv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=jy(this.value_):t+=this.value_,this.lazyHash_=zy(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===st.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof st.__childrenNodeConstructor?-1:(H(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(i),u=st.VALUE_TYPE_ORDER.indexOf(r);return H(o>=0,"Unknown leaf type: "+i),H(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hv,dv;function Yw(s){hv=s}function Qw(s){dv=s}class Fw extends tc{compare(t,i){const r=t.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?wa(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(us,new st("[PRIORITY-POST]",dv))}makePost(t,i){const r=hv(t);return new ce(i,new st("[PRIORITY-POST]",r))}toString(){return".priority"}}const Be=new Fw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=Math.log(2);class Kw{constructor(t){const i=u=>parseInt(Math.log(u)/Xw,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Uo=function(s,t,i,r){s.sort(t);const o=function(g,p){const S=p-g;let E,y;if(S===0)return null;if(S===1)return E=s[g],y=i?i(E):E,new at(y,E.node,at.BLACK,null,null);{const k=parseInt(S/2,10)+g,z=o(g,k),W=o(k+1,p);return E=s[k],y=i?i(E):E,new at(y,E.node,at.BLACK,z,W)}},u=function(g){let p=null,S=null,E=s.length;const y=function(z,W){const ne=E-z,ke=E;E-=z;const Ue=o(ne+1,ke),ye=s[ne],lt=i?i(ye):ye;k(new at(lt,ye.node,W,null,Ue))},k=function(z){p?(p.left=z,p=z):(S=z,p=z)};for(let z=0;z<g.count;++z){const W=g.nextBitIsOne(),ne=Math.pow(2,g.count-(z+1));W?y(ne,at.BLACK):(y(ne,at.BLACK),y(ne,at.RED))}return S},h=new Kw(s.length),m=u(h);return new Dt(r||t,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf;const aa={};class Bn{static get Default(){return H(aa&&Be,"ChildrenNode.ts has not been loaded"),Qf=Qf||new Bn({".priority":aa},{".priority":Be}),Qf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=pa(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Dt?i:null}hasIndex(t){return Kn(this.indexSet_,t.toString())}addIndex(t,i){H(t!==fa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(ce.Wrap);let h=u.getNext();for(;h;)o=o||t.isDefinedOn(h.node),r.push(h),h=u.getNext();let m;o?m=Uo(r,t.getCompare()):m=aa;const g=t.toString(),p={...this.indexSet_};p[g]=t;const S={...this.indexes_};return S[g]=m,new Bn(S,p)}addToIndexes(t,i){const r=Io(this.indexes_,(o,u)=>{const h=pa(this.indexSet_,u);if(H(h,"Missing index implementation for "+u),o===aa)if(h.isDefinedOn(t.node)){const m=[],g=i.getIterator(ce.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&m.push(p),p=g.getNext();return m.push(t),Uo(m,h.getCompare())}else return aa;else{const m=i.get(t.name);let g=o;return m&&(g=g.remove(new ce(t.name,m))),g.insert(t,t.node)}});return new Bn(r,this.indexSet_)}removeFromIndexes(t,i){const r=Io(this.indexes_,o=>{if(o===aa)return o;{const u=i.get(t.name);return u?o.remove(new ce(t.name,u)):o}});return new Bn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr;class Z{static get EMPTY_NODE(){return Rr||(Rr=new Z(new Dt(kh),null,Bn.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&fv(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Rr}updatePriority(t){return this.children_.isEmpty()?this:new Z(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Rr:i}}getChild(t){const i=oe(t);return i===null?this:this.getImmediateChild(i).getChild(Me(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(H(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new ce(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?Rr:this.priorityNode_;return new Z(o,h,u)}}updateChild(t,i){const r=oe(t);if(r===null)return i;{H(oe(t)!==".priority"||xi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Me(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(Be,(h,m)=>{i[h]=m.val(t),r++,u&&Z.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!t&&u&&o<2*r){const h=[];for(const m in i)h[m]=i[m];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+uv(this.getPriority().val())+":"),this.forEachChild(Be,(i,r)=>{const o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":zy(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new ce(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ce(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ce(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,ce.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,ce.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===$r?-1:0}withIndex(t){if(t===fa||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new Z(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===fa||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Be),o=i.getIterator(Be);let u=r.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=r.getNext(),h=o.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===fa?null:this.indexMap_.get(t.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Ww extends Z{constructor(){super(new Dt(kh),Z.EMPTY_NODE,Bn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Z.EMPTY_NODE}isEmpty(){return!1}}const $r=new Ww;Object.defineProperties(ce,{MIN:{value:new ce(_a,Z.EMPTY_NODE)},MAX:{value:new ce(us,$r)}});cv.__EMPTY_NODE=Z.EMPTY_NODE;st.__childrenNodeConstructor=Z;Gw($r);Qw($r);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=!0;function rt(s,t=null){if(s===null)return Z.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),H(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new st(i,rt(t))}if(!(s instanceof Array)&&Zw){const i=[];let r=!1;if(It(s,(h,m)=>{if(h.substring(0,1)!=="."){const g=rt(m);g.isEmpty()||(r=r||!g.getPriority().isEmpty(),i.push(new ce(h,g)))}}),i.length===0)return Z.EMPTY_NODE;const u=Uo(i,qw,h=>h.name,kh);if(r){const h=Uo(i,Be.getCompare());return new Z(u,rt(t),new Bn({".priority":h},{".priority":Be}))}else return new Z(u,rt(t),Bn.Default)}else{let i=Z.EMPTY_NODE;return It(s,(r,o)=>{if(Kn(s,r)&&r.substring(0,1)!=="."){const u=rt(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(rt(t))}}Yw(rt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w extends tc{constructor(t){super(),this.indexPath_=t,H(!he(t)&&oe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?wa(t.name,i.name):u}makePost(t,i){const r=rt(t),o=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new ce(i,o)}maxPost(){const t=Z.EMPTY_NODE.updateChild(this.indexPath_,$r);return new ce(us,t)}toString(){return rv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw extends tc{compare(t,i){const r=t.node.compareTo(i.node);return r===0?wa(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(t,i){const r=rt(t);return new ce(i,r)}toString(){return".value"}}const eC=new Jw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(s){return{type:"value",snapshotNode:s}}function ya(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function Br(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Vr(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function tC(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t){this.index_=t}updateChild(t,i,r,o,u,h){H(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(r.getChild(o))&&m.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?t.hasChild(i)?h.trackChildChange(Br(i,m)):H(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(ya(i,r)):h.trackChildChange(Vr(i,r,m))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(t,i,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Be,(o,u)=>{i.hasChild(o)||r.trackChildChange(Br(o,u))}),i.isLeafNode()||i.forEachChild(Be,(o,u)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(u)||r.trackChildChange(Vr(o,u,h))}else r.trackChildChange(ya(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?Z.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t){this.indexedFilter_=new Uh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=qr.getStartPost_(t),this.endPost_=qr.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&r}updateChild(t,i,r,o,u,h){return this.matches(new ce(i,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,r,o,u,h)}updateFullNode(t,i,r){i.isLeafNode()&&(i=Z.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(Z.EMPTY_NODE);const u=this;return i.forEachChild(Be,(h,m)=>{u.matches(new ce(h,m))||(o=o.updateImmediateChild(h,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new qr(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,r,o,u,h){return this.rangedFilter_.matches(new ce(i,r))||(r=Z.EMPTY_NODE),t.getImmediateChild(i).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,r,o,u,h):this.fullLimitUpdateChild_(t,i,r,u,h)}updateFullNode(t,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=Z.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const m=u.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(Z.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let h=0;for(;u.hasNext();){const m=u.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,r,o,u){let h;if(this.reverse_){const E=this.index_.getCompare();h=(y,k)=>E(k,y)}else h=this.index_.getCompare();const m=t;H(m.numChildren()===this.limit_,"");const g=new ce(i,r),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(g);if(m.hasChild(i)){const E=m.getImmediateChild(i);let y=o.getChildAfterChild(this.index_,p,this.reverse_);for(;y!=null&&(y.name===i||m.hasChild(y.name));)y=o.getChildAfterChild(this.index_,y,this.reverse_);const k=y==null?1:h(y,g);if(S&&!r.isEmpty()&&k>=0)return u?.trackChildChange(Vr(i,r,E)),m.updateImmediateChild(i,r);{u?.trackChildChange(Br(i,E));const W=m.updateImmediateChild(i,Z.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(u?.trackChildChange(ya(y.name,y.node)),W.updateImmediateChild(y.name,y.node)):W}}else return r.isEmpty()?t:S&&h(p,g)>=0?(u!=null&&(u.trackChildChange(Br(p.name,p.node)),u.trackChildChange(ya(i,r))),m.updateImmediateChild(i,r).updateImmediateChild(p.name,Z.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_a}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Be}copy(){const t=new Lh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function iC(s){return s.loadsAllData()?new Uh(s.getIndex()):s.hasLimit()?new nC(s):new qr(s)}function k_(s){const t={};if(s.isDefault())return t;let i;if(s.index_===Be?i="$priority":s.index_===eC?i="$value":s.index_===fa?i="$key":(H(s.index_ instanceof $w,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=Ze(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";t[r]=Ze(s.indexStartValue_),s.startNameSet_&&(t[r]+=","+Ze(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";t[r]=Ze(s.indexEndValue_),s.endNameSet_&&(t[r]+=","+Ze(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function U_(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==Be&&(t.i=s.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends iv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(H(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Zr("p:rest:"),this.listens_={}}listen(t,i,r,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const h=Lo.getListenId_(t,r),m={};this.listens_[h]=m;const g=k_(t._queryParams);this.restRequest_(u+".json",g,(p,S)=>{let E=S;if(p===404&&(E=null,p=null),p===null&&this.onDataUpdate_(u,E,!1,r),pa(this.listens_,h)===m){let y;p?p===401?y="permission_denied":y="rest_error:"+p:y="ok",o(y,null)}})}unlisten(t,i){const r=Lo.getListenId_(t,i);delete this.listens_[r]}get(t){const i=k_(t._queryParams),r=t._path.toString(),o=new Jo;return this.restRequest_(r+".json",i,(u,h)=>{let m=h;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(r,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ba(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=Hr(m.responseText)}catch{Ot("Failed to parse JSON response for "+h+": "+m.responseText)}r(null,g)}else m.status!==401&&m.status!==404&&Ot("Got unsuccessful REST response for "+h+" Status: "+m.status),r(m.status);r=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(){return{value:null,children:new Map}}function pv(s,t,i){if(he(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const r=oe(t);s.children.has(r)||s.children.set(r,zo());const o=s.children.get(r);t=Me(t),pv(o,t,i)}}function oh(s,t,i){s.value!==null?i(t,s.value):aC(s,(r,o)=>{const u=new De(t.toString()+"/"+r);oh(o,u,i)})}function aC(s,t){s.children.forEach((i,r)=>{t(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&It(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=10*1e3,lC=30*1e3,oC=300*1e3;class cC{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new rC(t);const r=L_+(lC-L_)*Math.random();Mr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;It(t,(o,u)=>{u>0&&Kn(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),Mr(this.reportStats_.bind(this),Math.floor(Math.random()*2*oC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(an||(an={}));function gv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function zh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Hh(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=an.ACK_USER_WRITE,this.source=gv()}operationForChild(t){if(he(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new De(t));return new Ho(ge(),i,this.revert)}}else return H(oe(this.path)===t,"operationForChild called for unrelated child."),new Ho(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,i){this.source=t,this.path=i,this.type=an.LISTEN_COMPLETE}operationForChild(t){return he(this.path)?new Gr(this.source,ge()):new Gr(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=an.OVERWRITE}operationForChild(t){return he(this.path)?new fs(this.source,ge(),this.snap.getImmediateChild(t)):new fs(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=an.MERGE}operationForChild(t){if(he(this.path)){const i=this.children.subtree(new De(t));return i.isEmpty()?null:i.value?new fs(this.source,ge(),i.value):new Yr(this.source,ge(),i)}else return H(oe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Yr(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(he(t))return this.isFullyInitialized()&&!this.filtered_;const i=oe(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function fC(s,t,i,r){const o=[],u=[];return t.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(tC(h.childName,h.snapshotNode))}),Dr(s,o,"child_removed",t,r,i),Dr(s,o,"child_added",t,r,i),Dr(s,o,"child_moved",u,r,i),Dr(s,o,"child_changed",t,r,i),Dr(s,o,"value",t,r,i),o}function Dr(s,t,i,r,o,u){const h=r.filter(m=>m.type===i);h.sort((m,g)=>dC(s,m,g)),h.forEach(m=>{const g=hC(s,m,u);o.forEach(p=>{p.respondsTo(m.type)&&t.push(p.createEvent(g,s.query_))})})}function hC(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function dC(s,t,i){if(t.childName==null||i.childName==null)throw Sa("Should only compare child_ events.");const r=new ce(t.childName,t.snapshotNode),o=new ce(i.childName,i.snapshotNode);return s.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(s,t){return{eventCache:s,serverCache:t}}function xr(s,t,i,r){return nc(new ki(t,i,r),s.serverCache)}function _v(s,t,i,r){return nc(s.eventCache,new ki(t,i,r))}function Po(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function hs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff;const mC=()=>(Ff||(Ff=new Dt(JT)),Ff);class xe{static fromObject(t){let i=new xe(null);return It(t,(r,o)=>{i=i.set(new De(r),o)}),i}constructor(t,i=mC()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ge(),value:this.value};if(he(t))return null;{const r=oe(t),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Me(t),i);return u!=null?{path:$e(new De(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(he(t))return this;{const i=oe(t),r=this.children.get(i);return r!==null?r.subtree(Me(t)):new xe(null)}}set(t,i){if(he(t))return new xe(i,this.children);{const r=oe(t),u=(this.children.get(r)||new xe(null)).set(Me(t),i),h=this.children.insert(r,u);return new xe(this.value,h)}}remove(t){if(he(t))return this.children.isEmpty()?new xe(null):new xe(null,this.children);{const i=oe(t),r=this.children.get(i);if(r){const o=r.remove(Me(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new xe(null):new xe(this.value,u)}else return this}}get(t){if(he(t))return this.value;{const i=oe(t),r=this.children.get(i);return r?r.get(Me(t)):null}}setTree(t,i){if(he(t))return i;{const r=oe(t),u=(this.children.get(r)||new xe(null)).setTree(Me(t),i);let h;return u.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,u),new xe(this.value,h)}}fold(t){return this.fold_(ge(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_($e(t,o),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,ge(),i)}findOnPath_(t,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(he(t))return null;{const u=oe(t),h=this.children.get(u);return h?h.findOnPath_(Me(t),$e(i,u),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ge(),i)}foreachOnPath_(t,i,r){if(he(t))return this;{this.value&&r(i,this.value);const o=oe(t),u=this.children.get(o);return u?u.foreachOnPath_(Me(t),$e(i,o),r):new xe(null)}}foreach(t){this.foreach_(ge(),t)}foreach_(t,i){this.children.inorderTraversal((r,o)=>{o.foreach_($e(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.writeTree_=t}static empty(){return new ln(new xe(null))}}function kr(s,t,i){if(he(t))return new ln(new xe(i));{const r=s.writeTree_.findRootMostValueAndPath(t);if(r!=null){const o=r.path;let u=r.value;const h=Et(o,t);return u=u.updateChild(h,i),new ln(s.writeTree_.set(o,u))}else{const o=new xe(i),u=s.writeTree_.setTree(t,o);return new ln(u)}}}function z_(s,t,i){let r=s;return It(i,(o,u)=>{r=kr(r,$e(t,o),u)}),r}function H_(s,t){if(he(t))return ln.empty();{const i=s.writeTree_.setTree(t,new xe(null));return new ln(i)}}function ch(s,t){return ms(s,t)!=null}function ms(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(Et(i.path,t)):null}function P_(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Be,(r,o)=>{t.push(new ce(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new ce(r,o.value))}),t}function Oi(s,t){if(he(t))return s;{const i=ms(s,t);return i!=null?new ln(new xe(i)):new ln(s.writeTree_.subtree(t))}}function uh(s){return s.writeTree_.isEmpty()}function va(s,t){return yv(ge(),s.writeTree_,t)}function yv(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let r=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(H(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=yv($e(s,o),u,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild($e(s,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(s,t){return bv(t,s)}function pC(s,t,i,r,o){H(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:r,visible:o}),o&&(s.visibleWrites=kr(s.visibleWrites,t,i)),s.lastWriteId=r}function gC(s,t){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===t)return r}return null}function _C(s,t){const i=s.allWrites.findIndex(m=>m.writeId===t);H(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let o=r.visible,u=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const m=s.allWrites[h];m.visible&&(h>=i&&yC(m,r.path)?o=!1:sn(r.path,m.path)&&(u=!0)),h--}if(o){if(u)return vC(s),!0;if(r.snap)s.visibleWrites=H_(s.visibleWrites,r.path);else{const m=r.children;It(m,g=>{s.visibleWrites=H_(s.visibleWrites,$e(r.path,g))})}return!0}else return!1}function yC(s,t){if(s.snap)return sn(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&sn($e(s.path,i),t))return!0;return!1}function vC(s){s.visibleWrites=vv(s.allWrites,SC,ge()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function SC(s){return s.visible}function vv(s,t,i){let r=ln.empty();for(let o=0;o<s.length;++o){const u=s[o];if(t(u)){const h=u.path;let m;if(u.snap)sn(i,h)?(m=Et(i,h),r=kr(r,m,u.snap)):sn(h,i)&&(m=Et(h,i),r=kr(r,ge(),u.snap.getChild(m)));else if(u.children){if(sn(i,h))m=Et(i,h),r=z_(r,m,u.children);else if(sn(h,i))if(m=Et(h,i),he(m))r=z_(r,ge(),u.children);else{const g=pa(u.children,oe(m));if(g){const p=g.getChild(Me(m));r=kr(r,ge(),p)}}}else throw Sa("WriteRecord should have .snap or .children")}}return r}function Sv(s,t,i,r,o){if(!r&&!o){const u=ms(s.visibleWrites,t);if(u!=null)return u;{const h=Oi(s.visibleWrites,t);if(uh(h))return i;if(i==null&&!ch(h,ge()))return null;{const m=i||Z.EMPTY_NODE;return va(h,m)}}}else{const u=Oi(s.visibleWrites,t);if(!o&&uh(u))return i;if(!o&&i==null&&!ch(u,ge()))return null;{const h=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(sn(p.path,t)||sn(t,p.path))},m=vv(s.allWrites,h,t),g=i||Z.EMPTY_NODE;return va(m,g)}}}function EC(s,t,i){let r=Z.EMPTY_NODE;const o=ms(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Be,(u,h)=>{r=r.updateImmediateChild(u,h)}),r;if(i){const u=Oi(s.visibleWrites,t);return i.forEachChild(Be,(h,m)=>{const g=va(Oi(u,new De(h)),m);r=r.updateImmediateChild(h,g)}),P_(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const u=Oi(s.visibleWrites,t);return P_(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function bC(s,t,i,r,o){H(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=$e(t,i);if(ch(s.visibleWrites,u))return null;{const h=Oi(s.visibleWrites,u);return uh(h)?o.getChild(i):va(h,o.getChild(i))}}function TC(s,t,i,r){const o=$e(t,i),u=ms(s.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const h=Oi(s.visibleWrites,o);return va(h,r.getNode().getImmediateChild(i))}else return null}function wC(s,t){return ms(s.visibleWrites,t)}function CC(s,t,i,r,o,u,h){let m;const g=Oi(s.visibleWrites,t),p=ms(g,ge());if(p!=null)m=p;else if(i!=null)m=va(g,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const S=[],E=h.getCompare(),y=u?m.getReverseIteratorFrom(r,h):m.getIteratorFrom(r,h);let k=y.getNext();for(;k&&S.length<o;)E(k,r)!==0&&S.push(k),k=y.getNext();return S}else return[]}function AC(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function jo(s,t,i,r){return Sv(s.writeTree,s.treePath,t,i,r)}function Ph(s,t){return EC(s.writeTree,s.treePath,t)}function j_(s,t,i,r){return bC(s.writeTree,s.treePath,t,i,r)}function Bo(s,t){return wC(s.writeTree,$e(s.treePath,t))}function NC(s,t,i,r,o,u){return CC(s.writeTree,s.treePath,t,i,r,o,u)}function jh(s,t,i){return TC(s.writeTree,s.treePath,t,i)}function Ev(s,t){return bv($e(s.treePath,t),s.writeTree)}function bv(s,t){return{treePath:s,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;H(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),H(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,Vr(r,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,Br(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,ya(r,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,Vr(r,t.snapshotNode,o.oldSnap));else throw Sa("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const Tv=new DC;class Bh{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ki(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jh(this.writes_,t,r)}}getChildAfterChild(t,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hs(this.viewCache_),u=NC(this.writes_,o,i,1,r,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(s){return{filter:s}}function IC(s,t){H(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),H(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function MC(s,t,i,r,o){const u=new RC;let h,m;if(i.type===an.OVERWRITE){const p=i;p.source.fromUser?h=fh(s,t,p.path,p.snap,r,o,u):(H(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered()&&!he(p.path),h=Vo(s,t,p.path,p.snap,r,o,m,u))}else if(i.type===an.MERGE){const p=i;p.source.fromUser?h=kC(s,t,p.path,p.children,r,o,u):(H(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered(),h=hh(s,t,p.path,p.children,r,o,m,u))}else if(i.type===an.ACK_USER_WRITE){const p=i;p.revert?h=zC(s,t,p.path,r,o,u):h=UC(s,t,p.path,p.affectedTree,r,o,u)}else if(i.type===an.LISTEN_COMPLETE)h=LC(s,t,i.path,r,u);else throw Sa("Unknown operation type: "+i.type);const g=u.getChanges();return xC(t,h,g),{viewCache:h,changes:g}}function xC(s,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Po(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(mv(Po(t)))}}function wv(s,t,i,r,o,u){const h=t.eventCache;if(Bo(r,i)!=null)return t;{let m,g;if(he(i))if(H(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=hs(t),S=p instanceof Z?p:Z.EMPTY_NODE,E=Ph(r,S);m=s.filter.updateFullNode(t.eventCache.getNode(),E,u)}else{const p=jo(r,hs(t));m=s.filter.updateFullNode(t.eventCache.getNode(),p,u)}else{const p=oe(i);if(p===".priority"){H(xi(i)===1,"Can't have a priority with additional path components");const S=h.getNode();g=t.serverCache.getNode();const E=j_(r,i,S,g);E!=null?m=s.filter.updatePriority(S,E):m=h.getNode()}else{const S=Me(i);let E;if(h.isCompleteForChild(p)){g=t.serverCache.getNode();const y=j_(r,i,h.getNode(),g);y!=null?E=h.getNode().getImmediateChild(p).updateChild(S,y):E=h.getNode().getImmediateChild(p)}else E=jh(r,p,t.serverCache);E!=null?m=s.filter.updateChild(h.getNode(),p,E,S,o,u):m=h.getNode()}}return xr(t,m,h.isFullyInitialized()||he(i),s.filter.filtersNodes())}}function Vo(s,t,i,r,o,u,h,m){const g=t.serverCache;let p;const S=h?s.filter:s.filter.getIndexedFilter();if(he(i))p=S.updateFullNode(g.getNode(),r,null);else if(S.filtersNodes()&&!g.isFiltered()){const k=g.getNode().updateChild(i,r);p=S.updateFullNode(g.getNode(),k,null)}else{const k=oe(i);if(!g.isCompleteForPath(i)&&xi(i)>1)return t;const z=Me(i),ne=g.getNode().getImmediateChild(k).updateChild(z,r);k===".priority"?p=S.updatePriority(g.getNode(),ne):p=S.updateChild(g.getNode(),k,ne,z,Tv,null)}const E=_v(t,p,g.isFullyInitialized()||he(i),S.filtersNodes()),y=new Bh(o,E,u);return wv(s,E,i,o,y,m)}function fh(s,t,i,r,o,u,h){const m=t.eventCache;let g,p;const S=new Bh(o,t,u);if(he(i))p=s.filter.updateFullNode(t.eventCache.getNode(),r,h),g=xr(t,p,!0,s.filter.filtersNodes());else{const E=oe(i);if(E===".priority")p=s.filter.updatePriority(t.eventCache.getNode(),r),g=xr(t,p,m.isFullyInitialized(),m.isFiltered());else{const y=Me(i),k=m.getNode().getImmediateChild(E);let z;if(he(y))z=r;else{const W=S.getCompleteChild(E);W!=null?av(y)===".priority"&&W.getChild(lv(y)).isEmpty()?z=W:z=W.updateChild(y,r):z=Z.EMPTY_NODE}if(k.equals(z))g=t;else{const W=s.filter.updateChild(m.getNode(),E,z,y,S,h);g=xr(t,W,m.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function B_(s,t){return s.eventCache.isCompleteForChild(t)}function kC(s,t,i,r,o,u,h){let m=t;return r.foreach((g,p)=>{const S=$e(i,g);B_(t,oe(S))&&(m=fh(s,m,S,p,o,u,h))}),r.foreach((g,p)=>{const S=$e(i,g);B_(t,oe(S))||(m=fh(s,m,S,p,o,u,h))}),m}function V_(s,t,i){return i.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function hh(s,t,i,r,o,u,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;he(i)?p=r:p=new xe(null).setTree(i,r);const S=t.serverCache.getNode();return p.children.inorderTraversal((E,y)=>{if(S.hasChild(E)){const k=t.serverCache.getNode().getImmediateChild(E),z=V_(s,k,y);g=Vo(s,g,new De(E),z,o,u,h,m)}}),p.children.inorderTraversal((E,y)=>{const k=!t.serverCache.isCompleteForChild(E)&&y.value===null;if(!S.hasChild(E)&&!k){const z=t.serverCache.getNode().getImmediateChild(E),W=V_(s,z,y);g=Vo(s,g,new De(E),W,o,u,h,m)}}),g}function UC(s,t,i,r,o,u,h){if(Bo(o,i)!=null)return t;const m=t.serverCache.isFiltered(),g=t.serverCache;if(r.value!=null){if(he(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return Vo(s,t,i,g.getNode().getChild(i),o,u,m,h);if(he(i)){let p=new xe(null);return g.getNode().forEachChild(fa,(S,E)=>{p=p.set(new De(S),E)}),hh(s,t,i,p,o,u,m,h)}else return t}else{let p=new xe(null);return r.foreach((S,E)=>{const y=$e(i,S);g.isCompleteForPath(y)&&(p=p.set(S,g.getNode().getChild(y)))}),hh(s,t,i,p,o,u,m,h)}}function LC(s,t,i,r,o){const u=t.serverCache,h=_v(t,u.getNode(),u.isFullyInitialized()||he(i),u.isFiltered());return wv(s,h,i,r,Tv,o)}function zC(s,t,i,r,o,u){let h;if(Bo(r,i)!=null)return t;{const m=new Bh(r,t,o),g=t.eventCache.getNode();let p;if(he(i)||oe(i)===".priority"){let S;if(t.serverCache.isFullyInitialized())S=jo(r,hs(t));else{const E=t.serverCache.getNode();H(E instanceof Z,"serverChildren would be complete if leaf node"),S=Ph(r,E)}S=S,p=s.filter.updateFullNode(g,S,u)}else{const S=oe(i);let E=jh(r,S,t.serverCache);E==null&&t.serverCache.isCompleteForChild(S)&&(E=g.getImmediateChild(S)),E!=null?p=s.filter.updateChild(g,S,E,Me(i),m,u):t.eventCache.getNode().hasChild(S)?p=s.filter.updateChild(g,S,Z.EMPTY_NODE,Me(i),m,u):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=jo(r,hs(t)),h.isLeafNode()&&(p=s.filter.updateFullNode(p,h,u)))}return h=t.serverCache.isFullyInitialized()||Bo(r,ge())!=null,xr(t,p,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Uh(r.getIndex()),u=iC(r);this.processor_=OC(u);const h=i.serverCache,m=i.eventCache,g=o.updateFullNode(Z.EMPTY_NODE,h.getNode(),null),p=u.updateFullNode(Z.EMPTY_NODE,m.getNode(),null),S=new ki(g,h.isFullyInitialized(),o.filtersNodes()),E=new ki(p,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=nc(E,S),this.eventGenerator_=new uC(this.query_)}get query(){return this.query_}}function PC(s){return s.viewCache_.serverCache.getNode()}function jC(s){return Po(s.viewCache_)}function BC(s,t){const i=hs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!he(t)&&!i.getImmediateChild(oe(t)).isEmpty())?i.getChild(t):null}function q_(s){return s.eventRegistrations_.length===0}function VC(s,t){s.eventRegistrations_.push(t)}function G_(s,t,i){const r=[];if(i){H(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(i,o);h&&r.push(h)})}if(t){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const h=s.eventRegistrations_[u];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function Y_(s,t,i,r){t.type===an.MERGE&&t.source.queryId!==null&&(H(hs(s.viewCache_),"We should always have a full cache before handling merges"),H(Po(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=MC(s.processor_,o,t,i,r);return IC(s.processor_,u.viewCache),H(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,Cv(s,u.changes,u.viewCache.eventCache.getNode(),null)}function qC(s,t){const i=s.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Be,(u,h)=>{r.push(ya(u,h))}),i.isFullyInitialized()&&r.push(mv(i.getNode())),Cv(s,r,i.getNode(),t)}function Cv(s,t,i,r){const o=r?[r]:s.eventRegistrations_;return fC(s.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo;class Av{constructor(){this.views=new Map}}function GC(s){H(!qo,"__referenceConstructor has already been defined"),qo=s}function YC(){return H(qo,"Reference.ts has not been loaded"),qo}function QC(s){return s.views.size===0}function Vh(s,t,i,r){const o=t.source.queryId;if(o!==null){const u=s.views.get(o);return H(u!=null,"SyncTree gave us an op for an invalid query."),Y_(u,t,i,r)}else{let u=[];for(const h of s.views.values())u=u.concat(Y_(h,t,i,r));return u}}function Nv(s,t,i,r,o){const u=t._queryIdentifier,h=s.views.get(u);if(!h){let m=jo(i,o?r:null),g=!1;m?g=!0:r instanceof Z?(m=Ph(i,r),g=!1):(m=Z.EMPTY_NODE,g=!1);const p=nc(new ki(m,g,!1),new ki(r,o,!1));return new HC(t,p)}return h}function FC(s,t,i,r,o,u){const h=Nv(s,t,r,o,u);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,h),VC(h,i),qC(h,i)}function XC(s,t,i,r){const o=t._queryIdentifier,u=[];let h=[];const m=Ui(s);if(o==="default")for(const[g,p]of s.views.entries())h=h.concat(G_(p,i,r)),q_(p)&&(s.views.delete(g),p.query._queryParams.loadsAllData()||u.push(p.query));else{const g=s.views.get(o);g&&(h=h.concat(G_(g,i,r)),q_(g)&&(s.views.delete(o),g.query._queryParams.loadsAllData()||u.push(g.query)))}return m&&!Ui(s)&&u.push(new(YC())(t._repo,t._path)),{removed:u,events:h}}function Rv(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Ii(s,t){let i=null;for(const r of s.views.values())i=i||BC(r,t);return i}function Dv(s,t){if(t._queryParams.loadsAllData())return sc(s);{const r=t._queryIdentifier;return s.views.get(r)}}function Ov(s,t){return Dv(s,t)!=null}function Ui(s){return sc(s)!=null}function sc(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go;function KC(s){H(!Go,"__referenceConstructor has already been defined"),Go=s}function WC(){return H(Go,"Reference.ts has not been loaded"),Go}let ZC=1;class Q_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new xe(null),this.pendingWriteTree_=AC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Iv(s,t,i,r,o){return pC(s.pendingWriteTree_,t,i,r,o),o?el(s,new fs(gv(),t,i)):[]}function rs(s,t,i=!1){const r=gC(s.pendingWriteTree_,t);if(_C(s.pendingWriteTree_,t)){let u=new xe(null);return r.snap!=null?u=u.set(ge(),!0):It(r.children,h=>{u=u.set(new De(h),!0)}),el(s,new Ho(r.path,u,i))}else return[]}function Jr(s,t,i){return el(s,new fs(zh(),t,i))}function $C(s,t,i){const r=xe.fromObject(i);return el(s,new Yr(zh(),t,r))}function JC(s,t){return el(s,new Gr(zh(),t))}function e1(s,t,i){const r=Gh(s,i);if(r){const o=Yh(r),u=o.path,h=o.queryId,m=Et(u,t),g=new Gr(Hh(h),m);return Qh(s,u,g)}else return[]}function Yo(s,t,i,r,o=!1){const u=t._path,h=s.syncPointTree_.get(u);let m=[];if(h&&(t._queryIdentifier==="default"||Ov(h,t))){const g=XC(h,t,i,r);QC(h)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const p=g.removed;if(m=g.events,!o){const S=p.findIndex(y=>y._queryParams.loadsAllData())!==-1,E=s.syncPointTree_.findOnPath(u,(y,k)=>Ui(k));if(S&&!E){const y=s.syncPointTree_.subtree(u);if(!y.isEmpty()){const k=i1(y);for(let z=0;z<k.length;++z){const W=k[z],ne=W.query,ke=Uv(s,W);s.listenProvider_.startListening(Ur(ne),Qr(s,ne),ke.hashFn,ke.onComplete)}}}!E&&p.length>0&&!r&&(S?s.listenProvider_.stopListening(Ur(t),null):p.forEach(y=>{const k=s.queryToTagMap.get(ac(y));s.listenProvider_.stopListening(Ur(y),k)}))}s1(s,p)}return m}function Mv(s,t,i,r){const o=Gh(s,r);if(o!=null){const u=Yh(o),h=u.path,m=u.queryId,g=Et(h,t),p=new fs(Hh(m),g,i);return Qh(s,h,p)}else return[]}function t1(s,t,i,r){const o=Gh(s,r);if(o){const u=Yh(o),h=u.path,m=u.queryId,g=Et(h,t),p=xe.fromObject(i),S=new Yr(Hh(m),g,p);return Qh(s,h,S)}else return[]}function dh(s,t,i,r=!1){const o=t._path;let u=null,h=!1;s.syncPointTree_.foreachOnPath(o,(y,k)=>{const z=Et(y,o);u=u||Ii(k,z),h=h||Ui(k)});let m=s.syncPointTree_.get(o);m?(h=h||Ui(m),u=u||Ii(m,ge())):(m=new Av,s.syncPointTree_=s.syncPointTree_.set(o,m));let g;u!=null?g=!0:(g=!1,u=Z.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((k,z)=>{const W=Ii(z,ge());W&&(u=u.updateImmediateChild(k,W))}));const p=Ov(m,t);if(!p&&!t._queryParams.loadsAllData()){const y=ac(t);H(!s.queryToTagMap.has(y),"View does not exist, but we have a tag");const k=a1();s.queryToTagMap.set(y,k),s.tagToQueryMap.set(k,y)}const S=ic(s.pendingWriteTree_,o);let E=FC(m,t,i,S,u,g);if(!p&&!h&&!r){const y=Dv(m,t);E=E.concat(r1(s,t,y))}return E}function qh(s,t,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(t,(h,m)=>{const g=Et(h,t),p=Ii(m,g);if(p)return p});return Sv(o,t,u,i,!0)}function n1(s,t){const i=t._path;let r=null;s.syncPointTree_.foreachOnPath(i,(p,S)=>{const E=Et(p,i);r=r||Ii(S,E)});let o=s.syncPointTree_.get(i);o?r=r||Ii(o,ge()):(o=new Av,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=r!=null,h=u?new ki(r,!0,!1):null,m=ic(s.pendingWriteTree_,t._path),g=Nv(o,t,m,u?h.getNode():Z.EMPTY_NODE,u);return jC(g)}function el(s,t){return xv(t,s.syncPointTree_,null,ic(s.pendingWriteTree_,ge()))}function xv(s,t,i,r){if(he(s.path))return kv(s,t,i,r);{const o=t.get(ge());i==null&&o!=null&&(i=Ii(o,ge()));let u=[];const h=oe(s.path),m=s.operationForChild(h),g=t.children.get(h);if(g&&m){const p=i?i.getImmediateChild(h):null,S=Ev(r,h);u=u.concat(xv(m,g,p,S))}return o&&(u=u.concat(Vh(o,s,r,i))),u}}function kv(s,t,i,r){const o=t.get(ge());i==null&&o!=null&&(i=Ii(o,ge()));let u=[];return t.children.inorderTraversal((h,m)=>{const g=i?i.getImmediateChild(h):null,p=Ev(r,h),S=s.operationForChild(h);S&&(u=u.concat(kv(S,m,g,p)))}),o&&(u=u.concat(Vh(o,s,r,i))),u}function Uv(s,t){const i=t.query,r=Qr(s,i);return{hashFn:()=>(PC(t)||Z.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?e1(s,i._path,r):JC(s,i._path);{const u=nw(o,i);return Yo(s,i,null,u)}}}}function Qr(s,t){const i=ac(t);return s.queryToTagMap.get(i)}function ac(s){return s._path.toString()+"$"+s._queryIdentifier}function Gh(s,t){return s.tagToQueryMap.get(t)}function Yh(s){const t=s.indexOf("$");return H(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new De(s.substr(0,t))}}function Qh(s,t,i){const r=s.syncPointTree_.get(t);H(r,"Missing sync point for query tag that we're tracking");const o=ic(s.pendingWriteTree_,t);return Vh(r,i,o,null)}function i1(s){return s.fold((t,i,r)=>{if(i&&Ui(i))return[sc(i)];{let o=[];return i&&(o=Rv(i)),It(r,(u,h)=>{o=o.concat(h)}),o}})}function Ur(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(WC())(s._repo,s._path):s}function s1(s,t){for(let i=0;i<t.length;++i){const r=t[i];if(!r._queryParams.loadsAllData()){const o=ac(r),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function a1(){return ZC++}function r1(s,t,i){const r=t._path,o=Qr(s,t),u=Uv(s,i),h=s.listenProvider_.startListening(Ur(t),o,u.hashFn,u.onComplete),m=s.syncPointTree_.subtree(r);if(o)H(!Ui(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((p,S,E)=>{if(!he(p)&&S&&Ui(S))return[sc(S).query];{let y=[];return S&&(y=y.concat(Rv(S).map(k=>k.query))),It(E,(k,z)=>{y=y.concat(z)}),y}});for(let p=0;p<g.length;++p){const S=g[p];s.listenProvider_.stopListening(Ur(S),Qr(s,S))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Fh(i)}node(){return this.node_}}class Xh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=$e(this.path_,t);return new Xh(this.syncTree_,i)}node(){return qh(this.syncTree_,this.path_)}}const l1=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},F_=function(s,t,i){if(!s||typeof s!="object")return s;if(H(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return o1(s[".sv"],t,i);if(typeof s[".sv"]=="object")return c1(s[".sv"],t);H(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},o1=function(s,t,i){switch(s){case"timestamp":return i.timestamp;default:H(!1,"Unexpected server value: "+s)}},c1=function(s,t,i){s.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&H(!1,"Unexpected increment value: "+r);const o=t.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},u1=function(s,t,i,r){return Kh(t,new Xh(i,s),r)},Lv=function(s,t,i){return Kh(s,new Fh(t),i)};function Kh(s,t,i){const r=s.getPriority().val(),o=F_(r,t.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const h=s,m=F_(h.getValue(),t,i);return m!==h.getValue()||o!==h.getPriority().val()?new st(m,rt(o)):s}else{const h=s;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new st(o))),h.forEachChild(Be,(m,g)=>{const p=Kh(g,t.getImmediateChild(m),i);p!==g&&(u=u.updateImmediateChild(m,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function Zh(s,t){let i=t instanceof De?t:new De(t),r=s,o=oe(i);for(;o!==null;){const u=pa(r.node.children,o)||{children:{},childCount:0};r=new Wh(o,r,u),i=Me(i),o=oe(i)}return r}function Aa(s){return s.node.value}function zv(s,t){s.node.value=t,mh(s)}function Hv(s){return s.node.childCount>0}function f1(s){return Aa(s)===void 0&&!Hv(s)}function rc(s,t){It(s.node.children,(i,r)=>{t(new Wh(i,s,r))})}function Pv(s,t,i,r){i&&t(s),rc(s,o=>{Pv(o,t,!0)})}function h1(s,t,i){let r=s.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function tl(s){return new De(s.parent===null?s.name:tl(s.parent)+"/"+s.name)}function mh(s){s.parent!==null&&d1(s.parent,s.name,s)}function d1(s,t,i){const r=f1(i),o=Kn(s.node.children,t);r&&o?(delete s.node.children[t],s.node.childCount--,mh(s)):!r&&!o&&(s.node.children[t]=i.node,s.node.childCount++,mh(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=/[\[\].#$\/\u0000-\u001F\u007F]/,p1=/[\[\].#$\u0000-\u001F\u007F]/,Xf=10*1024*1024,jv=function(s){return typeof s=="string"&&s.length!==0&&!m1.test(s)},Bv=function(s){return typeof s=="string"&&s.length!==0&&!p1.test(s)},g1=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Bv(s)},_1=function(s,t,i,r){$h(wh(s,"value"),t,i)},$h=function(s,t,i){const r=i instanceof De?new Uw(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+ss(r));if(typeof t=="function")throw new Error(s+"contains a function "+ss(r)+" with contents = "+t.toString());if(Hy(t))throw new Error(s+"contains "+t.toString()+" "+ss(r));if(typeof t=="string"&&t.length>Xf/3&&ec(t)>Xf)throw new Error(s+"contains a string greater than "+Xf+" utf8 bytes "+ss(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(It(t,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!jv(h)))throw new Error(s+" contains an invalid key ("+h+") "+ss(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Lw(r,h),$h(s,m,r),zw(r)}),o&&u)throw new Error(s+' contains ".value" child '+ss(r)+" in addition to actual children.")}},Vv=function(s,t,i,r){if(!Bv(i))throw new Error(wh(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},y1=function(s,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Vv(s,t,i)},qv=function(s,t){if(oe(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},v1=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!jv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!g1(i))throw new Error(wh(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jh(s,t){let i=null;for(let r=0;r<t.length;r++){const o=t[r],u=o.getPath();i!==null&&!Mh(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function Gv(s,t,i){Jh(s,i),Yv(s,r=>Mh(r,t))}function Sn(s,t,i){Jh(s,i),Yv(s,r=>sn(r,t)||sn(t,r))}function Yv(s,t){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const u=o.path;t(u)?(E1(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function E1(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const r=i.getEventRunner();Ir&&_t("event: "+i.toString()),Ca(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="repo_interrupt",T1=25;class w1{constructor(t,i,r,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new S1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zo(),this.transactionQueueTree_=new Wh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function C1(s,t,i){if(s.stats_=Oh(s.repoInfo_),s.forceRestClient_||rw())s.server_=new Lo(s.repoInfo_,(r,o,u,h)=>{X_(s,r,o,u,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>K_(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Gn(s.repoInfo_,t,(r,o,u,h)=>{X_(s,r,o,u,h)},r=>{K_(s,r)},r=>{N1(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=fw(s.repoInfo_,()=>new cC(s.stats_,s.server_)),s.infoData_=new sC,s.infoSyncTree_=new Q_({startListening:(r,o,u,h)=>{let m=[];const g=s.infoData_.getNode(r._path);return g.isEmpty()||(m=Jr(s.infoSyncTree_,r._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),td(s,"connected",!1),s.serverSyncTree_=new Q_({startListening:(r,o,u,h)=>(s.server_.listen(r,u,o,(m,g)=>{const p=h(m,g);Sn(s.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function A1(s){const i=s.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function ed(s){return l1({timestamp:A1(s)})}function X_(s,t,i,r,o){s.dataUpdateCount++;const u=new De(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(r){const g=Io(i,p=>rt(p));h=t1(s.serverSyncTree_,u,g,o)}else{const g=rt(i);h=Mv(s.serverSyncTree_,u,g,o)}else if(r){const g=Io(i,p=>rt(p));h=$C(s.serverSyncTree_,u,g)}else{const g=rt(i);h=Jr(s.serverSyncTree_,u,g)}let m=u;h.length>0&&(m=oc(s,u)),Sn(s.eventQueue_,m,h)}function K_(s,t){td(s,"connected",t),t===!1&&O1(s)}function N1(s,t){It(t,(i,r)=>{td(s,i,r)})}function td(s,t,i){const r=new De("/.info/"+t),o=rt(i);s.infoData_.updateSnapshot(r,o);const u=Jr(s.infoSyncTree_,r,o);Sn(s.eventQueue_,r,u)}function Qv(s){return s.nextWriteId_++}function R1(s,t,i){const r=n1(s.serverSyncTree_,t);return r!=null?Promise.resolve(r):s.server_.get(t).then(o=>{const u=rt(o).withIndex(t._queryParams.getIndex());dh(s.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=Jr(s.serverSyncTree_,t._path,u);else{const m=Qr(s.serverSyncTree_,t);h=Mv(s.serverSyncTree_,t._path,u,m)}return Sn(s.eventQueue_,t._path,h),Yo(s.serverSyncTree_,t,i,null,!0),u},o=>(lc(s,"get for query "+Ze(t)+" failed: "+o),Promise.reject(new Error(o))))}function D1(s,t,i,r,o){lc(s,"set",{path:t.toString(),value:i,priority:r});const u=ed(s),h=rt(i,r),m=qh(s.serverSyncTree_,t),g=Lv(h,m,u),p=Qv(s),S=Iv(s.serverSyncTree_,t,g,p,!0);Jh(s.eventQueue_,S),s.server_.put(t.toString(),h.val(!0),(y,k)=>{const z=y==="ok";z||Ot("set at "+t+" failed: "+y);const W=rs(s.serverSyncTree_,p,!z);Sn(s.eventQueue_,t,W),k1(s,o,y,k)});const E=Zv(s,t);oc(s,E),Sn(s.eventQueue_,E,[])}function O1(s){lc(s,"onDisconnectEvents");const t=ed(s),i=zo();oh(s.onDisconnect_,ge(),(o,u)=>{const h=u1(o,u,s.serverSyncTree_,t);pv(i,o,h)});let r=[];oh(i,ge(),(o,u)=>{r=r.concat(Jr(s.serverSyncTree_,o,u));const h=Zv(s,o);oc(s,h)}),s.onDisconnect_=zo(),Sn(s.eventQueue_,ge(),r)}function I1(s,t,i){let r;oe(t._path)===".info"?r=dh(s.infoSyncTree_,t,i):r=dh(s.serverSyncTree_,t,i),Gv(s.eventQueue_,t._path,r)}function M1(s,t,i){let r;oe(t._path)===".info"?r=Yo(s.infoSyncTree_,t,i):r=Yo(s.serverSyncTree_,t,i),Gv(s.eventQueue_,t._path,r)}function x1(s){s.persistentConnection_&&s.persistentConnection_.interrupt(b1)}function lc(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),_t(i,...t)}function k1(s,t,i,r){t&&Ca(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const h=new Error(u);h.code=o,t(h)}})}function Fv(s,t,i){return qh(s.serverSyncTree_,t,i)||Z.EMPTY_NODE}function nd(s,t=s.transactionQueueTree_){if(t||cc(s,t),Aa(t)){const i=Kv(s,t);H(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&U1(s,tl(t),i)}else Hv(t)&&rc(t,i=>{nd(s,i)})}function U1(s,t,i){const r=i.map(p=>p.currentWriteId),o=Fv(s,t,r);let u=o;const h=o.hash();for(let p=0;p<i.length;p++){const S=i[p];H(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const E=Et(t,S.path);u=u.updateChild(E,S.currentOutputSnapshotRaw)}const m=u.val(!0),g=t;s.server_.put(g.toString(),m,p=>{lc(s,"transaction put response",{path:g.toString(),status:p});let S=[];if(p==="ok"){const E=[];for(let y=0;y<i.length;y++)i[y].status=2,S=S.concat(rs(s.serverSyncTree_,i[y].currentWriteId)),i[y].onComplete&&E.push(()=>i[y].onComplete(null,!0,i[y].currentOutputSnapshotResolved)),i[y].unwatcher();cc(s,Zh(s.transactionQueueTree_,t)),nd(s,s.transactionQueueTree_),Sn(s.eventQueue_,t,S);for(let y=0;y<E.length;y++)Ca(E[y])}else{if(p==="datastale")for(let E=0;E<i.length;E++)i[E].status===3?i[E].status=4:i[E].status=0;else{Ot("transaction at "+g.toString()+" failed: "+p);for(let E=0;E<i.length;E++)i[E].status=4,i[E].abortReason=p}oc(s,t)}},h)}function oc(s,t){const i=Xv(s,t),r=tl(i),o=Kv(s,i);return L1(s,o,r),r}function L1(s,t,i){if(t.length===0)return;const r=[];let o=[];const h=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const g=t[m],p=Et(i,g.path);let S=!1,E;if(H(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)S=!0,E=g.abortReason,o=o.concat(rs(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=T1)S=!0,E="maxretry",o=o.concat(rs(s.serverSyncTree_,g.currentWriteId,!0));else{const y=Fv(s,g.path,h);g.currentInputSnapshot=y;const k=t[m].update(y.val());if(k!==void 0){$h("transaction failed: Data returned ",k,g.path);let z=rt(k);typeof k=="object"&&k!=null&&Kn(k,".priority")||(z=z.updatePriority(y.getPriority()));const ne=g.currentWriteId,ke=ed(s),Ue=Lv(z,y,ke);g.currentOutputSnapshotRaw=z,g.currentOutputSnapshotResolved=Ue,g.currentWriteId=Qv(s),h.splice(h.indexOf(ne),1),o=o.concat(Iv(s.serverSyncTree_,g.path,Ue,g.currentWriteId,g.applyLocally)),o=o.concat(rs(s.serverSyncTree_,ne,!0))}else S=!0,E="nodata",o=o.concat(rs(s.serverSyncTree_,g.currentWriteId,!0))}Sn(s.eventQueue_,i,o),o=[],S&&(t[m].status=2,function(y){setTimeout(y,Math.floor(0))}(t[m].unwatcher),t[m].onComplete&&(E==="nodata"?r.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):r.push(()=>t[m].onComplete(new Error(E),!1,null))))}cc(s,s.transactionQueueTree_);for(let m=0;m<r.length;m++)Ca(r[m]);nd(s,s.transactionQueueTree_)}function Xv(s,t){let i,r=s.transactionQueueTree_;for(i=oe(t);i!==null&&Aa(r)===void 0;)r=Zh(r,i),t=Me(t),i=oe(t);return r}function Kv(s,t){const i=[];return Wv(s,t,i),i.sort((r,o)=>r.order-o.order),i}function Wv(s,t,i){const r=Aa(t);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);rc(t,o=>{Wv(s,o,i)})}function cc(s,t){const i=Aa(t);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,zv(t,i.length>0?i:void 0)}rc(t,r=>{cc(s,r)})}function Zv(s,t){const i=tl(Xv(s,t)),r=Zh(s.transactionQueueTree_,t);return h1(r,o=>{Kf(s,o)}),Kf(s,r),Pv(r,o=>{Kf(s,o)}),i}function Kf(s,t){const i=Aa(t);if(i){const r=[];let o=[],u=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(H(u===h-1,"All SENT items should be at beginning of queue."),u=h,i[h].status=3,i[h].abortReason="set"):(H(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(rs(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&r.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?zv(t,void 0):i.length=u+1,Sn(s.eventQueue_,tl(t),o);for(let h=0;h<r.length;h++)Ca(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(s){let t="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function H1(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ot(`Invalid query segment '${i}' in query '${s}'`)}return t}const W_=function(s,t){const i=P1(s),r=i.namespace;i.domain==="firebase.com"&&Qn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||ZT();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Wy(i.host,i.secure,r,o,t,"",r!==i.subdomain),path:new De(i.pathString)}},P1=function(s){let t="",i="",r="",o="",u="",h=!0,m="https",g=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(m=s.substring(0,p-1),s=s.substring(p+2));let S=s.indexOf("/");S===-1&&(S=s.length);let E=s.indexOf("?");E===-1&&(E=s.length),t=s.substring(0,Math.min(S,E)),S<E&&(o=z1(s.substring(S,E)));const y=H1(s.substring(Math.min(s.length,E)));p=t.indexOf(":"),p>=0?(h=m==="https"||m==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const k=t.slice(0,p);if(k.toLowerCase()==="localhost")i="localhost";else if(k.split(".").length<=2)i=k;else{const z=t.indexOf(".");r=t.substring(0,z).toLowerCase(),i=t.substring(z+1),u=r}"ns"in y&&(u=y.ns)}return{host:t,port:g,domain:i,subdomain:r,secure:h,scheme:m,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,i,r,o){this.eventType=t,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class B1{constructor(t,i,r){this.eventRegistration=t,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t,i,r,o){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return he(this._path)?null:av(this._path)}get ref(){return new Wn(this._repo,this._path)}get _queryIdentifier(){const t=U_(this._queryParams),i=Rh(t);return i==="{}"?"default":i}get _queryObject(){return U_(this._queryParams)}isEqual(t){if(t=jt(t),!(t instanceof id))return!1;const i=this._repo===t._repo,r=Mh(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+kw(this._path)}}class Wn extends id{constructor(t,i){super(t,i,new Lh,!1)}get parent(){const t=lv(this._path);return t===null?null:new Wn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Fr{constructor(t,i,r){this._node=t,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new De(t),r=ph(this.ref,t);return new Fr(this._node.getChild(i),r,Be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>t(new Fr(o,ph(this.ref,r),Be)))}hasChild(t){const i=new De(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Pn(s,t){return s=jt(s),s._checkNotDeleted("ref"),t!==void 0?ph(s._root,t):s._root}function ph(s,t){return s=jt(s),oe(s._path)===null?y1("child","path",t):Vv("child","path",t),new Wn(s._repo,$e(s._path,t))}function Jv(s){return qv("remove",s._path),Lr(s,null)}function Lr(s,t){s=jt(s),qv("set",s._path),_1("set",t,s._path);const i=new Jo;return D1(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}function uc(s){s=jt(s);const t=new $v(()=>{}),i=new fc(t);return R1(s._repo,s,i).then(r=>new Fr(r,new Wn(s._repo,s._path),s._queryParams.getIndex()))}class fc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const r=i._queryParams.getIndex();return new j1("value",this,new Fr(t.snapshotNode,new Wn(i._repo,i._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new B1(this,t,i):null}matches(t){return t instanceof fc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function V1(s,t,i,r,o){const u=new $v(i,void 0),h=new fc(u);return I1(s._repo,s,h),()=>M1(s._repo,s,h)}function q1(s,t,i,r){return V1(s,"value",t)}GC(Wn);KC(Wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="FIREBASE_DATABASE_EMULATOR_HOST",gh={};let Y1=!1;function Q1(s,t,i,r){const o=t.lastIndexOf(":"),u=t.substring(0,o),h=Ea(u);s.repoInfo_=new Wy(t,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(s.authTokenProvider_=r)}function F1(s,t,i,r,o){let u=r||s.options.databaseURL;u===void 0&&(s.options.projectId||Qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=W_(u,o),m=h.repoInfo,g;typeof process<"u"&&__&&(g=__[G1]),g?(u=`http://${g}?ns=${m.namespace}`,h=W_(u,o),m=h.repoInfo):h.repoInfo.secure;const p=new ow(s.name,s.options,t);v1("Invalid Firebase Database URL",h),he(h.path)||Qn("Database URL must point to the root of a Firebase Database (not including a child path).");const S=K1(m,s,p,new lw(s,i));return new W1(S,s)}function X1(s,t){const i=gh[t];(!i||i[s.key]!==s)&&Qn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),x1(s),delete i[s.key]}function K1(s,t,i,r){let o=gh[t.name];o||(o={},gh[t.name]=o);let u=o[s.toURLString()];return u&&Qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new w1(s,Y1,i,r),o[s.toURLString()]=u,u}class W1{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(C1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wn(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(X1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Qn("Cannot call "+t+" on a deleted database.")}}function Z1(s=My(),t){const i=Nh(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=pb("database");r&&$1(i,...r)}return i}function $1(s,t,i,r={}){s=jt(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&os(r,u.repoInfo_.emulatorOptions))return;Qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new wo(wo.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:gb(r.mockUserToken,s.app.options.projectId);h=new wo(m)}Ea(t)&&(Cy(t),Ay("Database",!0)),Q1(u,o,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(s){YT(Ta),ga(new cs("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return F1(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Di(y_,v_,s),Di(y_,v_,"esm2020")}Gn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Gn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};J1();function eS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eA=eS,tS=new Kr("auth","Firebase",eS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Ch("@firebase/auth");function tA(s,...t){Qo.logLevel<=Ae.WARN&&Qo.warn(`Auth (${Ta}): ${s}`,...t)}function Co(s,...t){Qo.logLevel<=Ae.ERROR&&Qo.error(`Auth (${Ta}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(s,...t){throw sd(s,...t)}function yn(s,...t){return sd(s,...t)}function nS(s,t,i){const r={...eA(),[t]:i};return new Kr("auth","Firebase",r).create(t,{appName:s.name})}function Mi(s){return nS(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sd(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return tS.create(s,...t)}function J(s,t,...i){if(!s)throw sd(t,...i)}function Vn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Co(t),new Error(t)}function Xn(s,t){s||Vn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(){return typeof self<"u"&&self.location?.href||""}function nA(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nA()||Sb()||"connection"in navigator)?navigator.onLine:!0}function sA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Xn(i>t,"Short delay should be less than long delay!"),this.isMobile=Th()||Ny()}get(){return iA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(s,t){Xn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lA=new nl(3e4,6e4);function hc(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Na(s,t,i,r,o={}){return sS(s,o,async()=>{let u={},h={};r&&(t==="GET"?h=r:u={body:JSON.stringify(r)});const m=ba({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const p={method:t,headers:g,...u};return vb()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&Ea(s.emulatorConfig.host)&&(p.credentials="include"),iS.fetch()(await rS(s,s.config.apiHost,i,m),p)})}async function sS(s,t,i){s._canInitEmulator=!1;const r={...aA,...t};try{const o=new oA(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw To(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw To(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw To(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw To(s,"user-disabled",h);const S=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw nS(s,S,p);Fn(s,S)}}catch(o){if(o instanceof zi)throw o;Fn(s,"network-request-failed",{message:String(o)})}}async function aS(s,t,i,r,o={}){const u=await Na(s,t,i,r,o);return"mfaPendingCredential"in u&&Fn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function rS(s,t,i,r){const o=`${t}${i}?${r}`,u=s,h=u.config.emulator?ad(s.config,o):`${s.config.apiScheme}://${o}`;return rA.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class oA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),lA.get())})}}function To(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=yn(s,t,r);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(s,t){return Na(s,"POST","/v1/accounts:delete",t)}async function Fo(s,t){return Na(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uA(s,t=!1){const i=jt(s),r=await i.getIdToken(t),o=rd(r);J(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:zr(Wf(o.auth_time)),issuedAtTime:zr(Wf(o.iat)),expirationTime:zr(Wf(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Wf(s){return Number(s)*1e3}function rd(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Co("JWT malformed, contained fewer than 3 sections"),null;try{const o=Oo(i);return o?JSON.parse(o):(Co("Failed to decode base64 JWT payload"),null)}catch(o){return Co("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $_(s){const t=rd(s);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xr(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof zi&&fA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function fA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zr(this.lastLoginAt),this.creationTime=zr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(s){const t=s.auth,i=await s.getIdToken(),r=await Xr(s,Fo(t,{idToken:i}));J(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?lS(o.providerUserInfo):[],h=mA(s.providerData,u),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!h?.length,p=m?g:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new yh(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,S)}async function dA(s){const t=jt(s);await Xo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mA(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function lS(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(s,t){const i=await sS(s,{},async()=>{const r=ba({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=await rS(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&Ea(s.emulatorConfig.host)&&(g.credentials="include"),iS.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function gA(s,t){return Na(s,"POST","/v2/accounts:revokeToken",hc(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){J(t.length!==0,"internal-error");const i=$_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await pA(t,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,h=new ha;return r&&(J(typeof r=="string","internal-error",{appName:t}),h.refreshToken=r),o&&(J(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(J(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return Vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(s,t){J(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class rn{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new hA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Xr(this,this.stsTokenManager.getToken(this.auth,t));return J(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return uA(this,t)}reload(){return dA(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new rn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Xo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(Mi(this.auth));const t=await this.getIdToken();return await Xr(this,cA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,g=i._redirectEventId??void 0,p=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:E,emailVerified:y,isAnonymous:k,providerData:z,stsTokenManager:W}=i;J(E&&W,t,"internal-error");const ne=ha.fromJSON(this.name,W);J(typeof E=="string",t,"internal-error"),Ei(r,t.name),Ei(o,t.name),J(typeof y=="boolean",t,"internal-error"),J(typeof k=="boolean",t,"internal-error"),Ei(u,t.name),Ei(h,t.name),Ei(m,t.name),Ei(g,t.name),Ei(p,t.name),Ei(S,t.name);const ke=new rn({uid:E,auth:t,email:o,emailVerified:y,displayName:r,isAnonymous:k,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:ne,createdAt:p,lastLoginAt:S});return z&&Array.isArray(z)&&(ke.providerData=z.map(Ue=>({...Ue}))),g&&(ke._redirectEventId=g),ke}static async _fromIdTokenResponse(t,i,r=!1){const o=new ha;o.updateFromServerResponse(i);const u=new rn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Xo(u),u}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];J(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?lS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ha;m.updateFromIdToken(r);const g=new rn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new yh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;function qn(s){Xn(s instanceof Function,"Expected a class definition");let t=J_.get(s);return t?(Xn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,J_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}oS.type="NONE";const ey=oS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(s,t,i){return`firebase:${s}:${t}:${i}`}class da{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Ao(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ao("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fo(this.auth,{idToken:t}).catch(()=>{});return i?rn._fromGetAccountInfoResponse(this.auth,i,t):null}return rn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new da(qn(ey),t,r);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||qn(ey);const h=Ao(r,t.config.apiKey,t.name);let m=null;for(const p of i)try{const S=await p._get(h);if(S){let E;if(typeof S=="string"){const y=await Fo(t,{idToken:S}).catch(()=>{});if(!y)break;E=await rn._fromGetAccountInfoResponse(t,y,S)}else E=rn._fromJSON(t,S);p!==u&&(m=E),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new da(u,t,r):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new da(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mS(t))return"Blackberry";if(pS(t))return"Webos";if(uS(t))return"Safari";if((t.includes("chrome/")||fS(t))&&!t.includes("edge/"))return"Chrome";if(dS(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function cS(s=bt()){return/firefox\//i.test(s)}function uS(s=bt()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fS(s=bt()){return/crios\//i.test(s)}function hS(s=bt()){return/iemobile/i.test(s)}function dS(s=bt()){return/android/i.test(s)}function mS(s=bt()){return/blackberry/i.test(s)}function pS(s=bt()){return/webos/i.test(s)}function ld(s=bt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function _A(s=bt()){return ld(s)&&!!window.navigator?.standalone}function yA(){return Eb()&&document.documentMode===10}function gS(s=bt()){return ld(s)||dS(s)||pS(s)||mS(s)||/windows phone/i.test(s)||hS(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(s,t=[]){let i;switch(s){case"Browser":i=ty(bt());break;case"Worker":i=`${ty(bt())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=u=>new Promise((h,m)=>{try{const g=t(u);h(g)}catch(g){m(g)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(s,t={}){return Na(s,"GET","/v2/passwordPolicy",hc(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=6;class bA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??EA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ny(this),this.idTokenSubscription=new ny(this),this.beforeStateQueue=new vA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=qn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await da.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fo(this,{idToken:t}),r=await rn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(tn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xo(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(tn(this.app))return Promise.reject(Mi(this));const i=t?jt(t):null;return i&&J(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return tn(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await SA(this),i=new bA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kr("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await gA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&qn(t)||this._popupRedirectResolver;J(i,this,"argument-error"),this.redirectPersistenceManager=await da.create(this,[qn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,r,o);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&tA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function dc(s){return jt(s)}class ny{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ib(i=>this.observer=i)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wA(s){od=s}function CA(s){return od.loadJS(s)}function AA(){return od.gapiScript}function NA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(s,t){const i=Nh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(os(u,t??{}))return o;Fn(o,"already-initialized")}return i.initialize({options:t})}function DA(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(qn);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function OA(s,t,i){const r=dc(s);J(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=yS(t),{host:h,port:m}=IA(t),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},S=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(os(p,r.config.emulator)&&os(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,Ea(h)?(Cy(`${u}//${h}${g}`),Ay("Auth",!0)):MA()}function yS(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function IA(s){const t=yS(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:iy(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:iy(h)}}}function iy(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function MA(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Vn("not implemented")}_getIdTokenResponse(t){return Vn("not implemented")}_linkToIdToken(t,i){return Vn("not implemented")}_getReauthenticationResolver(t){return Vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(s,t){return aS(s,"POST","/v1/accounts:signInWithIdp",hc(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="http://localhost";class ds extends vS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ds(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Fn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=i;if(!r||!o)return null;const h=new ds(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return ma(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,ma(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ma(t,i)}buildRequest(){const t={requestUri:xA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ba(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends SS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends il{constructor(){super("facebook.com")}static credential(t){return ds._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ti.credentialFromTaggedObject(t)}static credentialFromError(t){return Ti.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ti.credential(t.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends il{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ds._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return wi.credentialFromTaggedObject(t)}static credentialFromError(t){return wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return wi.credential(i,r)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends il{constructor(){super("github.com")}static credential(t){return ds._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ci.credentialFromTaggedObject(t)}static credentialFromError(t){return Ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ci.credential(t.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends il{constructor(){super("twitter.com")}static credential(t,i){return ds._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ai.credentialFromTaggedObject(t)}static credentialFromError(t){return Ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Ai.credential(i,r)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(s,t){return aS(s,"POST","/v1/accounts:signUp",hc(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const u=await rn._fromIdTokenResponse(t,r,o),h=sy(r);return new Li({user:u,providerId:h,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=sy(r);return new Li({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function sy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(s){if(tn(s.app))return Promise.reject(Mi(s));const t=dc(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Li({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await kA(t,{returnSecureToken:!0}),r=await Li._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends zi{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Ko.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new Ko(t,i,r,o)}}function ES(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ko._fromErrorAndOperation(s,u,t,r):u})}async function LA(s,t,i=!1){const r=await Xr(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Li._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(s,t,i=!1){const{auth:r}=s;if(tn(r.app))return Promise.reject(Mi(r));const o="reauthenticate";try{const u=await Xr(s,ES(r,o,t,s),i);J(u.idToken,r,"internal-error");const h=rd(u.idToken);J(h,r,"internal-error");const{sub:m}=h;return J(s.uid===m,r,"user-mismatch"),Li._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Fn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(s,t,i=!1){if(tn(s.app))return Promise.reject(Mi(s));const r="signIn",o=await ES(s,r,t),u=await Li._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(u.user),u}function PA(s,t,i,r){return jt(s).onIdTokenChanged(t,i,r)}function jA(s,t,i){return jt(s).beforeAuthStateChanged(t,i)}function BA(s,t,i,r){return jt(s).onAuthStateChanged(t,i,r)}const Wo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wo,"1"),this.storage.removeItem(Wo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=1e3,qA=10;class TS extends bS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!i&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);yA()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,qA):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},VA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}TS.type="LOCAL";const GA=TS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends bS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}wS.type="SESSION";const CS=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new mc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:u}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async p=>p(i.origin,u)),g=await YA(m);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=cd("",20);o.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(E){const y=E;if(y.data.eventId===p)switch(y.data.status){case"ack":clearTimeout(S),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(y.data.response);break;default:clearTimeout(S),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function FA(s){vn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function XA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KA(){return navigator?.serviceWorker?.controller||null}function WA(){return AS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebaseLocalStorageDb",ZA=1,Zo="firebaseLocalStorage",RS="fbase_key";class sl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function pc(s,t){return s.transaction([Zo],t?"readwrite":"readonly").objectStore(Zo)}function $A(){const s=indexedDB.deleteDatabase(NS);return new sl(s).toPromise()}function vh(){const s=indexedDB.open(NS,ZA);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Zo,{keyPath:RS})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Zo)?t(r):(r.close(),await $A(),t(await vh()))})})}async function ay(s,t,i){const r=pc(s,!0).put({[RS]:t,value:i});return new sl(r).toPromise()}async function JA(s,t){const i=pc(s,!1).get(t),r=await new sl(i).toPromise();return r===void 0?null:r.value}function ry(s,t){const i=pc(s,!0).delete(t);return new sl(i).toPromise()}const eN=800,tN=3;class DS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vh(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>tN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mc._getInstance(WA()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XA(),!this.activeServiceWorker)return;this.sender=new QA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vh();return await ay(t,Wo,"1"),await ry(t,Wo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>ay(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>JA(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ry(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=pc(o,!1).getAll();return new sl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DS.type="LOCAL";const nN=DS;new nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(s,t){return t?qn(t):(J(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends vS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ma(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ma(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ma(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function sN(s){return HA(s.auth,new ud(s),s.bypassAuthState)}function aN(s){const{auth:t,user:i}=s;return J(i,t,"internal-error"),zA(i,new ud(s),s.bypassAuthState)}async function rN(s){const{auth:t,user:i}=s;return J(i,t,"internal-error"),LA(i,new ud(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,i,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sN;case"linkViaPopup":case"linkViaRedirect":return rN;case"reauthViaPopup":case"reauthViaRedirect":return aN;default:Fn(this.auth,"internal-error")}}resolve(t){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new nl(2e3,1e4);class oa extends OS{constructor(t,i,r,o,u){super(t,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return J(t,this.auth,"internal-error"),t}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const t=cd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lN.get())};t()}}oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="pendingRedirect",No=new Map;class cN extends OS{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=No.get(this.auth._key());if(!t){try{const r=await uN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}No.set(this.auth._key(),t)}return this.bypassAuthState||No.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uN(s,t){const i=dN(t),r=hN(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function fN(s,t){No.set(s._key(),t)}function hN(s){return qn(s._redirectPersistence)}function dN(s){return Ao(oN,s.config.apiKey,s.name)}async function mN(s,t,i=!1){if(tn(s.app))return Promise.reject(Mi(s));const r=dc(s),o=iN(r,t),h=await new cN(r,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=600*1e3;class gN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_N(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!IS(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(yn(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pN&&this.cachedEventUids.clear(),this.cachedEventUids.has(ly(t))}saveEventToCache(t){this.cachedEventUids.add(ly(t)),this.lastProcessedEventTime=Date.now()}}function ly(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function IS({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function _N(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IS(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(s,t={}){return Na(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SN=/^https?/;async function EN(s){if(s.config.emulator)return;const{authorizedDomains:t}=await yN(s);for(const i of t)try{if(bN(i))return}catch{}Fn(s,"unauthorized-domain")}function bN(s){const t=_h(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===r}if(!SN.test(i))return!1;if(vN.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new nl(3e4,6e4);function oy(){const s=vn().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function wN(s){return new Promise((t,i)=>{function r(){oy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oy(),i(yn(s,"network-request-failed"))},timeout:TN.get()})}if(vn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(vn().gapi?.load)r();else{const o=NA("iframefcb");return vn()[o]=()=>{gapi.load?r():i(yn(s,"network-request-failed"))},CA(`${AA()}?onload=${o}`).catch(u=>i(u))}}).catch(t=>{throw Ro=null,t})}let Ro=null;function CN(s){return Ro=Ro||wN(s),Ro}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new nl(5e3,15e3),NN="__/auth/iframe",RN="emulator/auth/iframe",DN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ON=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IN(s){const t=s.config;J(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?ad(t,RN):`https://${s.config.authDomain}/${NN}`,r={apiKey:t.apiKey,appName:s.name,v:Ta},o=ON.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${ba(r).slice(1)}`}async function MN(s){const t=await CN(s),i=vn().gapi;return J(i,s,"internal-error"),t.open({where:document.body,url:IN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DN,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=yn(s,"network-request-failed"),m=vn().setTimeout(()=>{u(h)},AN.get());function g(){vn().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kN=500,UN=600,LN="_blank",zN="http://localhost";class cy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HN(s,t,i,r=kN,o=UN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...xN,width:r.toString(),height:o.toString(),top:u,left:h},p=bt().toLowerCase();i&&(m=fS(p)?LN:i),cS(p)&&(t=t||zN,g.scrollbars="yes");const S=Object.entries(g).reduce((y,[k,z])=>`${y}${k}=${z},`,"");if(_A(p)&&m!=="_self")return PN(t||"",m),new cy(null);const E=window.open(t||"",m,S);J(E,s,"popup-blocked");try{E.focus()}catch{}return new cy(E)}function PN(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="__/auth/handler",BN="emulator/auth/handler",VN=encodeURIComponent("fac");async function uy(s,t,i,r,o,u){J(s.config.authDomain,s,"auth-domain-config-required"),J(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ta,eventId:o};if(t instanceof SS){t.setDefaultLanguage(s.languageCode),h.providerId=t.providerId||"",Jf(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,E]of Object.entries({}))h[S]=E}if(t instanceof il){const S=t.getScopes().filter(E=>E!=="");S.length>0&&(h.scopes=S.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const S of Object.keys(m))m[S]===void 0&&delete m[S];const g=await s._getAppCheckToken(),p=g?`#${VN}=${encodeURIComponent(g)}`:"";return`${qN(s)}?${ba(m).slice(1)}${p}`}function qN({config:s}){return s.emulator?ad(s,BN):`https://${s.authDomain}/${jN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="webStorageSupport";class GN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CS,this._completeRedirectFn=mN,this._overrideRedirectResult=fN}async _openPopup(t,i,r,o){Xn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await uy(t,i,r,_h(),o);return HN(t,u,cd())}async _openRedirect(t,i,r,o){await this._originValidation(t);const u=await uy(t,i,r,_h(),o);return FA(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Xn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await MN(t),r=new gN(t);return i.register("authEvent",o=>(J(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Zf,{type:Zf},o=>{const u=o?.[0]?.[Zf];u!==void 0&&i(!!u),Fn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=EN(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return gS()||uS()||ld()}}const YN=GN;var fy="@firebase/auth",hy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XN(s){ga(new cs("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;J(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_S(s)},p=new TA(r,o,u,g);return DA(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),ga(new cs("auth-internal",t=>{const i=dc(t.getProvider("auth").getImmediate());return(r=>new QN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(fy,hy,FN(s)),Di(fy,hy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=300,WN=wy("authIdTokenMaxAge")||KN;let dy=null;const ZN=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>WN)return;const o=i?.token;dy!==o&&(dy=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $N(s=My()){const t=Nh(s,"auth");if(t.isInitialized())return t.getImmediate();const i=RA(s,{popupRedirectResolver:YN,persistence:[nN,GA,CS]}),r=wy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=ZN(u.toString());jA(i,h,()=>h(i.currentUser)),PA(i,m=>h(m))}}const o=by("auth");return o&&OA(i,`http://${o}`),i}function JN(){return document.getElementsByTagName("head")?.[0]??document}wA({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=yn("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",JN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XN("Browser");const eR={apiKey:"AIzaSyDQDt7JtCUPQgfviKoEkzDndcKAhh77fjA",authDomain:"officeorhomeoffice.firebaseapp.com",databaseURL:"https://officeorhomeoffice-default-rtdb.europe-west1.firebasedatabase.app",projectId:"officeorhomeoffice",storageBucket:"officeorhomeoffice.firebasestorage.app",messagingSenderId:"569353408333",appId:"1:569353408333:web:d7ce75ce71cc7f1cb2b104",measurementId:void 0},MS=Iy(eR),jn=Z1(MS),my=$N(MS),tR=({updateInfo:s,onDismiss:t,onPostpone:i,onUpdateNow:r,updateProgress:o,onRestartNow:u,onRestartLater:h})=>{const[m,g]=q.useState(!0),[p,S]=q.useState(!1),[E,y]=q.useState(null),k=()=>{o?.phase||(g(!1),setTimeout(()=>t(s.latestVersion),300))},z=()=>{o?.phase||(g(!1),setTimeout(()=>i(s.latestVersion),300))},W=async()=>{S(!0),y(null);try{await r(s)}catch(ne){console.error("Update failed:",ne),y(ne.message),S(!1)}};return q.useEffect(()=>{o?.phase==="ready"&&S(!1)},[o]),m?o?.phase==="ready"?b.jsx("div",{className:"update-notification",children:b.jsxs("div",{className:"update-notification-content",children:[b.jsx("div",{className:"update-header",children:b.jsx("h3",{children:" Update Installed!"})}),b.jsx("div",{className:"update-info",children:b.jsx("p",{children:"The update has been installed successfully. Please restart the app to complete the update."})}),b.jsxs("div",{className:"update-actions",children:[b.jsx("button",{className:"update-btn primary",onClick:u,title:"Restart the app now to complete the update",children:" Restart Now"}),b.jsx("button",{className:"update-btn secondary",onClick:h,title:"Restart later - the update will take effect on next app launch",children:" Restart Later"})]})]})}):b.jsx("div",{className:"update-notification",children:b.jsxs("div",{className:"update-notification-content",children:[!o?.phase&&b.jsx("button",{className:"update-close-btn",onClick:z,disabled:p,title:"Show again next time",children:""}),b.jsx("div",{className:"update-header",children:b.jsx("h3",{children:" New Version Available!"})}),!o?.phase&&b.jsxs("div",{className:"update-info",children:[b.jsxs("div",{className:"version-details",children:[b.jsxs("span",{className:"version-badge current",children:["Current: ",s.currentVersion]}),b.jsxs("span",{className:"version-badge latest",children:["Latest: ",s.latestVersion]})]}),s.releaseDate&&b.jsxs("p",{className:"release-date",children:["Released: ",s.releaseDate]}),s.releaseNotes&&b.jsxs("div",{className:"release-notes",children:[b.jsx("h4",{children:"What's New:"}),b.jsx("div",{className:"release-notes-content",children:s.releaseNotes})]}),s.commitMessage&&b.jsxs("p",{className:"commit-message",children:["Latest: ",s.commitMessage]})]}),o?.phase&&b.jsxs("div",{className:"update-progress",children:[b.jsx("div",{className:"progress-header",children:b.jsxs("h4",{children:[o.phase==="downloading"&&" Downloading Update...",o.phase==="installing"&&" Installing Update..."]})}),b.jsxs("div",{className:"progress-bar-container",children:[b.jsx("div",{className:"progress-bar",children:b.jsx("div",{className:"progress-bar-fill",style:{width:`${o.percent}%`}})}),b.jsxs("span",{className:"progress-text",children:[o.percent,"%"]})]}),b.jsx("p",{className:"progress-message",children:o.message})]}),E&&b.jsxs("div",{className:"update-error",children:[b.jsxs("p",{children:[" Update failed: ",E]}),b.jsx("p",{children:"You can download manually from the repository."})]}),!o?.phase&&b.jsxs("div",{className:"update-actions",children:[b.jsx("button",{className:"update-btn primary",onClick:W,disabled:p,title:"Download and install update automatically",children:p?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"loading-spinner",children:""}),"Starting..."]}):b.jsx(b.Fragment,{children:"Download and Install"})}),b.jsx("button",{className:"update-btn secondary",onClick:z,disabled:p,title:"Show this notification again next time the app starts",children:" Update Later"}),b.jsx("button",{className:"update-btn tertiary",onClick:k,disabled:p,title:"Don't show this notification for this version anymore",children:" Dismiss"})]})]})}):null},nR=({updateState:s,onDismiss:t,onRetryUpdate:i,onManualUpdate:r})=>{const[o,u]=q.useState(!0),h=()=>{u(!1),setTimeout(()=>t(),300)},m=()=>{h(),setTimeout(()=>i(),300)},g=()=>{r()};return o?s.success?b.jsx("div",{className:"post-update-notification success",children:b.jsxs("div",{className:"post-update-notification-content",children:[b.jsx("button",{className:"close-btn",onClick:h,title:"Close notification",children:""}),b.jsx("div",{className:"post-update-header",children:b.jsx("h3",{children:" Update Successful!"})}),b.jsxs("div",{className:"post-update-info",children:[b.jsx("p",{children:"New version installed successfully."}),b.jsx("div",{className:"version-info",children:b.jsxs("strong",{children:["Current version: ",s.version]})})]}),b.jsx("div",{className:"post-update-actions",children:b.jsx("button",{className:"post-update-btn primary",onClick:h,children:"Dismiss"})})]})}):b.jsx("div",{className:"post-update-notification error",children:b.jsxs("div",{className:"post-update-notification-content",children:[b.jsx("button",{className:"close-btn",onClick:h,title:"Close notification",children:""}),b.jsx("div",{className:"post-update-header",children:b.jsx("h3",{children:" Update Issue"})}),b.jsxs("div",{className:"post-update-info",children:[b.jsx("p",{children:"New version couldn't be installed automatically. You can try again or update manually."}),b.jsx("p",{className:"error-details",children:"If the problem persists, contact the system administrator."})]}),b.jsxs("div",{className:"post-update-actions",children:[b.jsx("button",{className:"post-update-btn primary",onClick:m,title:"Retry the automatic update process",children:"Try Again"}),b.jsx("button",{className:"post-update-btn secondary",onClick:g,title:"Open GitHub repository to download manually",children:"Update Manually"}),b.jsx("button",{className:"post-update-btn tertiary",onClick:h,title:"Dismiss this notification",children:"Dismiss"})]})]})}):null},xS="https://api.github.com/repos/moisalucian/office-or-home-office",iR=`${xS}/releases/latest`,sR=7200*1e3,kS=async()=>{if(window.electronAPI?.getAppVersion)try{const s=await window.electronAPI.getAppVersion();return console.log("Got version from Electron:",s),s||"1.0.0"}catch(s){return console.error("Error getting app version:",s),"1.0.0"}return localStorage.getItem("currentAppVersion")||"1.0.0"},aR=()=>{const s=localStorage.getItem("lastVersionCheck");return s?new Date(s):null},US=()=>{localStorage.setItem("lastVersionCheck",new Date().toISOString())},rR=()=>{const s=aR();return s?Date.now()-s.getTime()>=sR:!0},LS=async()=>{try{const s=await kS();console.log("Current version:",s);const t=await fetch(iR);if(!t.ok)return await lR();const i=await t.json(),r=i.tag_name.replace(/^v/,"");console.log("Latest version:",r),US();const o=oR(r,s);if(console.log("Has update:",o),!o)return{hasUpdate:!1,currentVersion:s,latestVersion:r};const h=fR()===r,g=hR()===r;return{hasUpdate:o,currentVersion:s,latestVersion:r,releaseNotes:i.body||"No release notes available",releaseDate:new Date(i.published_at).toLocaleDateString(),downloadUrl:i.assets.find(p=>p.name.includes("win")||p.name.includes(".exe")||p.name.includes(".zip"))?.browser_download_url,wasDismissed:h,wasPostponed:g}}catch(s){return console.error("Version check failed:",s),{hasUpdate:!1,error:s.message}}},lR=async()=>{try{const s=await fetch(`${xS}/commits/main`);if(!s.ok)throw new Error("Failed to fetch commit info");const t=await s.json(),i=t.sha.substring(0,7),r=await kS(),u=(localStorage.getItem("currentCommitSha")||"")!==i;return u&&localStorage.setItem("latestCommitSha",i),{hasUpdate:u,currentVersion:r,latestVersion:`${r}-${i}`,commitMessage:t.commit.message,commitDate:new Date(t.commit.committer.date).toLocaleDateString(),isCommitBased:!0}}catch(s){return console.error("Commit-based version check failed:",s),{hasUpdate:!1,error:s.message}}},oR=(s,t)=>{console.log(`Comparing versions: ${s} vs ${t}`);const i=u=>u.replace(/[^\d.]/g,"").split(".").slice(0,3).map(m=>parseInt(m,10)||0),r=i(s),o=i(t);console.log("Latest parts:",r),console.log("Current parts:",o);for(let u=0;u<Math.max(r.length,o.length);u++){const h=r[u]||0,m=o[u]||0;if(h>m)return console.log(`Latest is newer: ${h} > ${m}`),!0;if(h<m)return console.log(`Current is newer: ${m} > ${h}`),!1}return console.log("Versions are equal"),!1},cR=s=>{localStorage.setItem("dismissedUpdateVersion",s),localStorage.removeItem("postponedUpdateVersion")},uR=s=>{localStorage.setItem("postponedUpdateVersion",s),localStorage.removeItem("dismissedUpdateVersion")},fR=()=>localStorage.getItem("dismissedUpdateVersion"),hR=()=>localStorage.getItem("postponedUpdateVersion"),dR=s=>s.hasUpdate?s.wasPostponed?!0:!s.wasDismissed:!1,mR=async s=>{if(!s)throw new Error("No download URL available");if(window.electronAPI?.downloadAndInstallUpdate)return await window.electronAPI.downloadAndInstallUpdate(s);throw window.open(s,"_blank"),new Error("Auto-update not supported in this environment")},pR=async()=>{const s=await LS();return US(),s};let $f=!1,ca=null;const zS=()=>ca||(ca=new Promise((s,t)=>{const i=BA(my,async r=>{if(i(),r)$f=!0,console.log("User already authenticated:",r.uid),s(r);else try{console.log("Signing in anonymously...");const o=await UA(my);$f=!0,console.log("Anonymous sign-in successful:",o.user.uid),s(o.user)}catch(o){console.error("Anonymous sign-in failed:",o),$f=!1,t(o)}})}),ca),$o=()=>ca||zS(),gR=()=>new Date().toISOString().split("T")[0],_R=(s=5)=>{const t=[],i=new Date;let r=new Date(i);for(;t.length<s;)r.getDay()>=1&&r.getDay()<=5&&t.push(r.toISOString().split("T")[0]),r.setDate(r.getDate()-1);return t.reverse()},yR=(s,t,i)=>{const r=new Date(i).toLocaleDateString("en-US",{weekday:"long"});switch(t){case"yes":return`${s} confirmed working from the office ${r}.`;case"no":return`${s} confirmed working from the home office ${r}.`;case"undecided":return`${s} marked that's not sure yet if will come to work ${r}.`;default:return`${s} updated status for ${r}.`}},py=async(s,t,i)=>{try{await $o();const r=gR(),o=Pn(jn,`activityLogs/${r}`),h=(await uc(o)).val()||{entries:[]},m={time:new Date().toTimeString().slice(0,5),user:s,status:t,targetDate:i,timestamp:new Date().toISOString()};h.entries.push(m),h.lastUpdated=new Date().toISOString(),await Lr(o,h),await vR()}catch(r){console.error("Error logging activity:",r)}},vR=async()=>{try{const s=_R(5),t=Pn(jn,"activityLogs"),i=await uc(t);if(i.val()){const r=i.val();for(const o in r)if(!s.includes(o)){const u=Pn(jn,`activityLogs/${o}`);await Jv(u),console.log(`Cleaned up old activity log: ${o}`)}}}catch(s){console.error("Error cleaning up old logs:",s)}},SR=async()=>{try{await $o();const s=Pn(jn,"activityLogs"),t=await uc(s);if(!t.val())return[];const i=t.val(),r=[];return Object.keys(i).sort().reverse().forEach(u=>{const h=i[u],m=new Date(u).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});r.push({date:u,dayName:m,entries:h.entries.map(g=>({...g,message:yR(g.user,g.status,g.targetDate),colorClass:ER(g.status)})).reverse()})}),r}catch(s){return console.error("Error fetching activity logs:",s),[]}},ER=s=>{switch(s){case"yes":return"status-yes";case"no":return"status-no";case"undecided":return"status-undecided";default:return"status-default"}};function bR(){return b.jsxs("div",{className:"window-controls",children:[b.jsx("button",{onClick:()=>window.electronAPI.minimize(),children:""}),b.jsx("button",{onClick:()=>window.electronAPI.maximize(),children:""}),b.jsx("button",{onClick:()=>window.electronAPI.close(),className:"close",children:""})]})}function TR({user:s,status:t}){let i="status-false";return t==="yes"||t===!0?i="status-true":t==="undecided"&&(i="status-undecided"),b.jsx("div",{className:`status-card ${i}`,children:b.jsx("strong",{children:s})})}function wR({statuses:s,tomorrowDate:t,nextWorkingDayName:i}){const r=Object.entries(s).filter(([o,u])=>u.date===t);return b.jsxs("div",{className:"status-section",children:[b.jsx("h2",{className:"status-title-draggable",children:b.jsxs("span",{className:"status-title-text",children:["Status for ",i," (",t,")"]})}),b.jsx("div",{className:"status-grid",children:r.map(([o,u])=>b.jsx(TR,{user:o,status:u.status},o))})]})}const CR={LONG:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ra={DARK:"dark",SYSTEM:"system"},AR=3e4,NR=(s,t)=>{const i=JSON.parse(localStorage.getItem("notificationSettings"))||{};i[s]=t,localStorage.setItem("notificationSettings",JSON.stringify(i))},gy=s=>(JSON.parse(localStorage.getItem("notificationSettings"))||{})[s]||[],RR=(s,t)=>{const i=JSON.parse(localStorage.getItem("notificationSettings"))||{};i[s]&&(i[t]=i[s],delete i[s],localStorage.setItem("notificationSettings",JSON.stringify(i)))},bi=(s,t)=>{localStorage.setItem(s,typeof t=="boolean"?t.toString():t)},ls=(s,t=null)=>{const i=localStorage.getItem(s);return i===null?t:i==="true"?!0:i==="false"?!1:i},DR=()=>{const[s,t]=q.useState(ra.SYSTEM),[i,r]=q.useState(ra.SYSTEM);return q.useEffect(()=>{const u=ls("theme",ra.SYSTEM);if(r(u),window.electronAPI){const h=async()=>{if(u===ra.SYSTEM)try{const g=await window.electronAPI.getSystemTheme();t(g),document.documentElement.setAttribute("data-theme",g)}catch{console.log("Could not get system theme, defaulting to dark"),t(ra.DARK),document.documentElement.setAttribute("data-theme",ra.DARK)}else t(u),document.documentElement.setAttribute("data-theme",u);window.electronAPI.setTheme(u)},m=g=>{t(g),document.documentElement.setAttribute("data-theme",g)};window.electronAPI.onThemeChanged(m),h()}},[]),{theme:s,themeSetting:i,handleThemeChange:u=>{const h=u.target?u.target.value:u;r(h),bi("theme",h),window.electronAPI&&window.electronAPI.setTheme(h)}}},OR=()=>{const[s,t]=q.useState(!1),[i,r]=q.useState(!0),[o,u]=q.useState(!1),[h,m]=q.useState("window");return q.useEffect(()=>{if((async()=>{if(window.electronAPI?.getSetting){const y=await window.electronAPI.getSetting("startup",!0),k=await window.electronAPI.getSetting("launchInTray",!1),z=await window.electronAPI.getSetting("defaultLaunchOption","window");r(y),u(k),m(z),bi("launchAtStartup",y),bi("launchInTray",k),bi("defaultLaunchOption",z)}else r(ls("launchAtStartup",!0)),u(ls("launchInTray",!1)),m(ls("defaultLaunchOption","window"))})(),window.electronAPI?.onWindowStateChanged&&window.electronAPI.onWindowStateChanged(y=>{t(y.maximized)}),window.electronAPI?.onGetSettingsForTrayLaunch){const y=()=>{const k={defaultLaunchOption:ls("defaultLaunchOption","window")};window.electronAPI.sendTrayLaunchSettings(k)};window.electronAPI.onGetSettingsForTrayLaunch(y)}},[]),{isMaximized:s,launchAtStartup:i,launchInTray:o,defaultLaunchOption:h,handleStartupToggle:E=>{const y=E.target?E.target.checked:E;r(y),bi("launchAtStartup",y),window.electronAPI?.setStartup&&window.electronAPI.setStartup(y)},handleLaunchInTrayToggle:E=>{const y=E.target?E.target.checked:E;u(y),bi("launchInTray",y),window.electronAPI&&window.electronAPI.setLaunchInTray(y)},handleDefaultLaunchOptionChange:E=>{const y=E.target?E.target.value:E;m(y),bi("defaultLaunchOption",y),window.electronAPI&&window.electronAPI.setDefaultLaunchOption(y)}}},IR=()=>{const[s,t]=q.useState("none");return q.useEffect(()=>{const o=ls("notificationSound","none");t(o),window.electronAPI?.onSoundError&&window.electronAPI.onSoundError(u=>{alert(`Sound Error: ${u}

Please add the sound files to the electron/sounds/ folder.`)})},[]),{notificationSound:s,handleNotificationSoundChange:o=>{const u=o.target?o.target.value:o;t(u),bi("notificationSound",u),window.electronAPI&&window.electronAPI.setNotificationSound(u)},previewNotificationSound:()=>{s!=="none"&&window.electronAPI&&window.electronAPI.previewNotificationSound(s)}}},_y=()=>new Date().toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0}),HS=()=>{const t=new Date().getDay();let i=1;return t===5?i=3:t===6?i=2:t===0&&(i=1),new Date(Date.now()+i*864e5)},MR=s=>CR.LONG[s.getDay()],xR=()=>HS().toISOString().split("T")[0],kR=()=>{const s=HS();return MR(s)},UR=(s,t)=>{const r=Object.entries(s).filter(([k,z])=>z.date===t).length,o=520,u=40,m=Math.ceil(r/4),S=Math.min(m,3)*u+80,y=o+S+510;return Math.min(Math.max(y,700),800)};function LR(){const[s,t]=q.useState(""),[i,r]=q.useState(null),[o,u]=q.useState({}),[h,m]=q.useState(!1),[g,p]=q.useState(""),[S,E]=q.useState(""),[y,k]=q.useState([]),[z,W]=q.useState(!1),[ne,ke]=q.useState(""),[Ue,ye]=q.useState(null),[lt,ae]=q.useState(!1),[dt,ot]=q.useState(null),[yt,Tt]=q.useState(!1),[Ne,Mt]=q.useState(!1),[ze,En]=q.useState(()=>{const L=localStorage.getItem("sidebarWidth");return L?parseInt(L):300}),[on,Xe]=q.useState([]),[O,j]=q.useState(null),[F,ve]=q.useState(0),[T,U]=q.useState(!1),[B,P]=q.useState({isChecking:!1,lastChecked:null,result:null}),[Q,de]=q.useState("1.0.0"),[ee,Ge]=q.useState({phase:null,percent:0,message:""}),{themeSetting:Oe,handleThemeChange:cn}=DR(),{notificationSound:ps,handleNotificationSoundChange:gs,previewNotificationSound:Ra}=IR(),{isMaximized:Ye,launchAtStartup:Da,launchInTray:gc,defaultLaunchOption:_c,handleStartupToggle:Bt,handleLaunchInTrayToggle:yc,handleDefaultLaunchOptionChange:al}=OR(),un=xR(),Hi=kR(),Zt=q.useCallback(async()=>{const L=Date.now();if(O&&L-F<AR){Xe(O);return}const G=await SR();Xe(G),j(G),ve(L)},[O,F]);q.useEffect(()=>{(async()=>{try{if(window.electronAPI?.getAppVersion){const G=await window.electronAPI.getAppVersion();de(G||"1.0.0")}}catch(G){console.error("Error getting app version:",G),de("1.0.0")}})()},[]),q.useEffect(()=>{Ne&&Zt()},[Ne,Zt]),q.useEffect(()=>{(async()=>{await Zt()})()},[Zt]);const rl=window.location.hash==="#sidebar",ll=()=>b.jsxs(b.Fragment,{children:[b.jsx("h3",{children:"Activity Log"}),b.jsx("div",{className:"activity-log-container",children:on.length===0?b.jsxs("p",{style:{color:"#888",textAlign:"center",marginTop:"2rem"},children:["No activity recorded yet.",b.jsx("br",{}),"Status changes will appear here."]}):on.map((L,G)=>b.jsxs("div",{className:"activity-day",children:[b.jsx("h4",{className:"activity-day-header",children:L.dayName}),L.entries.map((ie,te)=>b.jsxs("div",{className:"activity-entry",children:[b.jsx("span",{className:"activity-time",children:ie.time}),b.jsx("span",{className:`activity-message ${ie.colorClass}`,children:ie.message})]},te))]},L.date))})]}),ol=q.useRef(s);q.useEffect(()=>{ol.current=s},[s]);const Zn=q.useCallback(()=>UR(o,un),[o,un]);q.useEffect(()=>{if(window.electronAPI?.resizeWindow&&!Ye){const L=Zn();console.log("Resizing window to:",940,L),window.electronAPI.resizeWindow(940,L)}},[o,Ye,Zn]),q.useEffect(()=>{const L=ls("username");if(L){t(L),r(L),m(!0);const G=gy(L);k(G)}},[]),q.useEffect(()=>{(async()=>{try{await zS(),console.log("Authentication initialized successfully")}catch(G){console.error("Authentication failed:",G)}})()},[]),q.useEffect(()=>{const L=Pn(jn,"statuses");q1(L,G=>{const ie=G.val()||{};u(ie)})},[]),q.useEffect(()=>{if(s){const L=gy(s);k(L)}},[s]),q.useEffect(()=>{if(s)if(NR(s,y),y.length>0){const L=y.map(G=>{const ie=G.days.join(", ");return` ${G.time} on days: ${ie}`}).join(`
`);ke(`${s}, you have notifications set for:
${L}`)}else ke("")},[y,s]),q.useEffect(()=>{let L,G;const ie=()=>{const Se=new Date,Je=["D","L","Ma","Mi","J","V","S"][Se.getDay()],bn=Se.toTimeString().slice(0,5);y.forEach(Tn=>{Tn.time===bn&&Tn.days.includes(Je)&&window?.electronAPI?.sendNotificationPopup&&window.electronAPI.sendNotificationPopup()})};return(()=>{const Se=new Date,Je=(60-Se.getSeconds())*1e3-Se.getMilliseconds();L=setTimeout(()=>{ie(),G=setInterval(ie,6e4)},Je)})(),()=>{L&&clearTimeout(L),G&&clearInterval(G)}},[y]),q.useEffect(()=>{if(!window.electronAPI?.onPopupStatus)return;const L=async G=>{const ie=ol.current;if(!ie||!ie.trim())return;let te=G;typeof G=="boolean"&&(te=G?"yes":"no");const Se=Pn(jn,`statuses/${ie}`);try{await Lr(Se,{date:un,status:te,updatedAt:_y()}),await py(ie,te,un),j(null),Ne&&await Zt(),window.electronAPI?.refreshSidebarActivityLogs&&window.electronAPI.refreshSidebarActivityLogs()}catch(Je){console.error("Error saving from popup:",Je)}};return window.electronAPI.onPopupStatus(L),()=>{window.electronAPI.removePopupStatus?.(L)}},[]),q.useEffect(()=>{if(!window.electronAPI?.onWindowStateChanged)return;const L=G=>{setIsMaximized(G.maximized),G.maximized&&Ne&&!Ye&&window.electronAPI?.toggleSidebarWindow&&window.electronAPI.toggleSidebarWindow(!1)};window.electronAPI.onWindowStateChanged(L)},[Ne,Ye]),q.useEffect(()=>{if(!window.electronAPI?.onSidebarWindowClosed)return;const L=()=>{Mt(!1)};window.electronAPI.onSidebarWindowClosed(L)},[]),q.useEffect(()=>{const L=async()=>{if(rR()){const te=await LS();te.hasUpdate&&dR(te)&&(ye(te),ae(!0))}};(async()=>{if(window.electronAPI?.checkUpdateState)try{const te=await window.electronAPI.checkUpdateState();te&&(console.log("Post-update state detected:",te),Ge({phase:null,percent:0,message:""}),ae(!1),ot({success:!0,version:te.version,timestamp:te.timestamp}),Tt(!0))}catch(te){console.error("Error checking post-update state:",te)}})(),L();const ie=setInterval(L,7200*1e3);return()=>clearInterval(ie)},[]);const ct=async L=>{if(!s){alert("Please enter your name before confirming status.");return}try{await $o();const G=Pn(jn,`statuses/${s}`);await Lr(G,{date:un,status:L,updatedAt:_y()});const ie=Hi.toLowerCase()==="monday"?"Monday":"Tomorrow";let te="",Se="";switch(L){case"yes":te=`${s}, you confirmed that you're working from the office ${ie}.`,Se="green";break;case"no":te=`${s}, you confirmed that you're working from the home office ${ie}.`,Se="red";break;case"undecided":te=`${s}, you marked that you're not sure yet where you'll work ${ie}.`,Se="orange";break;default:te="Status saved.",Se="gray"}p(te),E(Se),await py(s,L,un),j(null),Ne&&await Zt(),window.electronAPI?.refreshSidebarActivityLogs&&window.electronAPI.refreshSidebarActivityLogs()}catch(G){console.error("Error saving:",G),p("An error occurred while saving status."),E("gray")}},fn=async()=>{if(!s){alert("Please enter a name.");return}if(i&&i!==s)try{await $o();const L=Pn(jn,`statuses/${i}`),G=await uc(L);if(G.exists()){const ie=G.val(),te=Pn(jn,`statuses/${s}`);await Lr(te,ie),await Jv(L),p(`${s} took over status from ${i}.`),E("blue")}RR(i,s)}catch(L){console.error("Error transferring status:",L),p("An error occurred while transferring the old status."),E("gray")}localStorage.setItem("username",s),m(!0),r(s)},vt=()=>{localStorage.removeItem("username"),m(!1),r(s),t("")};q.useEffect(()=>{window.electronAPI?.onSoundError&&window.electronAPI.onSoundError(L=>{alert(`Sound Error: ${L}

Please add the sound files to the electron/sounds/ folder.`)})},[]);const vc=()=>{k([...y,{time:"",days:[]}])},Sc=L=>{const G=[...y];G.splice(L,1),k(G)},Ec=L=>{cR(L),ae(!1),ye(null),Ge({phase:null,percent:0,message:""}),P(G=>({...G,result:null}))},_s=L=>{uR(L),ae(!1),ye(null),Ge({phase:null,percent:0,message:""}),P(G=>({...G,result:null}))},ys=async L=>{try{if(L.downloadUrl)Ge({phase:"downloading",percent:0,message:"Starting download..."}),await mR(L.downloadUrl);else throw window.open("https://github.com/moisalucian/office-or-home-office/releases/latest","_blank"),new Error("Auto-update not available, opened download page")}catch(G){throw console.error("Update failed:",G),Ge({phase:null,percent:0,message:""}),G}},hn=async()=>{P(L=>({...L,isChecking:!0}));try{const L=await pR();P({isChecking:!1,lastChecked:new Date,result:L}),L.hasUpdate&&(ye(L),ae(!0))}catch(L){console.error("Manual update check failed:",L),P({isChecking:!1,lastChecked:new Date,result:{hasUpdate:!1,error:L.message}})}},vs=()=>{Tt(!1),ot(null)},Pi=()=>{Tt(!1),ot(null),hn()},bc=()=>{window.open("https://github.com/moisalucian/office-or-home-office/releases/latest","_blank")};q.useEffect(()=>{if(window.electronAPI){const L=()=>{const G={defaultLaunchOption:localStorage.getItem("defaultLaunchOption")||"window"};window.electronAPI.sendTrayLaunchSettings(G)};window.electronAPI.onGetSettingsForTrayLaunch(L)}},[]);const cl=()=>{if(Ye)Mt(!Ne);else{const L=!Ne;Mt(L),window.electronAPI?.toggleSidebarWindow&&window.electronAPI.toggleSidebarWindow(L)}};if(q.useEffect(()=>{const L=()=>{document.body.style.userSelect="",document.body.style.cursor=""};return Ne||L(),L},[Ne]),rl){const[L,G]=q.useState(!0);return q.useEffect(()=>{const ie=async()=>{const Se=localStorage.getItem("theme")||"dark";if(Se==="system")try{const Je=await window.electronAPI.getSystemTheme();document.documentElement.setAttribute("data-theme",Je)}catch{console.log("Could not get system theme for sidebar, defaulting to dark"),document.documentElement.setAttribute("data-theme","dark")}else document.documentElement.setAttribute("data-theme",Se)},te=Se=>{document.documentElement.setAttribute("data-theme",Se)};window.electronAPI?.onThemeChanged&&window.electronAPI.onThemeChanged(te),ie()},[]),q.useEffect(()=>{(async()=>{G(!1),await Zt()})();const te=async()=>{await Zt()};window.electronAPI?.onRefreshActivityLogs&&window.electronAPI.onRefreshActivityLogs(te)},[Zt]),q.useEffect(()=>{(async()=>{const te=localStorage.getItem("theme")||"dark";if(te==="system")try{const Se=await window.electronAPI.getSystemTheme();document.documentElement.setAttribute("data-theme",Se)}catch{document.documentElement.setAttribute("data-theme","dark")}else document.documentElement.setAttribute("data-theme",te)})(),window.electronAPI?.onThemeChanged&&window.electronAPI.onThemeChanged(te=>{document.documentElement.setAttribute("data-theme",te)})},[]),b.jsx("div",{className:"sidebar-window",children:b.jsx("div",{className:"sidebar-content",children:b.jsx(ll,{})})})}return b.jsxs("div",{className:`container ${Ye?"maximized":""}`,children:[b.jsx(bR,{}),b.jsx("button",{className:`sidebar-toggle ${Ye?"maximized":"normal"} ${Ne&&Ye?"open":""}`,onClick:cl,title:"Toggle Activity Log",children:Ye?Ne?"":"":""}),b.jsx("button",{className:"settings-icon",onClick:()=>U(!T),title:"Settings",children:""}),Ye&&b.jsx("div",{className:"sidebar-maximized",style:{width:Ne?`${ze}px`:"0px"},children:Ne&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"sidebar-content",children:b.jsx(ll,{})}),b.jsx("div",{className:"sidebar-resize-handle",onMouseDown:L=>{const G=L.clientX,ie=ze,te=Je=>{const bn=ie+(Je.clientX-G),Tn=Math.max(200,Math.min(600,bn));En(Tn),localStorage.setItem("sidebarWidth",Tn)},Se=()=>{document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",Se)};document.addEventListener("mousemove",te),document.addEventListener("mouseup",Se)}})]})}),lt&&Ue&&b.jsx(tR,{updateInfo:Ue,onDismiss:Ec,onPostpone:_s,onUpdateNow:ys,updateProgress:ee,onRestartNow:async()=>{if(window.electronAPI?.restartApp&&window.electronAPI?.markUpdateCompleted)try{const L=await window.electronAPI.getAppVersion();await window.electronAPI.markUpdateCompleted(L),window.electronAPI.restartApp()}catch(L){console.error("Error during restart process:",L)}},onRestartLater:()=>{ae(!1),ye(null),Ge({phase:null,percent:0,message:""}),P(L=>({...L,result:null}))}}),yt&&dt&&b.jsx(nR,{updateState:dt,onDismiss:vs,onRetryUpdate:Pi,onManualUpdate:bc}),T&&b.jsx("div",{className:"settings-overlay",onClick:()=>U(!1),children:b.jsxs("div",{className:"settings-popup",onClick:L=>L.stopPropagation(),children:[b.jsxs("div",{className:"settings-header",children:[b.jsx("h3",{children:" Settings"}),b.jsx("button",{className:"settings-close",onClick:()=>U(!1),children:""})]}),b.jsxs("div",{className:"settings-content",children:[b.jsx("div",{className:"setting-item",children:b.jsxs("div",{className:"setting-label",title:"Start the app when Windows starts",children:[b.jsx("span",{className:"setting-title",children:"Launch at startup"}),b.jsxs("label",{className:"toggle-switch",children:[b.jsx("input",{type:"checkbox",checked:Da,onChange:Bt}),b.jsx("span",{className:"toggle-slider"})]})]})}),b.jsx("div",{className:"setting-item",children:b.jsxs("div",{className:"setting-label",title:"Start minimized to system tray",children:[b.jsx("span",{className:"setting-title",children:"Launch in tray directly"}),b.jsxs("label",{className:"toggle-switch",children:[b.jsx("input",{type:"checkbox",checked:gc,onChange:yc}),b.jsx("span",{className:"toggle-slider"})]})]})}),b.jsx("div",{className:"setting-item",children:b.jsxs("div",{className:"setting-label",title:"How the app opens on startup",children:[b.jsx("span",{className:"setting-title",children:"Default launch option"}),b.jsxs("select",{className:"setting-select",value:_c,onChange:al,title:"How the app opens on startup",children:[b.jsx("option",{value:"window",children:"Window"}),b.jsx("option",{value:"maximized",children:"Full screen"})]})]})}),b.jsx("div",{className:"setting-item",children:b.jsxs("div",{className:"setting-label",title:"App appearance and colors",children:[b.jsx("span",{className:"setting-title",children:"Theme"}),b.jsxs("select",{className:"setting-select",value:Oe,onChange:cn,title:"App appearance and colors",children:[b.jsx("option",{value:"dark",children:"Dark"}),b.jsx("option",{value:"light",children:"Light"}),b.jsx("option",{value:"system",children:"System"})]})]})}),b.jsx("div",{className:"setting-item",children:b.jsxs("div",{className:"setting-label",title:"Sound played when notification popup appears",children:[b.jsx("span",{className:"setting-title",children:"Notification sound"}),b.jsxs("div",{className:"sound-setting-controls",children:[b.jsxs("select",{className:"setting-select",value:ps,onChange:gs,title:"Sound played when notification popup appears",children:[b.jsx("option",{value:"none",children:"None"}),b.jsx("option",{value:"alien-sound",children:"Alien Sound"}),b.jsx("option",{value:"bong-chime",children:"Bong Chime"}),b.jsx("option",{value:"cartoon-dash",children:"Cartoon Dash"}),b.jsx("option",{value:"drip-echo",children:"Drip Echo"}),b.jsx("option",{value:"glass-ding",children:"Glass Ding"}),b.jsx("option",{value:"light-min",children:"Light Minimal"}),b.jsx("option",{value:"notification-chime",children:"Notification Chime"}),b.jsx("option",{value:"notification-sound-soft",children:"Soft Notification"}),b.jsx("option",{value:"oh-yeah",children:"Oh Yeah"}),b.jsx("option",{value:"sci-fi-bubble",children:"Sci-Fi Bubble"}),b.jsx("option",{value:"thai-bird",children:"Thai Bird"}),b.jsx("option",{value:"three-note-doorbell",children:"Three Note Doorbell"}),b.jsx("option",{value:"woohoo",children:"Woohoo"})]}),ps!=="none"&&b.jsx("button",{className:"play-sound-button",onClick:()=>Ra(),title:"Preview selected sound",children:""})]})]})}),b.jsx("div",{className:"setting-item",children:b.jsxs("div",{className:"setting-label",title:"Check for app updates",children:[b.jsx("span",{className:"setting-title",children:"App Updates"}),b.jsxs("div",{className:"update-setting-controls",children:[b.jsx("button",{className:"update-check-button",onClick:hn,disabled:B.isChecking,title:"Check for new app version",children:B.isChecking?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"loading-spinner",children:""}),"Checking..."]}):b.jsx(b.Fragment,{children:" Check for Updates"})}),B.result&&b.jsx("div",{className:"update-check-result",children:B.result.hasUpdate?b.jsx("span",{className:"update-available",children:" Update available!"}):B.result.error?b.jsx("span",{className:"update-error",children:" Check failed"}):b.jsx("span",{className:"update-latest",children:" You have the latest version"})})]})]})}),b.jsxs("div",{className:"settings-version-content",children:["Current Version: v",Q]})]})]})}),b.jsx("div",{className:`header-area ${Ye&&Ne?"sidebar-active":""}`,style:{"--header-margin-left":Ye&&Ne?`${ze}px`:"0px","--header-width":Ye&&Ne?`calc(100% - ${ze}px)`:"100%"},children:b.jsx("h1",{className:"title-draggable",children:b.jsx("span",{className:"title-text",children:"Office or Home Office"})})}),b.jsxs("div",{className:`content-area ${Ye&&Ne?"sidebar-active":""}`,style:{"--content-margin-left":Ye&&Ne?`${ze}px`:"0px","--content-width":Ye&&Ne?`calc(100% - ${ze}px)`:"100%"},children:[h?b.jsx("div",{className:"name-section-container",style:{marginBottom:"1rem"},children:b.jsxs("div",{className:"name-display-row",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"Name:"})," ",s]}),b.jsx("button",{className:"secondary",onClick:vt,children:"Edit Name"})]})}):b.jsx("div",{className:"name-input-container",style:{marginBottom:"1rem"},children:b.jsxs("div",{className:"name-input-section",children:[b.jsx("input",{type:"text",placeholder:"Your name",value:s,onChange:L=>t(L.target.value)}),b.jsx("button",{className:"primary",onClick:fn,children:"Save name"})]})}),b.jsxs("div",{className:"action-buttons",style:{marginBottom:"2rem",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[b.jsxs("div",{className:"button-row-container",style:{display:"flex",gap:"1rem",alignItems:"center"},children:[b.jsx("button",{className:"primary",style:{backgroundColor:"green",minWidth:"140px",height:"40px",padding:"0.6rem 1rem",whiteSpace:"nowrap"},onClick:()=>ct("yes"),children:"Office"}),b.jsx("button",{className:"primary",style:{backgroundColor:"red",minWidth:"140px",height:"40px",padding:"0.6rem 1rem",whiteSpace:"nowrap"},onClick:()=>ct("no"),children:"Home Office"})]}),b.jsx("div",{className:"button-row-container",style:{display:"flex",justifyContent:"center"},children:b.jsx("button",{className:"primary",style:{backgroundColor:"orange",minWidth:"140px",height:"40px",padding:"0.6rem 1rem"},onClick:()=>ct("undecided"),children:"Not Sure Yet"})})]}),ne&&b.jsx("div",{className:"notification-summary",style:{whiteSpace:"pre-line",color:"#2e7d32",textAlign:"center"},children:ne}),b.jsxs("div",{style:{marginBottom:"2rem"},children:[b.jsxs("div",{className:"accordion-header",onClick:()=>W(!z),children:["Push-up Notifications ",z?"":""]}),z&&b.jsxs("div",{className:"notifications-container",children:[y.map((L,G)=>b.jsx("div",{className:"notification-card",children:b.jsxs("div",{className:"notification-row",children:[b.jsx("input",{type:"time",value:L.time,onChange:ie=>{const te=[...y];te[G].time=ie.target.value,k(te)}}),b.jsx("span",{style:{fontSize:"0.85rem",minWidth:"30px"},children:"Zile:"}),b.jsx("div",{className:"checkbox-group",children:["L","Ma","Mi","J","V"].map((ie,te)=>b.jsxs("label",{children:[b.jsx("input",{type:"checkbox",checked:L.days.includes(ie),onChange:Se=>{const Je=[...y];Se.target.checked?Je[G].days.push(ie):Je[G].days=Je[G].days.filter(bn=>bn!==ie),k(Je)}}),ie]},te))}),b.jsx("button",{className:"danger",onClick:()=>Sc(G),title:"Delete notification",style:{fontSize:"1rem",minWidth:"30px"},children:""})]})},G)),b.jsx("div",{style:{textAlign:"center",marginTop:"1rem"},children:b.jsx("button",{className:"primary",onClick:vc,children:"+ Add notification"})})]})]}),g&&b.jsx("div",{className:"status-message",style:{color:S,marginTop:"10px",textAlign:"center"},children:g}),b.jsx(wR,{statuses:o,tomorrowDate:un,nextWorkingDayName:Hi}),b.jsxs("div",{className:"app-version",children:["v",Q]})]})]})}ab.createRoot(document.getElementById("root")).render(b.jsx(q.StrictMode,{children:b.jsx(LR,{})}));
